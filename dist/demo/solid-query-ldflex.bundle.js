var solid="object"==typeof solid?solid:{};solid.data=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=490)}([function(e,t,r){"use strict";(function(e){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),e&&e.env.COMUNICA_DEBUG||(Error.stackTraceLimit=!1),n(r(82)),n(r(213)),n(r(214)),n(r(215)),n(r(83)),n(r(216))}).call(this,r(11))},function(e,t,r){(t=e.exports=r(85)).Stream=t,t.Readable=t,t.Writable=r(89),t.Duplex=r(29),t.Transform=r(90),t.PassThrough=r(231),t.finished=r(58),t.pipeline=r(232)},function(e,t,r){var n=r(205);e.exports=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(142)),n(r(143)),n(r(322)),n(r(323))},function(e,t,r){(function(t){var n=r(41).EventEmitter,i=u.STATES=["INIT","OPEN","CLOSING","CLOSED","ENDED","DESTROYED"],s=0,a=1,o=4;function u(){if(!(this instanceof u))return new u;n.call(this),this.on("newListener",p),this._state=a,this._readable=!1}function c(e,t){e.emit(t)}function l(e,t){e._end(t)}function h(e){t(l,e)}function p(e){"data"===e&&(this.removeListener("newListener",p),this._addSingleListener("readable",d),this.readable&&t(f,d,this))}function d(){for(var e;this._hasListeners("data")&&null!==(e=this.read());)this.emit("data",e);this._hasListeners("data")||this.done||(this.removeListener("readable",d),this._addSingleListener("newListener",p))}function f(e,t){e.call(t)}function m(e,t,r){e.getProperty(r,(function(e){t.setProperty(r,e)}))}function y(){if(!(this instanceof y))return new y;u.call(this),this._changeState(o,!0)}function g(e){if(!(this instanceof g))return new g(e);u.call(this),this._item=e,null===e?this.close():this.readable=!0}function _(e){return this instanceof _?(u.call(this),e&&e.length>0?(this._buffer=Array.prototype.slice.call(e),void(this.readable=!0)):this.close()):new _(e)}function b(e){if(!(this instanceof b))return new b(e);u.call(this);var t,r=(e=e||{}).step,n=e.end,i=e.start;this._step=r=isFinite(r)?~~r:1,t=r>=0?1/0:-1/0,this._last=n=isFinite(n)?~~n:n===-t?n:t,this._next=i="number"!=typeof i?0:isFinite(i)?~~i:i,!isFinite(i)||(r>=0?i>n:i<n)?this.close():this.readable=!0}function v(e){if(!(this instanceof v))return new v(e);u.call(this);var r=(e=e||{}).maxBufferSize,n=e.autoStart;this._state=s,this._buffer=[],this._pushedCount=0,this.maxBufferSize=r,this._reading=!0,t(w,this,!1!==n||n)}function w(e,t){e._init(t)}function S(e){e._reading||(e._reading=!0,t(E,e))}function E(e){e._reading=!1,e._fillBuffer()}function T(e,t){if(!(this instanceof T))return new T(e,t);e&&F(e.read)||(t||(t=e),e=t&&t.source),v.call(this,t),e&&(this.source=e),this._optional=!(!t||!t.optional),this._destroySource=!t||!1!==t.destroySource}function x(){return this._source}function O(e){this._destination.emit("error",e)}function A(){this._destination._closeWhenDone()}function R(){this._destination._fillBuffer()}function P(e,t,r){var n,i=e._source;i&&!i.ended&&null!==(n=i.read())?e._optional?I(e,n,t):e._transform(n,t):r()}function I(e,t,r){var n=e._pushedCount;e._transform(t,(function(){n===e._pushedCount&&e._push(t),r()}))}function j(e,t){if(!(this instanceof j))return new j(e,t);if(T.call(this,e,t),t=t||!F(e&&e.read)&&e){var r=t.limit,n=t.offset,i=t.filter,s=t.map,a=F(t)?t:t.transform,o=t.prepend,u=t.append;n===1/0||r===-1/0?this._limit=0:(isFinite(n)&&(this._offset=Math.max(~~n,0)),isFinite(r)&&(this._limit=Math.max(~~r,0)),F(i)&&(this._filter=i),F(s)&&(this._map=s),F(a)&&(this._transform=a)),o&&(this._prepender=o.on?o:new _(o)),u&&(this._appender=u.on?u:new _(u))}}function N(e,t,r,n){var i,s=e._source;if(s&&!s.ended){for(0===e._limit&&e.close();!e.closed&&e._pushedCount<t&&null!==(i=s.read());)if(e._filter(i)&&(0===e._offset||!e._offset--)){var a=null===e._map?i:e._map(i);if(null===a)e._optional&&e._push(i);else{if(null!==e._transform)return void(e._optional?I(e,a,r):e._transform(a,r));e._push(a)}0==--e._limit&&e.close()}n()}else n()}function C(e,t){if(!(this instanceof C))return new C(e,t);T.call(this,e,t),this._transformerQueue=[]}function k(e){if(!(this instanceof k))return new k(e);u.call(this),this._readPosition=0,e&&(this.source=e)}function D(e,t,r,n){t.getProperty(r,(function(t){e._properties&&r in e._properties||n(t)}))}function M(e){var t,r=[];if(this.readAt=function(t){var n=null;return t<r.length?n=r[t]:e.ended||null===(n=e.read())||(r[t]=n),n},this.endsAt=function(t){return t===r.length&&e.ended},this.register=function(e){t&&t.push(e)},this.unregister=function(e){var r;t&&(r=t.indexOf(e))>=0&&t.splice(r,1)},!e.ended){function n(){for(var e=0;e<t.length;e++)t[e].readable=!0}function i(e){for(var r=0;r<t.length;r++)t[r].emit("error",e)}t=[],e.on("readable",n),e.on("end",(function s(){for(var a=0;a<t.length;a++)t[a]._readPosition===r.length&&t[a].close();t=null,e.removeListener("end",s),e.removeListener("error",i),e.removeListener("readable",n)})),e.on("error",i)}}function F(e){return"function"==typeof e}i.forEach((function(e,t){u[e]=t})),function e(t){t.prototype=Object.create(this.prototype,{constructor:{value:t,configurable:!0,writable:!0}}),t.subclass=e}.call(n,u),u.prototype._changeState=function(e,r){var n=e>this._state&&this._state<o;return n&&(this._state=e,e===o&&(r?t(c,this,"end"):this.emit("end"))),n},u.prototype.read=function(){return null},u.prototype.each=function(e,t){this.on("data",t?e.bind(t):e)},u.prototype._hasListeners=function(e){return this._events&&e in this._events},u.prototype._addSingleListener=function(e,t){var r=this._events&&this._events[e];r&&!(F(r)?r!==t:r.indexOf(t)<0)||this.on(e,t)},u.prototype.close=function(){this._changeState(3)&&h(this)},u.prototype.destroy=function(e){if(!this.done){var t=this;this._destroy(e,(function(r){(e=e||r)&&t.emit("error",e),l(t,!0)}))}},u.prototype._destroy=function(e,t){t()},u.prototype._end=function(e){this._changeState(e?5:o)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))},Object.defineProperty(u.prototype,"readable",{get:function(){return this._readable},set:function(e){e=!!e&&!this.done,this._readable!==e&&(this._readable=e,e&&t(c,this,"readable"))},enumerable:!0}),Object.defineProperty(u.prototype,"closed",{get:function(){return this._state>=2},enumerable:!0}),Object.defineProperty(u.prototype,"ended",{get:function(){return this._state===o},enumerable:!0}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return 5===this._state},enumerable:!0}),Object.defineProperty(u.prototype,"done",{get:function(){return this._state>=o},enumerable:!0}),u.prototype.getProperty=function(e,r){var n,i=this._properties;if(!r)return i&&i[e];i&&e in i?t(r,i[e]):((n=this._propertyCallbacks)||(this._propertyCallbacks=n=Object.create(null)),e in n?n[e].push(r):n[e]=[r])},u.prototype.setProperty=function(e,r){(this._properties||(this._properties=Object.create(null)))[e]=r;var n,i=this._propertyCallbacks;if(n=i&&i[e]){for(e in delete i[e],1===n.length?t(n[0],r):t((function(){for(var e=0;e<n.length;e++)n[e](r)})),i)return;delete this._propertyCallbacks}},u.prototype.getProperties=function(){var e=this._properties,t={};for(var r in e)t[r]=e[r];return t},u.prototype.setProperties=function(e){for(var t in e)this.setProperty(t,e[t])},u.prototype.copyProperties=function(e,t){for(var r=0;r<t.length;r++)m(e,this,t[r])},u.prototype.toString=function(){var e=this._toStringDetails();return"["+this.constructor.name+(e?" "+e+"]":"]")},u.prototype._toStringDetails=function(){},u.subclass(y),u.subclass(g),g.prototype.read=function(){var e=this._item;return this._item=null,this.close(),e},g.prototype._toStringDetails=function(){return null===this._item?"":"("+this._item+")"},u.subclass(_),_.prototype.read=function(){var e=this._buffer,t=null;return e&&(t=e.shift(),e.length||(delete this._buffer,this.close())),t},_.prototype._toStringDetails=function(){return"("+(this._buffer&&this._buffer.length||0)+")"},_.prototype._destroy=function(e,t){delete this._buffer,t()},u.subclass(b),b.prototype.read=function(){if(this.closed)return null;var e=this._next,t=this._step,r=this._last,n=this._next+=t;return(t>=0?n>r:n<r)&&this.close(),e},b.prototype._toStringDetails=function(){return"("+this._next+"..."+this._last+")"},u.range=function(e,t,r){return new b({start:e,end:t,step:r})},u.subclass(v),Object.defineProperty(v.prototype,"maxBufferSize",{set:function(e){e!==1/0&&(e=isFinite(e)?Math.max(~~e,1):4),this._maxBufferSize!==e&&(this._maxBufferSize=e,this._state===a&&this._fillBuffer())},get:function(){return this._maxBufferSize},enumerable:!0}),v.prototype._init=function(e){var t=this;this._reading=!0,this._begin((function(){if(!t)throw new Error("done callback called multiple times");t._reading=!1,t._changeState(a),e?S(t):t.readable=!0,t=null}))},v.prototype._begin=function(e){e()},v.prototype.read=function(){if(this.done)return null;var e,t=this._buffer;return t.length?e=t.shift():(e=null,this.readable=!1),!this._reading&&t.length<this._maxBufferSize&&(this.closed?t.length||h(this):S(this)),e},v.prototype._read=function(e,t){t()},v.prototype._push=function(e){this.done||(this._pushedCount++,this._buffer.push(e),this.readable=!0)},v.prototype._fillBuffer=function(){var e,t=this;this._reading||(this.closed?this._completeClose():(e=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(e,(function(){if(!e)throw new Error("done callback called multiple times");e=0,t._reading=!1,t.closed?t._completeClose():t._pushedCount&&(t.readable=!0,t._buffer.length<t._maxBufferSize/2&&S(t))}))))},v.prototype.close=function(){this._reading?this._changeState(2):this._completeClose()},v.prototype._completeClose=function(){if(this._changeState(3)){var e=this;this._reading=!0,this._flush((function(){if(!e._reading)throw new Error("done callback called multiple times");e._reading=!1,e._buffer.length||h(e)}))}},v.prototype._destroy=function(e,t){this._buffer=[],t()},v.prototype._flush=function(e){e()},v.prototype._toStringDetails=function(){var e=this._buffer,t=e.length;return"{"+(t?"next: "+e[0]+", ":"")+"buffer: "+t+"}"},v.subclass(T),Object.defineProperty(T.prototype,"source",{set:function(e){this._validateSource(e),this._source=e,e._destination=this,e.ended?this.close():(e.on("end",A),e.on("readable",R),e.on("error",O))},get:x,enumerable:!0}),T.prototype._validateSource=function(e,t){if(this._source)throw new Error("The source cannot be changed after it has been set");if(!e||!F(e.read)||!F(e.on))throw new Error("Invalid source: "+e);if(!t&&e._destination)throw new Error("The source already has a destination")},T.prototype._read=function(e,r){var n=this;P(n,(function i(){n._pushedCount<e&&!n.closed?t(P,n,i,r):r()}),r)},T.prototype._transform=function(e,t){this._push(e),t()},T.prototype._closeWhenDone=function(){this.close()},T.prototype._end=function(e){var t=this._source;t&&(t.removeListener("end",A),t.removeListener("error",O),t.removeListener("readable",R),delete t._destination,this._destroySource&&t.destroy()),v.prototype._end.call(this,e)},u.wrap=T,T.subclass(j),j.prototype._offset=0,j.prototype._limit=1/0,j.prototype._filter=function(){return!0},j.prototype._map=null,j.prototype._transform=null,j.prototype._read=function(e,r){var n=this;N(n,e,(function i(){t(N,n,e,i,r)}),r)},j.prototype._begin=function(e){this._insert(this._prepender,e),delete this._prepender},j.prototype._flush=function(e){this._insert(this._appender,e),delete this._appender},j.prototype._insert=function(e,t){var r=this;function n(e){r._push(e)}!e||e.ended?t():(e.on("data",n),e.on("end",(function r(){e.removeListener("data",n),e.removeListener("end",r),t()})))},u.prototype.transform=function(e){return new j(this,e)},u.prototype.map=function(e,t){return this.transform({map:t?e.bind(t):e})},u.prototype.filter=function(e,t){return this.transform({filter:t?e.bind(t):e})},u.prototype.prepend=function(e){return this.transform({prepend:e})},u.prototype.append=function(e){return this.transform({append:e})},u.prototype.surround=function(e,t){return this.transform({prepend:e,append:t})},u.prototype.skip=function(e){return this.transform({offset:e})},u.prototype.take=function(e){return this.transform({limit:e})},u.prototype.range=function(e,t){return this.transform({offset:e,limit:Math.max(t-e+1,0)})},T.subclass(C),C.prototype._read=function(e,t){for(var r,n,i,s=this._transformerQueue,a=this._source,o=this._optional;(n=s[0])&&n.transformer.ended;)o&&null!==n.item&&(this._push(n.item),e--),(i=(n=s.shift()).transformer).removeListener("end",R),i.removeListener("readable",R),i.removeListener("error",O);for(;a&&!a.ended&&s.length<this._maxBufferSize&&null!==(r=this._source.read());)(i=this._createTransformer(r)||new y)._destination=this,i.on("end",R),i.on("readable",R),i.on("error",O),s.push({transformer:i,item:r});if(n=s[0])for(i=n.transformer;e-- >0&&null!==(r=i.read());)this._push(r),o&&(n.item=null);else a&&a.ended&&this.close();t()},C.prototype._createTransformer=g,C.prototype._closeWhenDone=function(){this._transformerQueue.length||this.close()},T.subclass(k),Object.defineProperty(k.prototype,"source",{set:function(e){var t=e&&e._destination;this._validateSource(e,!t||t instanceof M),this._source=e,t||(t=e._destination=new M(e)),t.endsAt(0)?this.close():(t.register(this),null!==t.readAt(0)&&(this.readable=!0));var r=this._propertyCallbacks;for(var n in r)for(var i=r[n],s=0;s<i.length;s++)D(this,e,n,i[s])},get:x,enumerable:!0}),k.prototype.getProperty=function(e,t){var r=this._properties,n=this._source,i=r&&e in r;if(!t)return i?r[e]:n&&n.getProperty(e);u.prototype.getProperty.call(this,e,t),n&&!i&&D(this,n,e,t)},k.prototype.getProperties=function(){var e=this._source?this._source.getProperties():{},t=this._properties;for(var r in t)e[r]=t[r];return e},k.prototype._toStringDetails=function(){var e=this._source;return"{source: "+(e?e.toString():"none")+"}"},k.prototype.read=function(){var e=this._source,t=null;if(!this.done&&e){var r=e._destination;null!==(t=r.readAt(this._readPosition))?this._readPosition++:this.readable=!1,r.endsAt(this._readPosition)&&this.close()}return t},k.prototype._end=function(e){var t=this._source&&this._source._destination;t&&t.unregister(this),v.prototype._end.call(this,e)},k.prototype.close=u.prototype.close,u.prototype.clone=function(){return new k(this)},e.exports=u,u.AsyncIterator=u,u.EmptyIterator=u.empty=y,u.SingletonIterator=u.single=g,u.ArrayIterator=u.fromArray=_,u.IntegerIterator=b,u.BufferedIterator=v,u.TransformIterator=T,u.SimpleTransformIterator=j,u.MultiTransformIterator=C,u.ClonedIterator=k}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(304);t.getLiteralLanguage=n.getLiteralLanguage,t.getLiteralType=n.getLiteralType,t.getLiteralValue=n.getLiteralValue,t.quadToStringQuad=n.quadToStringQuad,t.stringQuadToQuad=n.stringQuadToQuad,t.stringToTerm=n.stringToTerm,t.termToString=n.termToString},function(e,t,r){"use strict";var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",s="http://www.w3.org/2000/10/swap/";t.a={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:s+"reify#forSome",forAll:s+"reify#forAll"},log:{implies:s+"log#implies"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(239))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(303);t.translate=n.default;const i=r(51);t.Algebra=i;const s=r(52);t.Factory=s.default;const a=r(310);t.toSparql=a.toSparql,t.toSparqlJs=a.toSparqlJs;const o=r(69);t.Util=o.default},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(t){var r=e.exports={};function n(){}r.nextTick=t,r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.prependListener=n,r.prependOnceListener=n,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(221),i=r(222),s=r(223);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=o(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=o(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?o(e,0):p(e,t);if("Buffer"===t.type&&s(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=o(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|d(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,i){var s,a=1,o=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,o/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(s=r;s<o;s++)if(c(e,s)===c(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===u)return l*a}else-1!==l&&(s-=s-l),l=-1}else for(r+u>o&&(r=o-u),s=r;s>=0;s--){for(var h=!0,p=0;p<u;p++)if(c(e,s+p)!==c(t,p)){h=!1;break}if(h)return s}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[r+a]=o}return a}function v(e,t,r,n){return z(U(t,e.length-r),e,r,n)}function w(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return z(H(t),e,r,n)}function T(e,t,r,n){return z(function(e,t){for(var r,n,i,s=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,a,o,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(s=e[i+1]))&&(u=(31&c)<<6|63&s)>127&&(l=u);break;case 3:s=e[i+1],a=e[i+2],128==(192&s)&&128==(192&a)&&(u=(15&c)<<12|(63&s)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(u=(15&c)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?o(e,t):void 0!==r?"string"==typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),o=Math.min(s,a),c=this.slice(n,i),l=e.slice(t,r),h=0;h<o;++h)if(c[h]!==l[h]){s=c[h],a=l[h];break}return s<a?-1:a<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=B(e[s]);return i}function j(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function k(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,s){return s||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,s){return s||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<r&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var s=r-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var a=u.isBuffer(e)?e:U(new u(e,n).toString()),o=a.length;for(s=0;s<r-t;++s)this[s+t]=a[s%o]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function H(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(10))},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new s(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(212),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(19);var s,a,o;t.TRUE_STR='"true"^^xsd:boolean',t.FALSE_STR='"false"^^xsd:boolean',t.EVB_ERR_STR='"not an dateTime"^^xsd:dateTime',function(e){e.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",e.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",e.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",e.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",e.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",e.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",e.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"}(s=t.TypeURL||(t.TypeURL={})),t.make=function(e){return n.namedNode(e)},function(e){e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger"}(a=t.NumericTypeURL||(t.NumericTypeURL={})),function(e){e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger"}(o=t.DerivedIntegerTypeURL||(t.DerivedIntegerTypeURL={})),t.NumericTypeURLs=i.Set(Object.values(a)),t.DerivedIntegerTypeURLs=i.Set(Object.values(o)),t.commonTerms={true:n.literal("true",n.namedNode(s.XSD_BOOLEAN)),false:n.literal("false",n.namedNode(s.XSD_BOOLEAN))},t.PrimitiveNumericTypes=i.Set(["integer","decimal","float","double"]),t.type=function(e){switch(e){case null:case void 0:case"":case s.XSD_ANY_URI:case s.XSD_STRING:return"string";case s.RDF_LANG_STRING:return"langString";case s.XSD_DATE_TIME:return"date";case s.XSD_BOOLEAN:return"boolean";case s.XSD_DECIMAL:return"decimal";case s.XSD_FLOAT:return"float";case s.XSD_DOUBLE:return"double";case s.XSD_INTEGER:case s.XSD_NON_POSITIVE_INTEGER:case s.XSD_NEGATIVE_INTEGER:case s.XSD_LONG:case s.XSD_INT:case s.XSD_SHORT:case s.XSD_BYTE:case s.XSD_NON_NEGATIVE_INTEGER:case s.XSD_UNSIGNED_LONG:case s.XSD_UNSIGNED_INT:case s.XSD_UNSIGNED_SHORT:case s.XSD_UNSIGNED_BYTE:case s.XSD_POSITIVE_INTEGER:return"integer";default:return"other"}};const u=i.Map([["integer",s.XSD_INTEGER],["float",s.XSD_FLOAT],["double",s.XSD_DOUBLE],["decimal",s.XSD_DECIMAL]]);var c,l,h;t.decategorize=function(e){return u.get(e)},function(e){e.NOT="!",e.UMINUS="UMINUS",e.UPLUS="UPLUS",e.EQUAL="=",e.NOT_EQUAL="!=",e.LT="<",e.GT=">",e.LTE="<=",e.GTE=">=",e.MULTIPLICATION="*",e.DIVISION="/",e.ADDITION="+",e.SUBTRACTION="-",e.IS_IRI="isiri",e.IS_BLANK="isblank",e.IS_LITERAL="isliteral",e.IS_NUMERIC="isnumeric",e.STR="str",e.LANG="lang",e.DATATYPE="datatype",e.STRDT="strdt",e.STRLANG="strlang",e.UUID="uuid",e.STRUUID="struuid",e.STRLEN="strlen",e.SUBSTR="substr",e.UCASE="ucase",e.LCASE="lcase",e.STRSTARTS="strstarts",e.STRENDS="strends",e.CONTAINS="contains",e.STRBEFORE="strbefore",e.STRAFTER="strafter",e.ENCODE_FOR_URI="encode_for_uri",e.LANG_MATCHES="langmatches",e.REGEX="regex",e.REPLACE="replace",e.ABS="abs",e.ROUND="round",e.CEIL="ceil",e.FLOOR="floor",e.RAND="rand",e.YEAR="year",e.MONTH="month",e.DAY="day",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.TIMEZONE="timezone",e.TZ="tz",e.MD5="md5",e.SHA1="sha1",e.SHA256="sha256",e.SHA384="sha384",e.SHA512="sha512"}(c=t.RegularOperator||(t.RegularOperator={})),function(e){e.BOUND="bound",e.IF="if",e.COALESCE="coalesce",e.LOGICAL_OR="||",e.LOGICAL_AND="&&",e.SAME_TERM="sameterm",e.IN="in",e.NOT_IN="notin",e.CONCAT="concat",e.NOW="now",e.IRI="iri",e.URI="uri",e.BNODE="BNODE"}(l=t.SpecialOperator||(t.SpecialOperator={})),t.RegularOperators=i.Set(Object.values(c)),t.SpecialOperators=i.Set(Object.values(l)),t.Operators=t.RegularOperators.union(t.SpecialOperators),function(e){e.COUNT="count",e.SUM="sum",e.MIN="min",e.MAX="max",e.AVG="avg",e.GROUP_CONCAT="group_concat",e.SAMPLE="sample"}(h=t.SetFunction||(t.SetFunction={})),t.SetFunctions=i.Set(Object.values(h)),t.NamedOperators=i.Set([s.XSD_STRING,s.XSD_FLOAT,s.XSD_DOUBLE,s.XSD_DECIMAL,s.XSD_INTEGER,s.XSD_DATE_TIME,s.XSD_DATE,s.XSD_BOOLEAN])},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(202)),n(r(76))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}t.ExpressionError=n,t.isExpressionError=function(e){return e instanceof n};t.InvalidLexicalForm=class extends n{constructor(e){super(`Invalid lexical form '${f(e)}'`),this.arg=e}};t.UnboundVariableError=class extends n{constructor(e,t){super(`Unbound variable '${f(e)}'`),this.variable=e,this.bindings=t}};t.EBVCoercionError=class extends n{constructor(e){super(`Cannot coerce term to EBV '${f(e)}'`),this.arg=e}};t.RDFEqualTypeError=class extends n{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}};t.CoalesceError=class extends n{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}};t.InError=class extends n{constructor(e){super("Some argument to IN errorred and none where equal. "+e.map(e=>`(${e.toString()}) `).join("and ")),this.errors=e}};t.InvalidArgumentTypes=class extends n{constructor(e,t){super(`Argument types not valid for operator: '${f(t)}' with '${f(e)}`),this.args=e,this.op=t}};t.CastError=class extends n{constructor(e,t){super(`Invalid cast: '${f(e)}' to '${f(t)}'`),this.arg=e}};t.InvalidTimezoneCall=class extends n{constructor(e){super(`TIMEZONE call on ${e} which has no timezone`),this.dateString=e}};t.IncompatibleLanguageOperation=class extends n{constructor(e,t){super(`Operation on incompatible language literals '${f(e)}' and '${f(t)}'`),this.arg1=e,this.arg2=t}};t.EmptyAggregateError=class extends n{constructor(){super("Empty aggregate expression")}};class i extends Error{constructor(e,t){super(`Programmer Error '${e}'`),this.payload=t}}t.UnexpectedError=i;class s extends Error{constructor(e){super(`Unimplemented feature '${e}!'`)}}t.UnimplementedError=s;class a extends Error{constructor(e,t){super(`The number of args does not match the arity of the operator '${f(t)}'.`),this.args=e,this.op=t}}t.InvalidArity=a;class o extends Error{constructor(e){super(`Invalid SPARQL Expression '${f(e)}'`)}}t.InvalidExpression=o;class u extends Error{constructor(e){super(`Invalid expression type for SPARQL Expression '${f(e)}'`),this.expr=e}}t.InvalidExpressionType=u;class c extends Error{constructor(e){super(`Invalid term type for term '${f(e)}'`),this.term=e}}t.InvalidTermType=c;class l extends Error{constructor(e){super(`Unknown operator: '${f(e)}`)}}t.UnknownOperator=l;class h extends Error{constructor(e){super(`Unknown named operator: '${f(e)}'`)}}t.UnknownNamedOperator=h;class p extends Error{constructor(e){super(`Aggregate expression ${f(e)} found, but no aggregate hook provided.`)}}t.NoAggregator=p;class d extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}function f(e){return JSON.stringify(e)}t.NoExistenceHook=d},function(e,t,r){var n=r(12),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),s(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(237))},function(e,t,r){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return a(e)?e:G(e)}function n(e){return o(e)?e:X(e)}function i(e){return u(e)?e:$(e)}function s(e){return a(e)&&!c(e)?e:Y(e)}function a(e){return!(!e||!e[h])}function o(e){return!(!e||!e[p])}function u(e){return!(!e||!e[d])}function c(e){return o(e)||u(e)}function l(e){return!(!e||!e[f])}t(n,r),t(i,r),t(s,r),r.isIterable=a,r.isKeyed=o,r.isIndexed=u,r.isAssociative=c,r.isOrdered=l,r.Keyed=n,r.Indexed=i,r.Set=s;var h="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m=5,y=1<<m,g=y-1,_={},b={value:!1},v={value:!1};function w(e){return e.value=!1,e}function S(e){e&&(e.value=!0)}function E(){}function T(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function x(e){return void 0===e.size&&(e.size=e.__iterate(A)),e.size}function O(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?x(e)+t:t}function A(){return!0}function R(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function P(e,t){return j(e,t,0)}function I(e,t){return j(e,t,t)}function j(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var N=0,C=1,k=2,D="function"==typeof Symbol&&Symbol.iterator,M="@@iterator",F=D||M;function L(e){this.next=e}function q(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function B(){return{value:void 0,done:!0}}function U(e){return!!V(e)}function H(e){return e&&"function"==typeof e.next}function z(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(D&&e[D]||e[M]);if("function"==typeof t)return t}function Q(e){return e&&"number"==typeof e.length}function G(e){return null==e?se():a(e)?e.toSeq():function(e){var t=ue(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function X(e){return null==e?se().toKeyedSeq():a(e)?o(e)?e.toSeq():e.fromEntrySeq():ae(e)}function $(e){return null==e?se():a(e)?o(e)?e.entrySeq():e.toIndexedSeq():oe(e)}function Y(e){return(null==e?se():a(e)?o(e)?e.entrySeq():e:oe(e)).toSetSeq()}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=N,L.VALUES=C,L.ENTRIES=k,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[F]=function(){return this},t(G,r),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ce(this,e,t,!0)},G.prototype.__iterator=function(e,t){return le(this,e,t,!0)},t(X,G),X.prototype.toKeyedSeq=function(){return this},t($,G),$.of=function(){return $(arguments)},$.prototype.toIndexedSeq=function(){return this},$.prototype.toString=function(){return this.__toString("Seq [","]")},$.prototype.__iterate=function(e,t){return ce(this,e,t,!1)},$.prototype.__iterator=function(e,t){return le(this,e,t,!1)},t(Y,G),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},G.isSeq=ie,G.Keyed=X,G.Set=Y,G.Indexed=$;var W,J,K,Z="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ne(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[Z])}function se(){return W||(W=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():H(e)?new ne(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function oe(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){return Q(e)?new ee(e):H(e)?new ne(e):U(e)?new re(e):void 0}function ce(e,t,r,n){var i=e._cache;if(i){for(var s=i.length-1,a=0;a<=s;a++){var o=i[r?s-a:a];if(!1===t(o[1],n?o[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function le(e,t,r,n){var i=e._cache;if(i){var s=i.length-1,a=0;return new L((function(){var e=i[r?s-a:a];return a++>s?{value:void 0,done:!0}:q(t,n?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,r)}function he(e,t){return t?function e(t,r,n,i){return Array.isArray(r)?t.call(i,n,$(r).map((function(n,i){return e(t,n,i,r)}))):de(r)?t.call(i,n,X(r).map((function(n,i){return e(t,n,i,r)}))):r}(t,e,"",{"":e}):pe(e)}function pe(e){return Array.isArray(e)?$(e).map(pe).toList():de(e)?X(e).map(pe).toMap():e}function de(e){return e&&(e.constructor===Object||void 0===e.constructor)}function fe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||o(e)!==o(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!c(e);if(l(e)){var n=e.entries();return t.every((function(e,t){var i=n.next().value;return i&&fe(i[1],e)&&(r||fe(i[0],t))}))&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var s=e;e=t,t=s}var h=!0,p=t.__iterate((function(t,n){if(r?!e.has(t):i?!fe(t,e.get(n,_)):!fe(e.get(n,_),t))return h=!1,!1}));return h&&e.size===p}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(J)return J;J=this}}function ge(e,t){if(!e)throw new Error(t)}function _e(e,t,r){if(!(this instanceof _e))return new _e(e,t,r);if(ge(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(K)return K;K=this}}function be(){throw TypeError("Abstract")}function ve(){}function we(){}function Se(){}G.prototype[Z]=!0,t(ee,$),ee.prototype.get=function(e,t){return this.has(e)?this._array[O(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===e(r[t?n-i:i],i,this))return i+1;return i},ee.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,i=0;return new L((function(){return i>n?{value:void 0,done:!0}:q(e,i,r[t?n-i++:i++])}))},t(te,X),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length-1,s=0;s<=i;s++){var a=n[t?i-s:s];if(!1===e(r[a],a,this))return s+1}return s},te.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length-1,s=0;return new L((function(){var a=n[t?i-s:s];return s++>i?{value:void 0,done:!0}:q(e,a,r[a])}))},te.prototype[f]=!0,t(re,$),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=z(this._iterable),n=0;if(H(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=z(this._iterable);if(!H(r))return new L(B);var n=0;return new L((function(){var t=r.next();return t.done?t:q(e,n++,t.value)}))},t(ne,$),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,i=this._iteratorCache,s=0;s<i.length;)if(!1===e(i[s],s++,this))return s;for(;!(r=n.next()).done;){var a=r.value;if(i[s]=a,!1===e(a,s++,this))break}return s},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,i=0;return new L((function(){if(i>=n.length){var t=r.next();if(t.done)return t;n[i]=t.value}return q(e,i,n[i++])}))},t(ye,$),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return fe(this._value,e)},ye.prototype.slice=function(e,t){var r=this.size;return R(e,t,r)?this:new ye(this._value,I(t,r)-P(e,r))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return fe(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return fe(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},ye.prototype.__iterator=function(e,t){var r=this,n=0;return new L((function(){return n<r.size?q(e,n++,r._value):{value:void 0,done:!0}}))},ye.prototype.equals=function(e){return e instanceof ye?fe(this._value,e._value):me(e)},t(_e,$),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+O(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return R(e,t,this.size)?this:(e=P(e,this.size),(t=I(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,s=0;s<=r;s++){if(!1===e(i,s,this))return s+1;i+=t?-n:n}return s},_e.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,s=0;return new L((function(){var a=i;return i+=t?-n:n,s>r?{value:void 0,done:!0}:q(e,s++,a)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(be,r),t(ve,be),t(we,be),t(Se,be),be.Keyed=ve,be.Indexed=we,be.Set=Se;var Ee="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function Te(e){return e>>>1&1073741824|3221225471&e}function xe(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return Te(r)}if("string"===t)return e.length>Ce?function(e){var t=Me[e];return void 0===t&&(t=Oe(e),De===ke&&(De=0,Me={}),De++,Me[e]=t),t}(e):Oe(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Ie&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++je,1073741824&je&&(je=0),Ie)Ae.set(e,t);else{if(void 0!==Re&&!1===Re(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}(e);if("function"==typeof e.toString)return Oe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Oe(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Te(t)}var Ae,Re=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Ie="function"==typeof WeakMap;Ie&&(Ae=new WeakMap);var je=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var Ce=16,ke=255,De=0,Me={};function Fe(e){ge(e!==1/0,"Cannot perform this action with an infinite size.")}function Le(e){return null==e?Ke():qe(e)&&!l(e)?e:Ke().withMutations((function(t){var r=n(e);Fe(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function qe(e){return!(!e||!e[Ue])}t(Le,ve),Le.of=function(){var t=e.call(arguments,0);return Ke().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},Le.prototype.toString=function(){return this.__toString("Map {","}")},Le.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Le.prototype.set=function(e,t){return Ze(this,e,t)},Le.prototype.setIn=function(e,t){return this.updateIn(e,_,(function(){return t}))},Le.prototype.remove=function(e){return Ze(this,e,_)},Le.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return _}))},Le.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},Le.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=function e(t,r,n,i){var s=t===_,a=r.next();if(a.done){var o=s?n:t,u=i(o);return u===o?t:u}ge(s||t&&t.set,"invalid keyPath");var c=a.value,l=s?_:t.get(c,_),h=e(l,r,n,i);return h===l?t:h===_?t.remove(c):(s?Ke():t).set(c,h)}(this,nr(e),t,r);return n===_?void 0:n},Le.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ke()},Le.prototype.merge=function(){return nt(this,void 0,arguments)},Le.prototype.mergeWith=function(t){var r=e.call(arguments,1);return nt(this,t,r)},Le.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,Ke(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]}))},Le.prototype.mergeDeep=function(){return nt(this,it,arguments)},Le.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return nt(this,st(t),r)},Le.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,Ke(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]}))},Le.prototype.sort=function(e){return Pt(Gt(this,e))},Le.prototype.sortBy=function(e,t){return Pt(Gt(this,t,e))},Le.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Le.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},Le.prototype.asImmutable=function(){return this.__ensureOwner()},Le.prototype.wasAltered=function(){return this.__altered},Le.prototype.__iterator=function(e,t){return new $e(this,e,t)},Le.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},Le.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Je(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Le.isMap=qe;var Be,Ue="@@__IMMUTABLE_MAP__@@",He=Le.prototype;function ze(e,t){this.ownerID=e,this.entries=t}function Ve(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function Qe(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function Ge(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function Xe(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function $e(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&We(e._root)}function Ye(e,t){return q(e,t[0],t[1])}function We(e,t){return{node:e,index:0,__prev:t}}function Je(e,t,r,n){var i=Object.create(He);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Ke(){return Be||(Be=Je(0))}function Ze(e,t,r){var n,i;if(e._root){var s=w(b),a=w(v);if(n=et(e._root,e.__ownerID,0,void 0,t,r,s,a),!a.value)return e;i=e.size+(s.value?r===_?-1:1:0)}else{if(r===_)return e;i=1,n=new ze(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Je(i,n):Ke()}function et(e,t,r,n,i,s,a,o){return e?e.update(t,r,n,i,s,a,o):s===_?e:(S(o),S(a),new Xe(t,n,[i,s]))}function tt(e){return e.constructor===Xe||e.constructor===Ge}function rt(e,t,r,n,i){if(e.keyHash===n)return new Ge(t,n,[e.entry,i]);var s,a=(0===r?e.keyHash:e.keyHash>>>r)&g,o=(0===r?n:n>>>r)&g;return new Ve(t,1<<a|1<<o,a===o?[rt(e,t,r+m,n,i)]:(s=new Xe(t,n,i),a<o?[e,s]:[s,e]))}function nt(e,t,r){for(var i=[],s=0;s<r.length;s++){var o=r[s],u=n(o);a(o)||(u=u.map((function(e){return he(e)}))),i.push(u)}return at(e,t,i)}function it(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):fe(e,t)?e:t}function st(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var i=e(t,r,n);return fe(t,i)?t:i}}function at(e,t,r){return 0===(r=r.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var n=t?function(r,n){e.update(n,_,(function(e){return e===_?r:t(e,r,n)}))}:function(t,r){e.set(r,t)},i=0;i<r.length;i++)r[i].forEach(n)})):e.constructor(r[0])}function ot(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function ut(e,t,r,n){var i=n?e:T(e);return i[t]=r,i}He[Ue]=!0,He.delete=He.remove,He.removeIn=He.deleteIn,ze.prototype.get=function(e,t,r,n){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(fe(r,i[s][0]))return i[s][1];return n},ze.prototype.update=function(e,t,r,n,i,s,a){for(var o=i===_,u=this.entries,c=0,l=u.length;c<l&&!fe(n,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:o)return this;if(S(a),(o||!h)&&S(s),!o||1!==u.length){if(!h&&!o&&u.length>=ct)return function(e,t,r,n){e||(e=new E);for(var i=new Xe(e,xe(r),[r,n]),s=0;s<t.length;s++){var a=t[s];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,u,n,i);var p=e&&e===this.ownerID,d=p?u:T(u);return h?o?c===l-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),p?(this.entries=d,this):new ze(e,d)}},Ve.prototype.get=function(e,t,r,n){void 0===t&&(t=xe(r));var i=1<<((0===e?t:t>>>e)&g),s=this.bitmap;return 0==(s&i)?n:this.nodes[ot(s&i-1)].get(e+m,t,r,n)},Ve.prototype.update=function(e,t,r,n,i,s,a){void 0===r&&(r=xe(n));var o=(0===t?r:r>>>t)&g,u=1<<o,c=this.bitmap,l=0!=(c&u);if(!l&&i===_)return this;var h=ot(c&u-1),p=this.nodes,d=l?p[h]:void 0,f=et(d,e,t+m,r,n,i,s,a);if(f===d)return this;if(!l&&f&&p.length>=lt)return function(e,t,r,n,i){for(var s=0,a=new Array(y),o=0;0!==r;o++,r>>>=1)a[o]=1&r?t[s++]:void 0;return a[n]=i,new Qe(e,s+1,a)}(e,p,c,o,f);if(l&&!f&&2===p.length&&tt(p[1^h]))return p[1^h];if(l&&f&&1===p.length&&tt(f))return f;var b=e&&e===this.ownerID,v=l?f?c:c^u:c|u,w=l?f?ut(p,h,f,b):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),s=0,a=0;a<n;a++)a===t&&(s=1),i[a]=e[a+s];return i}(p,h,b):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var s=new Array(i),a=0,o=0;o<i;o++)o===t?(s[o]=r,a=-1):s[o]=e[o+a];return s}(p,h,f,b);return b?(this.bitmap=v,this.nodes=w,this):new Ve(e,v,w)},Qe.prototype.get=function(e,t,r,n){void 0===t&&(t=xe(r));var i=(0===e?t:t>>>e)&g,s=this.nodes[i];return s?s.get(e+m,t,r,n):n},Qe.prototype.update=function(e,t,r,n,i,s,a){void 0===r&&(r=xe(n));var o=(0===t?r:r>>>t)&g,u=i===_,c=this.nodes,l=c[o];if(u&&!l)return this;var h=et(l,e,t+m,r,n,i,s,a);if(h===l)return this;var p=this.count;if(l){if(!h&&--p<ht)return function(e,t,r,n){for(var i=0,s=0,a=new Array(r),o=0,u=1,c=t.length;o<c;o++,u<<=1){var l=t[o];void 0!==l&&o!==n&&(i|=u,a[s++]=l)}return new Ve(e,i,a)}(e,c,p,o)}else p++;var d=e&&e===this.ownerID,f=ut(c,o,h,d);return d?(this.count=p,this.nodes=f,this):new Qe(e,p,f)},Ge.prototype.get=function(e,t,r,n){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(fe(r,i[s][0]))return i[s][1];return n},Ge.prototype.update=function(e,t,r,n,i,s,a){void 0===r&&(r=xe(n));var o=i===_;if(r!==this.keyHash)return o?this:(S(a),S(s),rt(this,e,t,r,[n,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!fe(n,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:o)return this;if(S(a),(o||!h)&&S(s),o&&2===l)return new Xe(e,this.keyHash,u[1^c]);var p=e&&e===this.ownerID,d=p?u:T(u);return h?o?c===l-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),p?(this.entries=d,this):new Ge(e,this.keyHash,d)},Xe.prototype.get=function(e,t,r,n){return fe(r,this.entry[0])?this.entry[1]:n},Xe.prototype.update=function(e,t,r,n,i,s,a){var o=i===_,u=fe(n,this.entry[0]);return(u?i===this.entry[1]:o)?this:(S(a),o?void S(s):u?e&&e===this.ownerID?(this.entry[1]=i,this):new Xe(e,this.keyHash,[n,i]):(S(s),rt(this,e,t,xe(n),[n,i])))},ze.prototype.iterate=Ge.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},Ve.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var s=r[t?i-n:n];if(s&&!1===s.iterate(e,t))return!1}},Xe.prototype.iterate=function(e,t){return e(this.entry)},t($e,L),$e.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,i=t.index++;if(n.entry){if(0===i)return Ye(e,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return Ye(e,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var s=n.nodes[this._reverse?r-i:i];if(s){if(s.entry)return Ye(e,s.entry);t=this._stack=We(s,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ct=y/4,lt=y/2,ht=y/4;function pt(e){var t=St();if(null==e)return t;if(dt(e))return e;var r=i(e),n=r.size;return 0===n?t:(Fe(n),n>0&&n<y?wt(0,n,m,null,new yt(r.toArray())):t.withMutations((function(e){e.setSize(n),r.forEach((function(t,r){return e.set(r,t)}))})))}function dt(e){return!(!e||!e[ft])}t(pt,we),pt.of=function(){return this(arguments)},pt.prototype.toString=function(){return this.__toString("List [","]")},pt.prototype.get=function(e,t){if((e=O(this,e))>=0&&e<this.size){var r=xt(this,e+=this._origin);return r&&r.array[e&g]}return t},pt.prototype.set=function(e,t){return function(e,t,r){if((t=O(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ot(e,t).set(0,r):Ot(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,i=e._root,s=w(v);return t>=Rt(e._capacity)?n=Et(n,e.__ownerID,0,t,r,s):i=Et(i,e.__ownerID,e._level,t,r,s),s.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):wt(e._origin,e._capacity,e._level,i,n):e}(this,e,t)},pt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},pt.prototype.insert=function(e,t){return this.splice(e,0,t)},pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):St()},pt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){Ot(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},pt.prototype.pop=function(){return Ot(this,0,-1)},pt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ot(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},pt.prototype.shift=function(){return Ot(this,1)},pt.prototype.merge=function(){return At(this,void 0,arguments)},pt.prototype.mergeWith=function(t){var r=e.call(arguments,1);return At(this,t,r)},pt.prototype.mergeDeep=function(){return At(this,it,arguments)},pt.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return At(this,st(t),r)},pt.prototype.setSize=function(e){return Ot(this,0,e)},pt.prototype.slice=function(e,t){var r=this.size;return R(e,t,r)?this:Ot(this,P(e,r),I(t,r))},pt.prototype.__iterator=function(e,t){var r=0,n=vt(this,t);return new L((function(){var t=n();return t===bt?{value:void 0,done:!0}:q(e,r++,t)}))},pt.prototype.__iterate=function(e,t){for(var r,n=0,i=vt(this,t);(r=i())!==bt&&!1!==e(r,n++,this););return n},pt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},pt.isList=dt;var ft="@@__IMMUTABLE_LIST__@@",mt=pt.prototype;function yt(e,t){this.array=e,this.ownerID=t}mt[ft]=!0,mt.delete=mt.remove,mt.setIn=He.setIn,mt.deleteIn=mt.removeIn=He.removeIn,mt.update=He.update,mt.updateIn=He.updateIn,mt.mergeIn=He.mergeIn,mt.mergeDeepIn=He.mergeDeepIn,mt.withMutations=He.withMutations,mt.asMutable=He.asMutable,mt.asImmutable=He.asImmutable,mt.wasAltered=He.wasAltered,yt.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&g;if(n>=this.array.length)return new yt([],e);var i,s=0===n;if(t>0){var a=this.array[n];if((i=a&&a.removeBefore(e,t-m,r))===a&&s)return this}if(s&&!i)return this;var o=Tt(this,e);if(!s)for(var u=0;u<n;u++)o.array[u]=void 0;return i&&(o.array[n]=i),o},yt.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,i=r-1>>>t&g;if(i>=this.array.length)return this;if(t>0){var s=this.array[i];if((n=s&&s.removeAfter(e,t-m,r))===s&&i===this.array.length-1)return this}var a=Tt(this,e);return a.array.splice(i+1),n&&(a.array[i]=n),a};var gt,_t,bt={};function vt(e,t){var r=e._origin,n=e._capacity,i=Rt(n),s=e._tail;return a(e._root,e._level,0);function a(e,o,u){return 0===o?function(e,a){var o=a===i?s&&s.array:e&&e.array,u=a>r?0:r-a,c=n-a;return c>y&&(c=y),function(){if(u===c)return bt;var e=t?--c:u++;return o&&o[e]}}(e,u):function(e,i,s){var o,u=e&&e.array,c=s>r?0:r-s>>i,l=1+(n-s>>i);return l>y&&(l=y),function(){for(;;){if(o){var e=o();if(e!==bt)return e;o=null}if(c===l)return bt;var r=t?--l:c++;o=a(u&&u[r],i-m,s+(r<<i))}}}(e,o,u)}}function wt(e,t,r,n,i,s,a){var o=Object.create(mt);return o.size=t-e,o._origin=e,o._capacity=t,o._level=r,o._root=n,o._tail=i,o.__ownerID=s,o.__hash=a,o.__altered=!1,o}function St(){return gt||(gt=wt(0,0,m))}function Et(e,t,r,n,i,s){var a,o=n>>>r&g,u=e&&o<e.array.length;if(!u&&void 0===i)return e;if(r>0){var c=e&&e.array[o],l=Et(c,t,r-m,n,i,s);return l===c?e:((a=Tt(e,t)).array[o]=l,a)}return u&&e.array[o]===i?e:(S(s),a=Tt(e,t),void 0===i&&o===a.array.length-1?a.array.pop():a.array[o]=i,a)}function Tt(e,t){return t&&e&&t===e.ownerID?e:new yt(e?e.array.slice():[],t)}function xt(e,t){if(t>=Rt(e._capacity))return e._tail;if(t<1<<e._level+m){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&g],n-=m;return r}}function Ot(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new E,i=e._origin,s=e._capacity,a=i+t,o=void 0===r?s:r<0?s+r:i+r;if(a===i&&o===s)return e;if(a>=o)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new yt(c&&c.array.length?[void 0,c]:[],n),l+=1<<(u+=m);l&&(a+=l,i+=l,o+=l,s+=l);for(var h=Rt(s),p=Rt(o);p>=1<<u+m;)c=new yt(c&&c.array.length?[c]:[],n),u+=m;var d=e._tail,f=p<h?xt(e,o-1):p>h?new yt([],n):d;if(d&&p>h&&a<s&&d.array.length){for(var y=c=Tt(c,n),_=u;_>m;_-=m){var b=h>>>_&g;y=y.array[b]=Tt(y.array[b],n)}y.array[h>>>m&g]=d}if(o<s&&(f=f&&f.removeAfter(n,0,o)),a>=p)a-=p,o-=p,u=m,c=null,f=f&&f.removeBefore(n,0,a);else if(a>i||p<h){for(l=0;c;){var v=a>>>u&g;if(v!==p>>>u&g)break;v&&(l+=(1<<u)*v),u-=m,c=c.array[v]}c&&a>i&&(c=c.removeBefore(n,u,a-l)),c&&p<h&&(c=c.removeAfter(n,u,p-l)),l&&(a-=l,o-=l)}return e.__ownerID?(e.size=o-a,e._origin=a,e._capacity=o,e._level=u,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):wt(a,o,u,c,f)}function At(e,t,r){for(var n=[],s=0,o=0;o<r.length;o++){var u=r[o],c=i(u);c.size>s&&(s=c.size),a(u)||(c=c.map((function(e){return he(e)}))),n.push(c)}return s>e.size&&(e=e.setSize(s)),at(e,t,n)}function Rt(e){return e<y?0:e-1>>>m<<m}function Pt(e){return null==e?Nt():It(e)?e:Nt().withMutations((function(t){var r=n(e);Fe(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function It(e){return qe(e)&&l(e)}function jt(e,t,r,n){var i=Object.create(Pt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}function Nt(){return _t||(_t=jt(Ke(),St()))}function Ct(e,t,r){var n,i,s=e._map,a=e._list,o=s.get(t),u=void 0!==o;if(r===_){if(!u)return e;a.size>=y&&a.size>=2*s.size?(n=(i=a.filter((function(e,t){return void 0!==e&&o!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=i.__ownerID=e.__ownerID)):(n=s.remove(t),i=o===a.size-1?a.pop():a.set(o,void 0))}else if(u){if(r===a.get(o)[1])return e;n=s,i=a.set(o,[t,r])}else n=s.set(t,a.size),i=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=i,e.__hash=void 0,e):jt(n,i)}function kt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Dt(e){this._iter=e,this.size=e.size}function Mt(e){this._iter=e,this.size=e.size}function Ft(e){this._iter=e,this.size=e.size}function Lt(e){var t=er(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=tr,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===k){var n=e.__iterator(t,r);return new L((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===C?N:C,r)},t}function qt(e,t,r){var n=er(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var s=e.get(n,_);return s===_?i:t.call(r,s,n,e)},n.__iterateUncached=function(n,i){var s=this;return e.__iterate((function(e,i,a){return!1!==n(t.call(r,e,i,a),i,s)}),i)},n.__iteratorUncached=function(n,i){var s=e.__iterator(k,i);return new L((function(){var i=s.next();if(i.done)return i;var a=i.value,o=a[0];return q(n,o,t.call(r,a[1],o,e),i)}))},n}function Bt(e,t){var r=er(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Lt(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=tr,r.__iterate=function(t,r){var n=this;return e.__iterate((function(e,r){return t(e,r,n)}),!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function Ut(e,t,r,n){var i=er(e);return n&&(i.has=function(n){var i=e.get(n,_);return i!==_&&!!t.call(r,i,n,e)},i.get=function(n,i){var s=e.get(n,_);return s!==_&&t.call(r,s,n,e)?s:i}),i.__iterateUncached=function(i,s){var a=this,o=0;return e.__iterate((function(e,s,u){if(t.call(r,e,s,u))return o++,i(e,n?s:o-1,a)}),s),o},i.__iteratorUncached=function(i,s){var a=e.__iterator(k,s),o=0;return new L((function(){for(;;){var s=a.next();if(s.done)return s;var u=s.value,c=u[0],l=u[1];if(t.call(r,l,c,e))return q(i,n?c:o++,l,s)}}))},i}function Ht(e,t,r,n){var i=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r===1/0?r=i:r|=0),R(t,r,i))return e;var s=P(t,i),a=I(r,i);if(s!=s||a!=a)return Ht(e.toSeq().cacheResult(),t,r,n);var o,u=a-s;u==u&&(o=u<0?0:u);var c=er(e);return c.size=0===o?o:e.size&&o||void 0,!n&&ie(e)&&o>=0&&(c.get=function(t,r){return(t=O(this,t))>=0&&t<o?e.get(t+s,r):r}),c.__iterateUncached=function(t,r){var i=this;if(0===o)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,u=!0,c=0;return e.__iterate((function(e,r){if(!u||!(u=a++<s))return c++,!1!==t(e,n?r:c-1,i)&&c!==o})),c},c.__iteratorUncached=function(t,r){if(0!==o&&r)return this.cacheResult().__iterator(t,r);var i=0!==o&&e.__iterator(t,r),a=0,u=0;return new L((function(){for(;a++<s;)i.next();if(++u>o)return{value:void 0,done:!0};var e=i.next();return n||t===C?e:q(t,u-1,t===N?void 0:e.value[1],e)}))},c}function zt(e,t,r,n){var i=er(e);return i.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var o=!0,u=0;return e.__iterate((function(e,s,c){if(!o||!(o=t.call(r,e,s,c)))return u++,i(e,n?s:u-1,a)})),u},i.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var o=e.__iterator(k,s),u=!0,c=0;return new L((function(){var e,s,l;do{if((e=o.next()).done)return n||i===C?e:q(i,c++,i===N?void 0:e.value[1],e);var h=e.value;s=h[0],l=h[1],u&&(u=t.call(r,l,s,a))}while(u);return i===k?e:q(i,s,l,e)}))},i}function Vt(e,t){var r=o(e),i=[e].concat(t).map((function(e){return a(e)?r&&(e=n(e)):e=r?ae(e):oe(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var s=i[0];if(s===e||r&&o(s)||u(e)&&u(s))return s}var c=new ee(i);return r?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),c}function Qt(e,t,r){var n=er(e);return n.__iterateUncached=function(n,i){var s=0,o=!1;return function e(u,c){var l=this;u.__iterate((function(i,u){return(!t||c<t)&&a(i)?e(i,c+1):!1===n(i,r?u:s++,l)&&(o=!0),!o}),i)}(e,0),s},n.__iteratorUncached=function(n,i){var s=e.__iterator(n,i),o=[],u=0;return new L((function(){for(;s;){var e=s.next();if(!1===e.done){var c=e.value;if(n===k&&(c=c[1]),t&&!(o.length<t)||!a(c))return r?e:q(n,u++,c,e);o.push(s),s=c.__iterator(n,i)}else s=o.pop()}return{value:void 0,done:!0}}))},n}function Gt(e,t,r){t||(t=rr);var n=o(e),i=0,s=e.toSeq().map((function(t,n){return[n,t,i++,r?r(t,n,e):t]})).toArray();return s.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){s[t].length=2}:function(e,t){s[t]=e[1]}),n?X(s):u(e)?$(s):Y(s)}function Xt(e,t,r){if(t||(t=rr),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return $t(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return $t(t,e,r)?r:e}))}function $t(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function Yt(e,t,n){var i=er(e);return i.size=new ee(n).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(C,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var s=n.map((function(e){return e=r(e),z(i?e.reverse():e)})),a=0,o=!1;return new L((function(){var r;return o||(r=s.map((function(e){return e.next()})),o=r.some((function(e){return e.done}))),o?{value:void 0,done:!0}:q(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},i}function Wt(e,t){return ie(e)?t:e.constructor(t)}function Jt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Kt(e){return Fe(e.size),x(e)}function Zt(e){return o(e)?n:u(e)?i:s}function er(e){return Object.create((o(e)?X:u(e)?$:Y).prototype)}function tr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function rr(e,t){return e>t?1:e<t?-1:0}function nr(e){var t=z(e);if(!t){if(!Q(e))throw new TypeError("Expected iterable or array-like: "+e);t=z(r(e))}return t}function ir(e,t){var r,n=function(s){if(s instanceof n)return s;if(!(this instanceof n))return new n(s);if(!r){r=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(ur.bind(void 0,e))}catch(e){}}(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Le(s)},i=n.prototype=Object.create(sr);return i.constructor=n,n}t(Pt,Le),Pt.of=function(){return this(arguments)},Pt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Pt.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Nt()},Pt.prototype.set=function(e,t){return Ct(this,e,t)},Pt.prototype.remove=function(e){return Ct(this,e,_)},Pt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Pt.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},Pt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Pt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?jt(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},Pt.isOrderedMap=It,Pt.prototype[f]=!0,Pt.prototype.delete=Pt.prototype.remove,t(kt,X),kt.prototype.get=function(e,t){return this._iter.get(e,t)},kt.prototype.has=function(e){return this._iter.has(e)},kt.prototype.valueSeq=function(){return this._iter.valueSeq()},kt.prototype.reverse=function(){var e=this,t=Bt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},kt.prototype.map=function(e,t){var r=this,n=qt(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},kt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?Kt(this):0,function(i){return e(i,t?--r:r++,n)}),t)},kt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(C,t),n=t?Kt(this):0;return new L((function(){var i=r.next();return i.done?i:q(e,t?--n:n++,i.value,i)}))},kt.prototype[f]=!0,t(Dt,$),Dt.prototype.includes=function(e){return this._iter.includes(e)},Dt.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate((function(t){return e(t,n++,r)}),t)},Dt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(C,t),n=0;return new L((function(){var t=r.next();return t.done?t:q(e,n++,t.value,t)}))},t(Mt,Y),Mt.prototype.has=function(e){return this._iter.includes(e)},Mt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},Mt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(C,t);return new L((function(){var t=r.next();return t.done?t:q(e,t.value,t.value,t)}))},t(Ft,X),Ft.prototype.entrySeq=function(){return this._iter.toSeq()},Ft.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){Jt(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},Ft.prototype.__iterator=function(e,t){var r=this._iter.__iterator(C,t);return new L((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Jt(n);var i=a(n);return q(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}}))},Dt.prototype.cacheResult=kt.prototype.cacheResult=Mt.prototype.cacheResult=Ft.prototype.cacheResult=tr,t(ir,ve),ir.prototype.toString=function(){return this.__toString(or(this)+" {","}")},ir.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},ir.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},ir.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=ar(this,Ke()))},ir.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+or(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:ar(this,r)},ir.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:ar(this,t)},ir.prototype.wasAltered=function(){return this._map.wasAltered()},ir.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterator(e,t)},ir.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterate(e,t)},ir.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?ar(this,t,e):(this.__ownerID=e,this._map=t,this)};var sr=ir.prototype;function ar(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function or(e){return e._name||e.constructor.name||"Record"}function ur(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ge(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function cr(e){return null==e?yr():lr(e)&&!l(e)?e:yr().withMutations((function(t){var r=s(e);Fe(r.size),r.forEach((function(e){return t.add(e)}))}))}function lr(e){return!(!e||!e[pr])}sr.delete=sr.remove,sr.deleteIn=sr.removeIn=He.removeIn,sr.merge=He.merge,sr.mergeWith=He.mergeWith,sr.mergeIn=He.mergeIn,sr.mergeDeep=He.mergeDeep,sr.mergeDeepWith=He.mergeDeepWith,sr.mergeDeepIn=He.mergeDeepIn,sr.setIn=He.setIn,sr.update=He.update,sr.updateIn=He.updateIn,sr.withMutations=He.withMutations,sr.asMutable=He.asMutable,sr.asImmutable=He.asImmutable,t(cr,Se),cr.of=function(){return this(arguments)},cr.fromKeys=function(e){return this(n(e).keySeq())},cr.prototype.toString=function(){return this.__toString("Set {","}")},cr.prototype.has=function(e){return this._map.has(e)},cr.prototype.add=function(e){return fr(this,this._map.set(e,!0))},cr.prototype.remove=function(e){return fr(this,this._map.remove(e))},cr.prototype.clear=function(){return fr(this,this._map.clear())},cr.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var r=0;r<t.length;r++)s(t[r]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},cr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return s(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.every((function(e){return e.includes(r)}))||e.remove(r)}))}))},cr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return s(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.some((function(e){return e.includes(r)}))&&e.remove(r)}))}))},cr.prototype.merge=function(){return this.union.apply(this,arguments)},cr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},cr.prototype.sort=function(e){return gr(Gt(this,e))},cr.prototype.sortBy=function(e,t){return gr(Gt(this,t,e))},cr.prototype.wasAltered=function(){return this._map.wasAltered()},cr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t,n){return e(n,n,r)}),t)},cr.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},cr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},cr.isSet=lr;var hr,pr="@@__IMMUTABLE_SET__@@",dr=cr.prototype;function fr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function mr(e,t){var r=Object.create(dr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function yr(){return hr||(hr=mr(Ke()))}function gr(e){return null==e?Sr():_r(e)?e:Sr().withMutations((function(t){var r=s(e);Fe(r.size),r.forEach((function(e){return t.add(e)}))}))}function _r(e){return lr(e)&&l(e)}dr[pr]=!0,dr.delete=dr.remove,dr.mergeDeep=dr.merge,dr.mergeDeepWith=dr.mergeWith,dr.withMutations=He.withMutations,dr.asMutable=He.asMutable,dr.asImmutable=He.asImmutable,dr.__empty=yr,dr.__make=mr,t(gr,cr),gr.of=function(){return this(arguments)},gr.fromKeys=function(e){return this(n(e).keySeq())},gr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},gr.isOrderedSet=_r;var br,vr=gr.prototype;function wr(e,t){var r=Object.create(vr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Sr(){return br||(br=wr(Nt()))}function Er(e){return null==e?Pr():Tr(e)?e:Pr().unshiftAll(e)}function Tr(e){return!(!e||!e[Or])}vr[f]=!0,vr.__empty=Sr,vr.__make=wr,t(Er,we),Er.of=function(){return this(arguments)},Er.prototype.toString=function(){return this.__toString("Stack [","]")},Er.prototype.get=function(e,t){var r=this._head;for(e=O(this,e);r&&e--;)r=r.next;return r?r.value:t},Er.prototype.peek=function(){return this._head&&this._head.value},Er.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Rr(e,t)},Er.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Fe(e.size);var t=this.size,r=this._head;return e.reverse().forEach((function(e){t++,r={value:e,next:r}})),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Rr(t,r)},Er.prototype.pop=function(){return this.slice(1)},Er.prototype.unshift=function(){return this.push.apply(this,arguments)},Er.prototype.unshiftAll=function(e){return this.pushAll(e)},Er.prototype.shift=function(){return this.pop.apply(this,arguments)},Er.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Pr()},Er.prototype.slice=function(e,t){if(R(e,t,this.size))return this;var r=P(e,this.size);if(I(t,this.size)!==this.size)return we.prototype.slice.call(this,e,t);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Rr(n,i)},Er.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Rr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Er.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},Er.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new L((function(){if(n){var t=n.value;return n=n.next,q(e,r++,t)}return{value:void 0,done:!0}}))},Er.isStack=Tr;var xr,Or="@@__IMMUTABLE_STACK__@@",Ar=Er.prototype;function Rr(e,t,r,n){var i=Object.create(Ar);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Pr(){return xr||(xr=Rr(0))}function Ir(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}Ar[Or]=!0,Ar.withMutations=He.withMutations,Ar.asMutable=He.asMutable,Ar.asImmutable=He.asImmutable,Ar.wasAltered=He.wasAltered,r.Iterator=L,Ir(r,{toArray:function(){Fe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,r){e[r]=t})),e},toIndexedSeq:function(){return new Dt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new kt(this,!0)},toMap:function(){return Le(this.toKeyedSeq())},toObject:function(){Fe(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e},toOrderedMap:function(){return Pt(this.toKeyedSeq())},toOrderedSet:function(){return gr(o(this)?this.valueSeq():this)},toSet:function(){return cr(o(this)?this.valueSeq():this)},toSetSeq:function(){return new Mt(this)},toSeq:function(){return u(this)?this.toIndexedSeq():o(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Er(o(this)?this.valueSeq():this)},toList:function(){return pt(o(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Wt(this,Vt(this,t))},includes:function(e){return this.some((function(t){return fe(t,e)}))},entries:function(){return this.__iterator(k)},every:function(e,t){Fe(this.size);var r=!0;return this.__iterate((function(n,i,s){if(!e.call(t,n,i,s))return r=!1,!1})),r},filter:function(e,t){return Wt(this,Ut(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return Fe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Fe(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(N)},map:function(e,t){return Wt(this,qt(this,e,t))},reduce:function(e,t,r){var n,i;return Fe(this.size),arguments.length<2?i=!0:n=t,this.__iterate((function(t,s,a){i?(i=!1,n=t):n=e.call(r,n,t,s,a)})),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Wt(this,Bt(this,!0))},slice:function(e,t){return Wt(this,Ht(this,e,t,!0))},some:function(e,t){return!this.every(Dr(e),t)},sort:function(e){return Wt(this,Gt(this,e))},values:function(){return this.__iterator(C)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return x(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Le().asMutable();return e.__iterate((function(i,s){n.update(t.call(r,i,s,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(kr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Dr(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,i,s){if(e.call(t,r,i,s))return n=[i,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(A)},flatMap:function(e,t){return Wt(this,function(e,t,r){var n=Zt(e);return e.toSeq().map((function(i,s){return n(t.call(r,i,s,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Wt(this,Qt(this,e,!0))},fromEntrySeq:function(){return new Ft(this)},get:function(e,t){return this.find((function(t,r){return fe(r,e)}),void 0,t)},getIn:function(e,t){for(var r,n=this,i=nr(e);!(r=i.next()).done;){var s=r.value;if((n=n&&n.get?n.get(s,_):_)===_)return t}return n},groupBy:function(e,t){return function(e,t,r){var n=o(e),i=(l(e)?Pt():Le()).asMutable();e.__iterate((function(s,a){i.update(t.call(r,s,a,e),(function(e){return(e=e||[]).push(n?[a,s]:s),e}))}));var s=Zt(e);return i.map((function(t){return Wt(e,s(t))}))}(this,e,t)},has:function(e){return this.get(e,_)!==_},hasIn:function(e){return this.getIn(e,_)!==_},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return fe(t,e)}))},keySeq:function(){return this.toSeq().map(Cr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Xt(this,e)},maxBy:function(e,t){return Xt(this,t,e)},min:function(e){return Xt(this,e?Mr(e):qr)},minBy:function(e,t){return Xt(this,t?Mr(t):qr,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Wt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Wt(this,zt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Dr(e),t)},sortBy:function(e,t){return Wt(this,Gt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Wt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Wt(this,function(e,t,r){var n=er(e);return n.__iterateUncached=function(n,i){var s=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return e.__iterate((function(e,i,o){return t.call(r,e,i,o)&&++a&&n(e,i,s)})),a},n.__iteratorUncached=function(n,i){var s=this;if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(k,i),o=!0;return new L((function(){if(!o)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(r,c,u,s)?n===k?e:q(n,u,c,e):(o=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Dr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),r=o(e),n=t?1:0;return function(e,t){return t=Ee(t,3432918353),t=Ee(t<<15|t>>>-15,461845907),t=Ee(t<<13|t>>>-13,5),t=Ee((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Te((t=Ee(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+Br(xe(e),xe(t))|0}:function(e,t){n=n+Br(xe(e),xe(t))|0}:t?function(e){n=31*n+xe(e)|0}:function(e){n=n+xe(e)|0}),n)}(this))}});var jr=r.prototype;jr[h]=!0,jr[F]=jr.values,jr.__toJS=jr.toArray,jr.__toStringMapper=Fr,jr.inspect=jr.toSource=function(){return this.toString()},jr.chain=jr.flatMap,jr.contains=jr.includes,Ir(n,{flip:function(){return Wt(this,Lt(this))},mapEntries:function(e,t){var r=this,n=0;return Wt(this,this.toSeq().map((function(i,s){return e.call(t,[s,i],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Wt(this,this.toSeq().flip().map((function(n,i){return e.call(t,n,i,r)})).flip())}});var Nr=n.prototype;function Cr(e,t){return t}function kr(e,t){return[t,e]}function Dr(e){return function(){return!e.apply(this,arguments)}}function Mr(e){return function(){return-e.apply(this,arguments)}}function Fr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Lr(){return T(arguments)}function qr(e,t){return e<t?1:e>t?-1:0}function Br(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Nr[p]=!0,Nr[F]=jr.entries,Nr.__toJS=jr.toObject,Nr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Fr(e)},Ir(i,{toKeyedSeq:function(){return new kt(this,!1)},filter:function(e,t){return Wt(this,Ut(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Wt(this,Bt(this,!1))},slice:function(e,t){return Wt(this,Ht(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=P(e,e<0?this.count():this.size);var n=this.slice(0,e);return Wt(this,1===r?n:n.concat(T(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Wt(this,Qt(this,e,!1))},get:function(e,t){return(e=O(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=O(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Wt(this,function(e,t){var r=er(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,s=0;return e.__iterate((function(e,n){return(!s||!1!==r(t,s++,i))&&!1!==r(e,s++,i)}),n),s},r.__iteratorUncached=function(r,n){var i,s=e.__iterator(C,n),a=0;return new L((function(){return(!i||a%2)&&(i=s.next()).done?i:a%2?q(r,a++,t):q(r,a++,i.value,i)}))},r}(this,e))},interleave:function(){var e=[this].concat(T(arguments)),t=Yt(this.toSeq(),$.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Wt(this,r)},keySeq:function(){return _e(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Wt(this,zt(this,e,t,!1))},zip:function(){var e=[this].concat(T(arguments));return Wt(this,Yt(this,Lr,e))},zipWith:function(e){var t=T(arguments);return t[0]=this,Wt(this,Yt(this,e,t))}}),i.prototype[d]=!0,i.prototype[f]=!0,Ir(s,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),s.prototype.has=jr.includes,s.prototype.contains=s.prototype.includes,Ir(X,n.prototype),Ir($,i.prototype),Ir(Y,s.prototype),Ir(ve,n.prototype),Ir(we,i.prototype),Ir(Se,s.prototype),{Iterable:r,Seq:G,Collection:be,Map:Le,OrderedMap:Pt,List:pt,Stack:Er,Set:cr,OrderedSet:gr,Record:ir,Range:_e,Repeat:ye,is:fe,fromJS:he}}()},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(113)),n(r(276))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(345);t.collectNamedTerms=n.collectNamedTerms,t.everyTerms=n.everyTerms,t.filterQuadTermNames=n.filterQuadTermNames,t.filterTerms=n.filterTerms,t.forEachTerms=n.forEachTerms,t.getNamedTerms=n.getNamedTerms,t.getTerms=n.getTerms,t.mapTerms=n.mapTerms,t.matchPattern=n.matchPattern,t.matchPatternComplete=n.matchPatternComplete,t.QUAD_TERM_NAMES=n.QUAD_TERM_NAMES,t.reduceTerms=n.reduceTerms,t.someTerms=n.someTerms,t.TRIPLE_TERM_NAMES=n.TRIPLE_TERM_NAMES;const i=r(346);t.getBlankNodes=i.getBlankNodes,t.getDefaultGraphs=i.getDefaultGraphs,t.getLiterals=i.getLiterals,t.getNamedNodes=i.getNamedNodes,t.getTermsOfType=i.getTermsOfType,t.getVariables=i.getVariables,t.TERM_TYPES=i.TERM_TYPES,t.uniqTerms=i.uniqTerms},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(387)),n(r(388))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Aggregate="aggregate",e.Existence="existence",e.Named="named",e.Operator="operator",e.SpecialOperator="specialOperator",e.Term="term",e.Variable="variable"}(t.ExpressionType||(t.ExpressionType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(219))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(344))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(194))},function(e){e.exports=JSON.parse('{"@context":{"acl":"http://www.w3.org/ns/auth/acl#","app":"http://www.w3.org/ns/solid/app#","as":"https://www.w3.org/ns/activitystreams#","cert":"http://www.w3.org/ns/auth/cert#","dc":"http://purl.org/dc/elements/1.1/","dct":"http://purl.org/dc/terms/","foaf":"http://xmlns.com/foaf/0.1/","ldp":"http://www.w3.org/ns/ldp#","owl":"http://www.w3.org/2002/07/owl#","pim":"http://www.w3.org/ns/pim/space#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","schema":"http://schema.org/","sioc":"http://rdfs.org/sioc/ns#","solid":"http://www.w3.org/ns/solid/terms#","stat":"http://www.w3.org/ns/posix/stat#","ui":"http://www.w3.org/ns/ui#","vcard":"http://www.w3.org/2006/vcard/ns#","xsd":"http://www.w3.org/2001/XMLSchema#","accessControl":"acl:accessControl","accessTo":"acl:accessTo","accessToClass":"acl:accessToClass","agent":"acl:agent","agents":"acl:agent","agentClass":"acl:agentClass","agentClasses":"acl:agentClass","agentGroup":"acl:agentGroup","agentGroups":"acl:agentGroup","defaultAcl":"acl:default","defaultAclForNew":"acl:defaultForNew","delegates":"acl:delegates","mode":"acl:mode","modes":"acl:mode","origin":"acl:origin","origins":"acl:origin","actor":"as:actor","attachment":"as:attachment","attributedTo":"as:attributedTo","author":"as:author","bcc":"as:bcc","bto":"as:bto","cc":"as:cc","inReplyTo":"as:inReplyTo","object":"as:object","publicationDate":"as:published","subject":"as:subject","summary":"as:summary","target":"as:target","to":"as:to","abstract":"dc:abstract","abstracts":"dc:abstract","created":"dc:created","license":"dc:license","modified":"dc:modified","title":"dc:title","titles":"dc:title","account":"foaf:account","accounts":"foaf:account","age":"foaf:age","basedNear":"foaf:based_near","birthday":"foaf:birthday","blog":"foaf:weblog","depiction":"foaf:depiction","depicts":"foaf:depicts","email":"foaf:mbox","familyName":"foaf:familyName","firstName":"foaf:givenName","friend":"foaf:knows","friends":"foaf:knows","gender":"foaf:gender","givenName":"foaf:givenName","homepage":"foaf:homepage","image":"foaf:img","images":"foaf:img","interest":"foaf:topic_interest","interests":"foaf:topic_interest","knows":"foaf:knows","lastName":"foaf:familyName","logo":"foaf:logo","made":"foaf:made","maker":"foaf:maker","member":"foaf:member","name":"foaf:name","nick":"foaf:nick","page":"foaf:page","pages":"foaf:page","primaryTopic":"foaf:primaryTopic","primaryTopicOf":"foaf:primaryTopicOf","publication":"foaf:publications","publications":"foaf:publications","thumbnail":"foaf:thumbnail","thumbnails":"foaf:thumbnail","topic":"foaf:topic","topics":"foaf:topic","inbox":"ldp:inbox","inboxes":"ldp:inbox","storage":"pim:storage","preferences":"pim:preferencesFile","workspace":"pim:workspace","type":"rdf:type","types":"rdf:type","comment":"rdfs:comment","comments":"rdfs:comment","label":"rdfs:label","labels":"rdfs:label","seeAlso":"rdfs:seeAlso","definedBy":"rdfs:isDefinedBy","oidcIssuer":"solid:oidcIssuer","publicTypeIndex":"solid:publicTypeIndex","publicTypeIndexes":"solid:publicTypeIndex","privateTypeIndex":"solid:privateTypeIndex","privateTypeIndexes":"solid:privateTypeIndex"}}')},function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,a,o;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(s(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=r(85),s=r(89);r(9)(c,i);for(var a=n(s.prototype),o=0;o<a.length;o++){var u=a[o];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r(11))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(236))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(93)),n(r(242))},function(e,t,r){var n=r(305).Parser,i=r(308),s=r(130).Wildcard,a=r(37);e.exports={Parser:function({prefixes:e,baseIRI:t,factory:r}={}){var i={};for(var s in e||{})i[s]=e[s];var o=new n;return o.parse=function(){return n.base=t||"",n.prefixes=Object.create(i),n.factory=r||a.DataFactory,n.prototype.parse.apply(o,arguments)},o._resetBlanks=n._resetBlanks,o},Generator:i,Wildcard:s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15);class i{constructor(e){this.parsingContext=e.parsingContext,this.dataFactory=e.dataFactory||r(2),this.rdfFirst=this.dataFactory.namedNode(i.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(i.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(i.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(i.RDF+"type")}static getContextValue(e,t,r,n){const i=e[r];if(!i)return n;const s=i[t];return void 0===s?n:s}static getContextValueContainer(e,t){return i.getContextValue(e,"@container",t,"@set")}static getContextValueType(e,t){return i.getContextValue(e,"@type",t,null)}static getContextValueLanguage(e,t){return i.getContextValue(e,"@language",t,e["@language"]||null)}static isContextValueReverse(e,t){return!!i.getContextValue(e,"@reverse",t,null)}static isPropertyReverse(e,t,r){return"@reverse"===r!==i.isContextValueReverse(e,t)}static isKeyword(e){return"string"==typeof e&&"@"===e[0]}static isValidIri(e){return n.ContextParser.isValidIri(e)}async validateValueIndexes(e){if(this.parsingContext.validateValueIndexes){const t={};for(const r of e)if(r&&"object"==typeof r){const e=r["@id"],n=r["@index"];if(e&&n){const r=t[e];if(r&&r!==n)throw new Error(`Conflicting @index value for ${e}`);t[e]=n}}}}async valueToTerm(e,t,r,n,s){const a=typeof r;switch(a){case"object":if(null==r)return null;if(Array.isArray(r))return"@list"===i.getContextValueContainer(e,t)&&0===r.length?this.rdfNil:(await this.validateValueIndexes(r),null);if("@context"in r&&(e=await this.parsingContext.contextParser.parse(r["@context"],{baseIri:this.parsingContext.baseIRI,parentContext:e})),"@value"in(r=await this.unaliasKeywords(r,s,n))){let i,a,o,u;for(t in r){const e=r[t];switch(t){case"@value":i=e;break;case"@language":a=e;break;case"@type":o=e;break;case"@index":u=e;break;default:throw new Error(`Unknown value entry '${t}' in @value: ${JSON.stringify(r)}`)}}if(null===i)return null;if("object"==typeof i)throw new Error(`The value of an '@value' can not be an object, got '${JSON.stringify(i)}'`);if(this.parsingContext.validateValueIndexes&&u&&"string"!=typeof u)throw new Error(`The value of an '@index' must be a string, got '${JSON.stringify(u)}'`);if(a){if(o)throw new Error(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(r)}'`);if("string"!=typeof a)throw new Error(`The value of an '@language' must be a string, got '${JSON.stringify(a)}'`);if("string"!=typeof i)throw new Error(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(i)}'`);return a=a.toLowerCase(),this.dataFactory.literal(i,a)}if(o){if("string"!=typeof o)throw new Error(`The value of an '@type' must be a string, got '${JSON.stringify(o)}'`);const t=this.createVocabOrBaseTerm(e,o);if(!t)return null;if("NamedNode"!==t.termType)throw new Error(`Illegal value type (${t.termType}): ${o}`);return this.dataFactory.literal(i,t)}return await this.valueToTerm({},t,i,n,s)}if("@set"in r){if(Object.keys(r).length>1)throw new Error(`Found illegal neighbouring entries next to @set in value: ${JSON.stringify(r)}`);return null}if("@list"in r){if(Object.keys(r).length>1)throw new Error(`Found illegal neighbouring entries next to @set in value: ${JSON.stringify(r)}`);const e=r["@list"];return Array.isArray(e)?0===e.length?this.rdfNil:null:this.valueToTerm(await this.parsingContext.getContext(s),t,e,n-1,s.slice(0,-1))}return"@reverse"in r?null:"@id"in r?"@vocab"===r["@type"]?this.createVocabOrBaseTerm(e,r["@id"]):this.resourceToTerm(e,r["@id"]):this.parsingContext.emittedStack[n+1]?this.parsingContext.idStack[n+1]||(this.parsingContext.idStack[n+1]=this.dataFactory.blankNode()):null;case"string":return this.stringValueToTerm(e,t,r,null);case"boolean":return this.stringValueToTerm(e,t,Boolean(r).toString(),this.dataFactory.namedNode(i.XSD_BOOLEAN));case"number":return this.stringValueToTerm(e,t,r,this.dataFactory.namedNode(r%1==0?i.XSD_INTEGER:i.XSD_DOUBLE));default:this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${a}`))}}predicateToTerm(e,t){const r=n.ContextParser.expandTerm(t,e,!0);return r?"_"===r[0]&&":"===r[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(r.substr(2)):null:i.isValidIri(r)?this.dataFactory.namedNode(r):r&&this.parsingContext.errorOnInvalidProperties?void this.parsingContext.emitError(new Error(`Invalid predicate IRI: ${r}`)):null:null}resourceToTerm(e,t){if(t.startsWith("_:"))return this.dataFactory.blankNode(t.substr(2));const r=n.ContextParser.expandTerm(t,e,!1);if(!i.isValidIri(r)){if(!r||!this.parsingContext.errorOnInvalidProperties)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${r}`))}return this.dataFactory.namedNode(r)}createVocabOrBaseTerm(e,t){if(t.startsWith("_:"))return this.dataFactory.blankNode(t.substr(2));let r=n.ContextParser.expandTerm(t,e,!0);if(r===t&&(r=n.ContextParser.expandTerm(t,e,!1)),!i.isValidIri(r)){if(!r||!this.parsingContext.errorOnInvalidProperties)return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${r}`))}return this.dataFactory.namedNode(r)}intToString(e,t){if("number"==typeof e){if(Number.isFinite(e)){return e%1==0&&t.value!==i.XSD_DOUBLE?Number(e).toString():e.toExponential(15).replace(/(\d)0*e\+?/,"$1E")}return e>0?"INF":"-INF"}return e}stringValueToTerm(e,t,r,n){const s=i.getContextValueType(e,t);if(s)if("@id"===s){if(!n)return this.resourceToTerm(e,this.intToString(r,n))}else if("@vocab"===s){if(!n)return this.createVocabOrBaseTerm(e,this.intToString(r,n))}else n=this.dataFactory.namedNode(s);if(!n){const s=i.getContextValueLanguage(e,t);if(s)return this.dataFactory.literal(this.intToString(r,n),s)}return this.dataFactory.literal(this.intToString(r,n),n)}async unaliasKeyword(e,t,r,n){if(Number.isInteger(e))return e;if(!n){const e=this.parsingContext.unaliasedKeywordCacheStack[r];if(e)return e}if(!i.isKeyword(e)){let r=(await this.parsingContext.getContext(t))[e];r&&"object"==typeof r&&(r=r["@id"]),i.isKeyword(r)&&(e=r)}return n?e:this.parsingContext.unaliasedKeywordCacheStack[r]=e}async unaliasKeywordParent(e,t){return await this.unaliasKeyword(t>0&&e[t-1],e,t-1)}async unaliasKeywords(e,t,r){const n={};for(const i in e)n[await this.unaliasKeyword(i,t,r+1,!0)]=e[i];return n}isLiteral(e){for(let t=e;t>=0;t--)if(this.parsingContext.literalStack[t])return!0;return!1}async getDepthOffsetGraph(e,t){for(let r=e-1;r>0;r--)if("@graph"===await this.unaliasKeyword(t[r],t,r))return e-r-1;return-1}validateReverseSubject(e){if("Literal"===e.termType)throw new Error(`Found illegal literal in subject position: ${e.value}`)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}}i.XSD="http://www.w3.org/2001/XMLSchema#",i.XSD_BOOLEAN=i.XSD+"boolean",i.XSD_INTEGER=i.XSD+"integer",i.XSD_DOUBLE=i.XSD+"double",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.Util=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(444);t.AsyncEvaluator=n.AsyncEvaluator;var i=r(183);t.SyncEvaluator=i.SyncEvaluator;var s=r(468);t.AggregateEvaluator=s.AggregateEvaluator;var a=r(16);t.ExpressionError=a.ExpressionError,t.isExpressionError=a.isExpressionError},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(23)),n(r(445)),n(r(446)),n(r(447)),n(r(448)),n(r(449)),n(r(450)),n(r(451))},function(e,t,r){var n=r(17).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,s=e.length,a=this._len,o=0;o<s;){for(var u=a%i,c=Math.min(s-o,i-u),l=0;l<c;l++)r[u+l]=e[o+l];o+=c,(a+=c)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"isNamedNode",(function(){return U})),r.d(n,"isBlankNode",(function(){return H})),r.d(n,"isLiteral",(function(){return z})),r.d(n,"isVariable",(function(){return V})),r.d(n,"isDefaultGraph",(function(){return Q})),r.d(n,"inDefaultGraph",(function(){return G})),r.d(n,"prefix",(function(){return X})),r.d(n,"prefixes",(function(){return $}));var i=r(6);const{rdf:s,xsd:a}=i.a;var o,u,c=0;class l{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof l?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}}class h extends l{get termType(){return"NamedNode"}}class p extends l{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new h(this.datatypeString)}get datatypeString(){var e,t=this.id,r=t.lastIndexOf('"')+1;return r<t.length&&"^"===(e=t[r])?t.substr(r+2):"@"!==e?a.string:s.langString}equals(e){return e instanceof p?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class d extends l{constructor(e){super("_:"+e)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class f extends l{constructor(e){super("?"+e)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class m extends l{constructor(){return super(""),u||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}u=new m;class y{constructor(e,t,r,n){this.subject=e,this.predicate=t,this.object=r,this.graph=n||u}toJSON(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}equals(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}var g=o={namedNode:function(e){return new h(e)},blankNode:function(e){e||(e="n3-"+c++);return new d(e)},variable:function(e){return new f(e)},literal:function(e,t){if("string"==typeof t)return new p('"'+e+'"@'+t.toLowerCase());let r=t?t.value:"";""===r&&("boolean"==typeof e?r=a.boolean:"number"==typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?a.integer:a.double:(r=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"))));return""===r||r===a.string?new p('"'+e+'"'):new p('"'+e+'"^^'+r)},defaultGraph:function(){return u},quad:_,triple:_,internal:{Term:l,NamedNode:h,BlankNode:d,Variable:f,Literal:p,DefaultGraph:m,Quad:y,Triple:y,fromId:function(e,t){if(t=t||o,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===o)return new p(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof l)return e.id;if(!e)return u.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==a.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}};function _(e,t,r,n){return new y(e,t,r,n)}var b=r(57),v=0,w=0;class S{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&T(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r="turtle"===t,n="trig"===t,i=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),o=i||s;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||i||a),o&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new b.a({lineMode:o,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodeIds(){v=w=0}_blank(){return this._blankNode("b"+w++)}_setBase(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,n,i){var s=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){var r;switch(e.type){case"IRI":case"typeIRI":var n=this._resolveIRI(e.value);if(null===n)return this._error("Invalid IRI",e);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);r=this._namedNode(i+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blank(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blank(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blank()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blank()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){var t=null,r=null,n=this._subject,i=this._contextStack,s=i[i.length-1],a=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blank(),this.RDF_FIRST,this._subject=t=this._blank()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blank(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blank()),null===n?null===s.predicate?s.subject=r:s.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return a}_readDataTypeOrLang(e){return this._completeLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeLiteral(e,!0)}_completeLiteral(e,t){switch(e.type){case"type":case"typeIRI":var r=this._readEntity(e);if(void 0===r)return;this._object=this._literal(this._literalValue,r),e=null;break;case"langcode":this._object=this._literal(this._literalValue,e.value),e=null;break;default:this._object=this._literal(this._literalValue)}return t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===e?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(e))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){var t,r=this._subject,n=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==r){var s=this._predicate,a=this._object;i?this._emit(a,s,r,n):this._emit(r,s,a,n)}return t}_readBlankNodePunctuation(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blank(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blank(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blank(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier("b"+w++),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}}_readForwardPath(e){var t,r,n=this._blank();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){var t,r,n=this._blank();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,t,r,this._graph),this._readPath}_getContextEndReader(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}_emit(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){var r=new Error(e+" on line "+t.line+".");r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=E}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",r=e.length,n=-1,i=-1,s=0,a="/";n<r;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<r&&"/"!==e[i];)n=i;break;case"?":case"#":n=r;break;case"/":if("."===e[n+1])switch(a=e[++n+1]){case"/":t+=e.substring(s,n-1),s=n+1;break;case void 0:case"?":case"#":return t+e.substring(s,n)+e.substr(n+1);case".":if(void 0===(a=e[++n+1])||"/"===a||"?"===a||"#"===a){if((s=(t+=e.substring(s,n-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,s)),"/"!==a)return t+"/"+e.substr(n+1);s=n+1}}}a=e[++n]}return t+e.substring(s)}parse(e,t,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+v+++"_",this._prefixCallback=r||E,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,s=[];if(this._callback=function(e,t){e?i=e:t&&s.push(t)},this._lexer.tokenize(e).every((function(e){return n._readCallback=n._readCallback(e)})),i)throw i;return s}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(n._callback(e),n._callback=E):n._readCallback&&(n._readCallback=n._readCallback(t))}))}}function E(){}function T(e,t){var r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(i.a.rdf.first),e.RDF_REST=r(i.a.rdf.rest),e.RDF_NIL=r(i.a.rdf.nil),e.N3_FORALL=r(i.a.r.forAll),e.N3_FORSOME=r(i.a.r.forSome),e.ABBREVIATIONS={a:r(i.a.rdf.type),"=":r(i.a.owl.sameAs),">":r(i.a.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}T(S.prototype,g);const x=g.defaultGraph(),{rdf:O,xsd:A}=i.a;var R=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,P=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,I={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class j extends g.internal.Term{equals(){return!1}}class N{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var r="";this._outputStream={write(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=x,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}get _inDefaultGraph(){return x.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(x.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(e){i&&i(e)}}_writeQuadLine(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}quadToString(e,t,r,n){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(r)+(n&&n.value?" "+this._encodeIriOrBlank(n)+" .\n":" .\n")}quadsToString(e){return e.map((function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)}),this).join("")}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:"+e.value;var t=e.value;R.test(t)&&(t=t.replace(P,C));var r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:"<"+t+">"}_encodeLiteral(e){var t=e.value;return R.test(t)&&(t=t.replace(P,C)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==A.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'}_encodePredicate(e){return e.value===O.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof n?this._writeQuad(e,t,r,x,n):this._writeQuad(e,t,r,n||x,i)}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){var r=this._prefixIRIs,n=!1;for(var i in e){var s=e[i];"string"!=typeof s&&(s=s.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),r[s]=i+=":",this._write("@prefix "+i+" <"+s+">.\n")}if(n){var a="",o="";for(var u in r)a+=a?"|"+u:u,o+=(o?"|":"")+r[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+o+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)}blank(e,t){var r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new j("[]");case 1:if(!((r=i[0]).object instanceof j))return new j("[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]");default:for(var s="[",a=0;a<n;a++)(r=i[a]).predicate.equals(e)?s+=", "+this._encodeObject(r.object):(s+=(a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return new j(s+"\n]")}}list(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new j("("+r.join(" ")+")")}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}}function C(e){var t=I[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var k=r(1);const{toId:D,fromId:M}=g.internal;class F{constructor(e,t){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||g,e&&this.addQuads(e)}get size(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var s in t=n[i].subjects)for(var a in r=t[s])e+=Object.keys(r[a]).length;return this._size=e}_addToIndex(e,t,r,n){var i=e[t]||(e[t]={}),s=i[r]||(i[r]={}),a=n in s;return a||(s[n]=null),!a}_removeFromIndex(e,t,r,n){var i,s=e[t],a=s[r];for(i in delete a[n],a)return;for(i in delete s[r],s)return;delete e[t]}_findInIndex(e,t,r,n,i,s,a,o,u,c){var l,h,p,d=!t+!r+!n>1?Object.keys(this._ids):this._entities;for(var f in t&&((l=e,e={})[t]=l[t]),e){var m=d[f];if(h=e[f])for(var y in r&&((l=h,h={})[r]=l[r]),h){var g=d[y];if(p=h[y])for(var _=(n?n in p?[n]:[]:Object.keys(p)),b=0;b<_.length;b++){var v={subject:null,predicate:null,object:null};v[i]=M(m,this._factory),v[s]=M(g,this._factory),v[a]=M(d[_[b]],this._factory);var w=this._factory.quad(v.subject,v.predicate,v.object,M(o,this._factory));if(c)c.push(w);else if(u(w))return!0}}}return c}_loop(e,t){for(var r in e)t(r)}_loopByKey0(e,t,r){var n,i;if(n=e[t])for(i in n)r(i)}_loopByKey1(e,t,r){var n;for(n in e)e[n][t]&&r(n)}_loopBy2Keys(e,t,r,n){var i,s,a;if((i=e[t])&&(s=i[r]))for(a in s)n(a)}_countInIndex(e,t,r,n){var i,s,a,o=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(s=e[u])for(var c in r&&((i=s,s={})[r]=i[r]),s)(a=s[c])&&(n?n in a&&o++:o+=Object.keys(a).length);return o}_getGraphs(e){if(!L(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}_uniqueEntities(e){var t=Object.create(null),r=this._entities;return function(n){n in t||(t[n]=!0,e(M(r[n])))}}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=D(e),t=D(t),r=D(r),n=D(n);var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var s=this._ids,a=this._entities;e=s[e]||(s[a[++this._id]=e]=this._id),t=s[t]||(s[a[++this._id]=t]=this._id),r=s[r]||(s[a[++this._id]=r]=this._id);var o=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,o}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}import(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}removeQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=D(e),t=D(t),r=D(r),n=D(n);var i,s,a,o=this._ids,u=this._graphs;if(!((e=o[e])&&(t=o[t])&&(r=o[r])&&(i=u[n])&&(s=i.subjects[e])&&(a=s[t])&&r in a))return!1;for(e in this._removeFromIndex(i.subjects,e,t,r),this._removeFromIndex(i.predicates,t,r,e),this._removeFromIndex(i.objects,r,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete u[n],!0}removeQuads(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}removeMatches(e,t,r,n){return this.remove(this.match(e,t,r,n))}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){e=e&&D(e),t=t&&D(t),r=r&&D(r),n=n&&D(n);var i,s,a,o,u=[],c=this._getGraphs(n),l=this._ids;if(L(e)&&!(s=l[e])||L(t)&&!(a=l[t])||L(r)&&!(o=l[r]))return u;for(var h in c)(i=c[h])&&(s?o?this._findInIndex(i.objects,o,s,a,"object","subject","predicate",h,null,u):this._findInIndex(i.subjects,s,a,null,"subject","predicate","object",h,null,u):a?this._findInIndex(i.predicates,a,o,null,"predicate","object","subject",h,null,u):o?this._findInIndex(i.objects,o,null,null,"object","subject","predicate",h,null,u):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",h,null,u));return u}match(e,t,r,n){var i=new k.Readable({objectMode:!0});return i._read=()=>{for(var s of this.getQuads(e,t,r,n))i.push(s);i.push(null)},i}countQuads(e,t,r,n){e=e&&D(e),t=t&&D(t),r=r&&D(r),n=n&&D(n);var i,s,a,o,u=0,c=this._getGraphs(n),l=this._ids;if(L(e)&&!(s=l[e])||L(t)&&!(a=l[t])||L(r)&&!(o=l[r]))return 0;for(var h in c)(i=c[h])&&(u+=e?r?this._countInIndex(i.objects,o,s,a):this._countInIndex(i.subjects,s,a,o):t?this._countInIndex(i.predicates,a,o,s):this._countInIndex(i.objects,o,s,a));return u}forEach(e,t,r,n,i){this.some((function(t){return e(t),!1}),t,r,n,i)}every(e,t,r,n,i){var s=!1,a=!this.some((function(t){return s=!0,!e(t)}),t,r,n,i);return s&&a}some(e,t,r,n,i){t=t&&D(t),r=r&&D(r),n=n&&D(n),i=i&&D(i);var s,a,o,u,c=this._getGraphs(i),l=this._ids;if(L(t)&&!(a=l[t])||L(r)&&!(o=l[r])||L(n)&&!(u=l[n]))return!1;for(var h in c)if(s=c[h])if(a){if(u){if(this._findInIndex(s.objects,u,a,o,"object","subject","predicate",h,e,null))return!0}else if(this._findInIndex(s.subjects,a,o,null,"subject","predicate","object",h,e,null))return!0}else if(o){if(this._findInIndex(s.predicates,o,u,null,"predicate","object","subject",h,e,null))return!0}else if(u){if(this._findInIndex(s.objects,u,null,null,"object","subject","predicate",h,e,null))return!0}else if(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",h,e,null))return!0;return!1}getSubjects(e,t,r){var n=[];return this.forSubjects((function(e){n.push(e)}),e,t,r),n}forSubjects(e,t,r,n){t=t&&D(t),r=r&&D(r),n=n&&D(n);var i,s,a,o=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(L(t)&&!(s=o[t])||L(r)&&!(a=o[r])))for(n in u)(i=u[n])&&(s?a?this._loopBy2Keys(i.predicates,s,a,e):this._loopByKey1(i.subjects,s,e):a?this._loopByKey0(i.objects,a,e):this._loop(i.subjects,e))}getPredicates(e,t,r){var n=[];return this.forPredicates((function(e){n.push(e)}),e,t,r),n}forPredicates(e,t,r,n){t=t&&D(t),r=r&&D(r),n=n&&D(n);var i,s,a,o=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(L(t)&&!(s=o[t])||L(r)&&!(a=o[r])))for(n in u)(i=u[n])&&(s?a?this._loopBy2Keys(i.objects,a,s,e):this._loopByKey0(i.subjects,s,e):a?this._loopByKey1(i.predicates,a,e):this._loop(i.predicates,e))}getObjects(e,t,r){var n=[];return this.forObjects((function(e){n.push(e)}),e,t,r),n}forObjects(e,t,r,n){t=t&&D(t),r=r&&D(r),n=n&&D(n);var i,s,a,o=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(L(t)&&!(s=o[t])||L(r)&&!(a=o[r])))for(n in u)(i=u[n])&&(s?a?this._loopBy2Keys(i.subjects,s,a,e):this._loopByKey1(i.objects,s,e):a?this._loopByKey0(i.predicates,a,e):this._loop(i.objects,e))}getGraphs(e,t,r){var n=[];return this.forGraphs((function(e){n.push(e)}),e,t,r),n}forGraphs(e,t,r,n){for(var i in this._graphs)this.some((function(t){return e(t.graph),!0}),t,r,n,i)}createBlankNode(e){var t,r;if(e)for(t=e="_:"+e,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){var r={},n=t?()=>!0:(e,t)=>{throw new Error(`${e.value} ${t}`)},s=this.getQuads(null,i.a.rdf.rest,i.a.rdf.nil,null),a=e?[...s]:[];return s.forEach(t=>{for(var s,o,u=[],c=!1,l=t.graph,h=t.subject;h&&!c;){var p,d,f=this.getQuads(null,null,h,null),m=this.getQuads(h,null,null,null),y=null,g=null,_=null;for(p=0;p<m.length&&!c;p++)(d=m[p]).graph.equals(l)?s?c=n(h,"has non-list arcs out"):d.predicate.value===i.a.rdf.first?y?c=n(h,"has multiple rdf:first arcs"):a.push(y=d):d.predicate.value===i.a.rdf.rest?g?c=n(h,"has multiple rdf:rest arcs"):a.push(g=d):f.length?c=n(h,"can't be subject and object"):(s=d,o="subject"):c=n(h,"not confined to single graph");for(p=0;p<f.length&&!c;++p)d=f[p],s?c=n(h,"can't have coreferences"):d.predicate.value===i.a.rdf.rest?_?c=n(h,"has incoming rdf:rest arcs"):_=d:(s=d,o="object");y?u.unshift(y.object):c=n(h,"has no list head"),h=_&&_.subject}c?e=!1:s&&(r[s[o].value]=u)}),e&&this.removeQuads(a),r}}function L(e){return"string"==typeof e||e instanceof String}class q extends k.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;var t,r,n=this;new S(e).parse({on:function(e,n){switch(e){case"data":t=n;break;case"end":r=n}}},(function(e,t){e&&n.emit("error",e)||t&&n.push(t)}),(function(e,t){n.emit("prefix",e,t)})),this._transform=function(e,r,n){t(e),n()},this._flush=function(e){r(),e()}}import(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}class B extends k.Transform{constructor(e){super({encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,r=this._writer=new N({write:function(e,r,n){t.push(e),n&&n()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,n){r.addQuad(e,n)},this._flush=function(e){r.end(e)}}import(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,r){t._writer.addPrefix(e,r)})),this}}function U(e){return!!e&&"NamedNode"===e.termType}function H(e){return!!e&&"BlankNode"===e.termType}function z(e){return!!e&&"Literal"===e.termType}function V(e){return!!e&&"Variable"===e.termType}function Q(e){return!!e&&"DefaultGraph"===e.termType}function G(e){return Q(e.graph)}function X(e,t){return $({"":e},t)("")}function $(e,t){var r=Object.create(null);for(var n in e)i(n,e[n]);function i(e,n){if("string"==typeof n){var i=Object.create(null);r[e]=function(e){return i[e]||(i[e]=t.namedNode(n+e))}}else if(!(e in r))throw new Error("Unknown prefix: "+e);return r[e]}return t=t||g,i}r.d(t,"DataFactory",(function(){return g})),r.d(t,"Lexer",(function(){return b.a})),r.d(t,"Parser",(function(){return S})),r.d(t,"Writer",(function(){return N})),r.d(t,"Store",(function(){return F})),r.d(t,"StreamParser",(function(){return q})),r.d(t,"StreamWriter",(function(){return B})),r.d(t,"Util",(function(){return n}))},,function(e,t,r){r(203),e.exports=self.fetch.bind(self)},function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",s="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function o(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var u,c,l=Object.prototype,h=l.hasOwnProperty,p=l.toString,d=l.propertyIsEnumerable,f=(u=Object.keys,c=Object,function(e){return u(c(e))}),m=Math.max,y=!d.call({valueOf:1},"valueOf");function g(e,t){var r=S(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&E(e)}(e)&&h.call(e,"callee")&&(!d.call(e,"callee")||p.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,s=!!i;for(var a in e)!t&&!h.call(e,a)||s&&("length"==a||b(a,i))||r.push(a);return r}function _(e,t,r){var n=e[t];h.call(e,t)&&w(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function b(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function v(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||l)}function w(e,t){return e===t||e!=e&&t!=t}var S=Array.isArray;function E(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=T(e)?p.call(e):"";return t==i||t==s}(e)}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var x,O=(x=function(e,t){if(y||v(t)||E(t))!function(e,t,r,n){r||(r={});for(var i=-1,s=t.length;++i<s;){var a=t[i],o=n?n(r[a],e[a],a,r,e):void 0;_(r,a,void 0===o?e[a]:o)}}(t,function(e){return E(e)?g(e):function(e){if(!v(e))return f(e);var t=[];for(var r in Object(e))h.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}(t),e);else for(var r in t)h.call(t,r)&&_(e,r,t[r])},function(e,t){return t=m(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=m(r.length-t,0),s=Array(i);++n<i;)s[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=s,o(e,this,a)}}((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,s=n>2?t[2]:void 0;for(i=x.length>3&&"function"==typeof i?(n--,i):void 0,s&&function(e,t,r){if(!T(r))return!1;var n=typeof t;return!!("number"==n?E(r)&&b(t,r.length):"string"==n&&t in r)&&w(r[t],e)}(t[0],t[1],s)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&x(e,a,r,i)}return e})));e.exports=O},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,s,a,o;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,o=u,console&&console.warn&&console.warn(o)}return e}function h(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)s(u,this,t);else{var c=u.length,l=m(u,c);for(r=0;r<c;++r)s(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,s,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(241)),n(r(244))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(61);t.isTag=function(e){return n.isTag(e)},t.isCDATA=function(e){return"cdata"===e.type},t.isText=function(e){return"text"===e.type},t.isComment=function(e){return"comment"===e.type},t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error(`Invalid RDF ${e.datatype.value} value: '${e.value}'`)}registerHandler(e,t,r){for(const r of t)this.supportedRdfDatatypes.push(r),this.fromRdfHandlers[r.value]=e;for(const t of r){let r=this.toRdfHandlers[t];r||(this.toRdfHandlers[t]=r=[]),r.push(e)}}fromRdf(e,t){const r=this.fromRdfHandlers[e.datatype.value];return r?r.fromRdf(e,t):e.value}toRdf(e,t){const r=this.toRdfHandlers[typeof e];if(r)for(const n of r){const r=n.toRdf(e,t);if(r)return r}throw new Error(`Invalid JavaScript value: '${e}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EntryHandlerKeyword=class{constructor(e){this.keyword=e}isPropertyHandler(){return!1}async validate(e,t,r,n,i){return!1}async test(e,t,r,n,i){return r===this.keyword}}},function(e,t){e.exports=solid.auth},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(204))},function(e,t,r){"use strict";var n=r(229).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(299))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=Object.freeze({ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath"}),t.expressionTypes=Object.freeze({AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term",WILDCARD:"wildcard"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(5),s=r(32).Wildcard;t.default=class{constructor(e){this.dataFactory=e||n,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:"alt",left:e,right:t}}createAsk(e){return{type:"ask",input:e}}createBoundAggregate(e,t,r,n,i){let s=this.createAggregateExpression(t,r,n,i);return s.variable=e,s}createBgp(e){return{type:"bgp",patterns:e}}createConstruct(e,t){return{type:"construct",input:e,template:t}}createDescribe(e,t){return{type:"describe",input:e,terms:t}}createDistinct(e){return{type:"distinct",input:e}}createExtend(e,t,r){return{type:"extend",input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:"from",input:e,default:t,named:r}}createFilter(e,t){return{type:"filter",input:e,expression:t}}createGraph(e,t){return{type:"graph",input:e,name:t}}createGroup(e,t,r){return{type:"group",input:e,variables:t,aggregates:r}}createInv(e){return{type:"inv",path:e}}createJoin(e,t){return{type:"join",left:e,right:t}}createLeftJoin(e,t,r){return r?{type:"leftjoin",left:e,right:t,expression:r}:{type:"leftjoin",left:e,right:t}}createLink(e){return{type:"link",iri:e}}createMinus(e,t){return{type:"minus",left:e,right:t}}createNps(e){return{type:"nps",iris:e}}createOneOrMorePath(e){return{type:"OneOrMorePath",path:e}}createOrderBy(e,t){return{type:"orderby",input:e,expressions:t}}createPath(e,t,r,n){return n?{type:"path",subject:e,predicate:t,object:r,graph:n}:{type:"path",subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let i;return i=n?this.dataFactory.quad(e,t,r,n):this.dataFactory.triple(e,t,r),i.type="pattern",i}createProject(e,t){return{type:"project",input:e,variables:t}}createReduced(e){return{type:"reduced",input:e}}createSeq(e,t){return{type:"seq",left:e,right:t}}createService(e,t,r){return{type:"service",input:e,name:t,silent:r}}createSlice(e,t,r){return void 0===t&&(t=0),void 0!==r?{type:"slice",input:e,start:t,length:r}:{type:"slice",input:e,start:t}}createUnion(e,t){return{type:"union",left:e,right:t}}createValues(e,t){return{type:"values",variables:e,bindings:t}}createZeroOrMorePath(e){return{type:"ZeroOrMorePath",path:e}}createZeroOrOnePath(e){return{type:"ZeroOrOnePath",path:e}}createAggregateExpression(e,t,r,n){return n?{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,separator:n,distinct:r}:{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:"expression",expressionType:"existence",not:e,input:t}}createNamedExpression(e,t){return{type:"expression",expressionType:"named",name:e,args:t}}createOperatorExpression(e,t){return{type:"expression",expressionType:"operator",operator:e,args:t}}createTermExpression(e){return{type:"expression",expressionType:"term",term:e}}createWildcardExpression(){return{type:"expression",expressionType:"wildcard",wildcard:new s}}createTerm(e){return i.stringToTerm(e,this.dataFactory)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(374))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(8),s=r(35),a=r(14),o=r(16),u=r(55),c=r(73),l=r(14);function h(e){if(!e)throw new o.InvalidExpression(e);const t=i.Algebra.expressionTypes;switch(e.expressionType){case t.TERM:return p(e);case t.OPERATOR:return function(e){if(a.SpecialOperators.contains(e.operator)){const t=e.operator,r=e.args.map(e=>h(e)),n=c.specialFunctions.get(t);if(!n.checkArity(r))throw new o.InvalidArity(r,t);return new s.SpecialOperator(r,n.applyAsync,n.applySync)}{if(!a.Operators.contains(e.operator))throw new o.UnknownOperator(e.operator);const t=e.operator,r=e.args.map(e=>h(e)),n=c.regularFunctions.get(t);if(!function(e,t){if(t===1/0)return!0;if(Array.isArray(t))return t.indexOf(e.length)>=0;return e.length===t}(r,n.arity))throw new o.InvalidArity(r,t);return new s.Operator(r,n.apply)}}(e);case t.NAMED:return f(e);case t.EXISTENCE:return y(e);case t.AGGREGATE:return m(e);case t.WILDCARD:return function(e){if(!e.wildcard)throw new o.InvalidExpression(e);return new s.NamedNode(e.wildcard.value)}(e);default:throw new o.InvalidExpressionType(e)}}function p(e){if(!e.term)throw new o.InvalidExpression(e);switch(e.term.termType){case"Variable":return new s.Variable(n.termToString(e.term));case"Literal":return d(e.term);case"NamedNode":return new s.NamedNode(e.term.value);case"BlankNode":return new s.BlankNode(e.term.value);default:throw new o.InvalidTermType(e)}}function d(e){if(!e.datatype)return e.language?new s.LangStringLiteral(e.value,e.language):new s.StringLiteral(e.value);switch(e.datatype.value){case null:case void 0:case"":return e.language?new s.LangStringLiteral(e.value,e.language):new s.StringLiteral(e.value);case l.TypeURL.XSD_STRING:return new s.StringLiteral(e.value);case l.TypeURL.RDF_LANG_STRING:return new s.LangStringLiteral(e.value,e.language);case l.TypeURL.XSD_DATE_TIME:case l.TypeURL.XSD_DATE:{const t=new Date(e.value);return isNaN(t.getTime())?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.DateTimeLiteral(new Date(e.value),e.value)}case l.TypeURL.XSD_BOOLEAN:return"true"!==e.value&&"false"!==e.value?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.BooleanLiteral("true"===e.value,e.value);case l.TypeURL.XSD_INTEGER:case l.TypeURL.XSD_DECIMAL:case l.TypeURL.XSD_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_POSITIVE_INTEGER:case l.TypeURL.XSD_POSITIVE_INTEGER:case l.TypeURL.XSD_LONG:case l.TypeURL.XSD_SHORT:case l.TypeURL.XSD_BYTE:case l.TypeURL.XSD_UNSIGNED_LONG:case l.TypeURL.XSD_UNSIGNED_INT:case l.TypeURL.XSD_UNSIGNED_SHORT:case l.TypeURL.XSD_UNSIGNED_BYTE:case l.TypeURL.XSD_INT:{const t=u.parseXSDDecimal(e.value);return void 0===t?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.NumericLiteral(t,e.datatype,e.value)}case l.TypeURL.XSD_FLOAT:case l.TypeURL.XSD_DOUBLE:{const t=u.parseXSDFloat(e.value);return void 0===t?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.NumericLiteral(t,e.datatype,e.value)}default:return new s.Literal(e.value,e.datatype,e.value)}}function f(e){const t=e.name.value;if(!a.NamedOperators.contains(t))throw new o.UnknownNamedOperator(e.name.value);const r=e.name.value,n=e.args.map(e=>h(e)),i=c.namedFunctions.get(r);return new s.Named(e.name,n,i.apply)}function m(e){const t=e.aggregator;return new s.Aggregate(t,e)}function y(e){return new s.Existence(e)}t.transformAlgebra=h,t.transformRDFTermUnsafe=function(e){return p({term:e,type:"expression",expressionType:"term"})},t.transformLiteral=d,t.transformNamed=f,t.transformAggregate=m,t.transformExistence=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXSDFloat=function(e){const t=Number(e);return isNaN(t)?"NaN"===e?NaN:"INF"===e?1/0:"-INF"===e?-1/0:void 0:t},t.parseXSDDecimal=function(e){if(/^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(e)){const t=Number(e);return isNaN(t)?void 0:t}},t.parseXSDInteger=function(e){if(/^(\-|\+)?([0-9]+)$/.test(e)){const t=Number(e);return isNaN(t)?void 0:t}},t.parseXSDDateTime=function(e){const t=e.indexOf("T"),r=t>=0?e.substr(0,t):e,[n,i,s]=r.split("-");let a="",o="",u="",c="";if(t>=0){const r=e.substr(t+1),[n,i]=r.split(/[\+\-Z]/);[a,o,u]=n.split(":");const s=new RegExp(/([\+\-Z].*)/).exec(r);c=s?s[0]:""}else a="00",o="00",u="00",c="";return{year:n,month:i,day:s,hours:a,minutes:o,seconds:u,timezone:c}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19),i=r(35),s=r(14),a=r(16),o=r(14),u=r(74);t.declare=function(){return new c};class c{constructor(){this.implementations=[]}collect(){return p(this.implementations)}log(){return console.log(this.implementations),this}add(e){return this.implementations.push(e),this}set(e,t){const r=n.List(e);return this.add(new h({types:r,func:t}))}copy({from:e,to:t}){const r=this.implementations.length-1,i=n.List(e);for(let e=r;e>=0;e--){const r=this.implementations[e];if(r.get("types").equals(i))return this.set(t,r.get("func"))}throw new a.UnexpectedError("Tried to copy implementation, but types not found",{from:e,to:t})}onUnary(e,t){return this.set([e],([e])=>t(e))}onUnaryTyped(e,t){return this.set([e],([e])=>t(e.typedValue))}onBinary(e,t){return this.set(e,([e,r])=>t(e,r))}onBinaryTyped(e,t){return this.set(e,([e,r])=>t(e.typedValue,r.typedValue))}onTernaryTyped(e,t){return this.set(e,([e,r,n])=>t(e.typedValue,r.typedValue,n.typedValue))}onTernary(e,t){return this.set(e,([e,r,n])=>t(e,r,n))}onQuaternaryTyped(e,t){return this.set(e,([e,r,n,i])=>t(e.typedValue,r.typedValue,n.typedValue,i.typedValue))}unimplemented(e){for(let t=0;t<=5;t++){const r=Array(t).fill("term"),n=t=>{throw new a.UnimplementedError(e)};this.set(r,n)}return this}onTerm1(e){return this.set(["term"],([t])=>e(t))}onLiteral1(e){return this.set(["literal"],([t])=>e(t))}onBoolean1(e){return this.set(["boolean"],([t])=>e(t))}onBoolean1Typed(e){return this.set(["boolean"],([t])=>e(t.typedValue))}onString1(e){return this.set(["string"],([t])=>e(t))}onString1Typed(e){return this.set(["string"],([t])=>e(t.typedValue))}onLangString1(e){return this.set(["langString"],([t])=>e(t))}onStringly1(e){return this.set(["string"],([t])=>e(t)).set(["langString"],([t])=>e(t))}onStringly1Typed(e){return this.set(["string"],([t])=>e(t.typedValue)).set(["langString"],([t])=>e(t.typedValue))}onNumeric1(e){return this.set(["integer"],([t])=>e(t)).set(["decimal"],([t])=>e(t)).set(["float"],([t])=>e(t)).set(["double"],([t])=>e(t)).invalidLexicalForm(["nonlexical"],1)}onDateTime1(e){return this.set(["date"],([t])=>e(t)).invalidLexicalForm(["nonlexical"],1)}arithmetic(e){return this.numeric(([t,r])=>{const n=u.promote(t.type,r.type),i=s.decategorize(n);return f(e(t.typedValue,r.typedValue),i)})}numberTest(e){return this.numeric(([t,r])=>{return d(e(t.typedValue,r.typedValue))})}stringTest(e){return this.set(["string","string"],([t,r])=>{return d(e(t.typedValue,r.typedValue))}).invalidLexicalForm(["nonlexical","string"],1).invalidLexicalForm(["string","nonlexical"],2)}booleanTest(e){return this.set(["boolean","boolean"],([t,r])=>{return d(e(t.typedValue,r.typedValue))}).invalidLexicalForm(["nonlexical","boolean"],1).invalidLexicalForm(["boolean","nonlexical"],2)}dateTimeTest(e){return this.set(["date","date"],([t,r])=>{return d(e(t.typedValue,r.typedValue))}).invalidLexicalForm(["nonlexical","date"],1).invalidLexicalForm(["date","nonlexical"],2)}numeric(e){return this.set(["integer","integer"],e).set(["integer","decimal"],e).set(["integer","float"],e).set(["integer","double"],e).invalidLexicalForm(["integer","nonlexical"],2).set(["decimal","integer"],e).set(["decimal","decimal"],e).set(["decimal","float"],e).set(["decimal","double"],e).invalidLexicalForm(["decimal","nonlexical"],2).set(["float","integer"],e).set(["float","decimal"],e).set(["float","float"],e).set(["float","double"],e).invalidLexicalForm(["float","nonlexical"],2).set(["double","integer"],e).set(["double","decimal"],e).set(["double","float"],e).set(["double","double"],e).invalidLexicalForm(["double","nonlexical"],2).invalidLexicalForm(["nonlexical","integer"],1).invalidLexicalForm(["nonlexical","decimal"],1).invalidLexicalForm(["nonlexical","float"],1).invalidLexicalForm(["nonlexical","double"],1)}invalidLexicalForm(e,t){return this.set(e,e=>{throw new a.InvalidLexicalForm(e[t-1].toRDF())})}chain(e){return this.implementations=this.implementations.concat(e),this}}t.Builder=c;const l={types:[],func(){throw new a.UnexpectedError("Implementation not set yet declared as implemented")}};class h extends(n.Record(l)){constructor(e){super(e)}get(e){return super.get(e)}toPair(){return[this.get("types"),this.get("func")]}}function p(e){const t=e.map(e=>e.toPair());return n.Map(t)}function d(e){return new i.BooleanLiteral(e)}function f(e,t){return new i.NumericLiteral(e,s.make(t||o.TypeURL.XSD_FLOAT),void 0)}t.Impl=h,t.map=p,t.bool=d,t.number=f,t.numberFromString=function(e,t){const r=Number(e);return new i.NumericLiteral(r,s.make(t||o.TypeURL.XSD_FLOAT),void 0)},t.string=function(e){return new i.StringLiteral(e)},t.langString=function(e,t){return new i.LangStringLiteral(e,t)},t.dateTime=function(e,t){return new i.DateTimeLiteral(e,t)},t.log=function(e,...t){return console.log(e,t),e},t.typeCheckLit=function(e,t,r,n){if("literal"!==e.termType)throw new a.InvalidArgumentTypes(r,n);const i=e;if(!t.includes(i.type))throw new a.InvalidArgumentTypes(r,n);return i}},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return p}));var i=r(6);const{xsd:s}=i.a,{fromCharCode:a}=String;var o=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,l={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},h=/$0^/;class p{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode)for(var t in this._n3Mode=!1,this)!(t in l)&&this[t]instanceof RegExp&&(this[t]=h);else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){for(var r=this._input,n=this._comments;;){for(var i,a;i=this._newline.exec(r);)n&&(a=this._comment.exec(i[0]))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),r=r.substr(i[0].length,r.length),this._line++;if(!i&&(i=this._whitespace.exec(r))&&(r=r.substr(i[0].length,r.length)),this._endOfFile.test(r))return t&&(n&&(a=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var o=this._line,u="",l="",h="",p=r[0],d=null,f=0,m=!1;switch(p){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(f=1,u="^");break}if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){m=!0;break}case"<":if(d=this._unescapedIri.exec(r))u="IRI",l=d[1];else if(d=this._iri.exec(r)){if(null===(l=this._unescape(d[1]))||c.test(l))return g(this);u="IRI"}else this._n3Mode&&r.length>1&&"="===r[1]&&(u="inverse",f=2,l=">");break;case"_":((d=this._blank.exec(r))||t&&(d=this._blank.exec(r+" ")))&&(u="blank",h="_",l=d[1]);break;case'"':if(d=this._simpleQuotedString.exec(r))l=d[1];else if(({value:l,matchLength:f}=this._parseLiteral(r)),null===l)return g(this);null===d&&0===f||(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(d=this._simpleApostropheString.exec(r))l=d[1];else if(({value:l,matchLength:f}=this._parseLiteral(r)),null===l)return g(this);null===d&&0===f||(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(d=this._variable.exec(r))&&(u="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(r))?(u="langcode",l=d[1]):(d=this._keyword.exec(r))&&(u=d[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){u=".",f=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(r)||t&&(d=this._number.exec(r+" ")))&&(u="literal",l=d[0],h=d[1]?s.double:/^[+\-]?\d+$/.test(d[0])?s.integer:s.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(r))?u=d[0].toUpperCase():m=!0;break;case"f":case"t":(d=this._boolean.exec(r))?(u="literal",l=d[0],h=s.boolean):m=!0;break;case"a":(d=this._shortPredicates.exec(r))?(u="abbreviation",l="a"):m=!0;break;case"=":this._n3Mode&&r.length>1&&(u="abbreviation",">"!==r[1]?(f=1,l="="):(f=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(f=1,u=p);break;default:m=!0}if(m&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(r))?((d=this._prefixed.exec(r))||t&&(d=this._prefixed.exec(r+" ")))&&(u="prefixed",h=d[1]||"",l=this._unescape(d[2])):(u="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?g(this):this._input=r;var y={line:o,type:u,value:l,prefix:h};e(null,y),this.previousToken=y,this._previousMarker=u,r=r.substr(f||d[0].length,r.length)}function g(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){try{return e.replace(o,(function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return a(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<=65535?a(i):a(55296+(i-=65536)/1024,56320+(1023&i))}var s=u[n];if(!s)throw new Error;return s}))}catch(e){return null}}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let t=0;for(;"\\"===e[n-t-1];)t++;if(t%2==0){const t=e.substring(r,n),i=t.split(/\r\n|\r|\n/).length-1,s=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:s}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}tokenize(t,r){var i=this;if(this._line=1,"string"==typeof t){if(this._input=t,"function"!=typeof r){var s,a=[];if(this._tokenizeToEnd((function(e,t){e?s=e:a.push(t)}),!0),s)throw s;return a}e((function(){i._tokenizeToEnd(r,!0)}))}else this._input="",this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(function(e){null!==i._input&&0!==e.length&&(i._pendingBuffer&&(e=n.concat([i._pendingBuffer,e]),i._pendingBuffer=null),128&e[e.length-1]?i._pendingBuffer=e:(i._input+=e,i._tokenizeToEnd(r,!1)))})),t.on("end",(function(){null!==i._input&&i._tokenizeToEnd(r,!0)})),t.on("error",r)}}}).call(this,r(13).setImmediate,r(12).Buffer)},function(e,t,r){"use strict";var n=r(28).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var a=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){o=!1,c=!0,a||s.call(t)},h=t._readableState&&t._readableState.endEmitted,p=function(){a=!1,h=!0,o||s.call(t)},d=function(e){s.call(t,e)},f=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):o&&!c?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",p),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",p),t.removeListener("error",d),t.removeListener("close",f)}}},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=function(e){return"tag"===e.type||"script"===e.type||"style"===e.type},t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},t.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(267))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(281))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(120)),n(r(284)),n(r(125))},function(e,t){e.exports=null},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(293)),n(r(123))},function(e,t,r){"use strict";(function(e){var n=r(124),i=r(294),s=e.from&&e.from!==Uint8Array.from;function a(e,t){return"string"==typeof e?t==e:e&&"function"==typeof e.exec?e.exec(t):"boolean"==typeof e||"object"==typeof e?e:"function"==typeof e&&e(t)}t.parse=function(t,r){var o,u,c=new n,l=i((function(t){"string"==typeof t&&(t=s?e.from(t):new e(t)),c.write(t)}),(function(e){e&&l.write(e),o&&l.emit("header",o),u&&l.emit("footer",u),l.queue(null)}));"string"==typeof t&&(t=t.split(".").map((function(e){return"$*"===e?{emitKey:!0}:"*"===e||(""===e?{recurse:!0}:e)})));return t&&t.length||(t=null),c.onValue=function(e){if(this.root||(l.root=e),t){for(var n=0,i=0,s=!1,u=!1;n<t.length;){var c,p=t[n];if(i++,p&&!p.recurse){if(!(c=i===this.stack.length?this:this.stack[i]))return;if(!a(p,c.key))return void h(c.key,e);s=!!p.emitKey,u=!!p.emitPath,n++}else{n++;var d=t[n];if(!d)return;for(;;){if(!(c=i===this.stack.length?this:this.stack[i]))return;if(a(d,c.key)){n++,Object.isFrozen(this.stack[i])||(this.stack[i].value=null);break}h(c.key,e),i++}}}if(o&&(l.emit("header",o),o=!1),i===this.stack.length){0;var f=this.stack.slice(1).map((function(e){return e.key})).concat([this.key]),m=e;for(var y in null!=m&&null!=(m=r?r(m,f):m)&&((s||u)&&(m={value:m},s&&(m.key=this.key),u&&(m.path=f)),l.queue(m)),this.value&&delete this.value[this.key],this.stack)Object.isFrozen(this.stack[y])||(this.stack[y].value=null)}}},c._onToken=c.onToken,c.onToken=function(e,r){c._onToken(e,r),0===this.stack.length&&l.root&&(t||l.queue(l.root),0,l.root=null)},c.onError=function(e){e.message.indexOf("at position")>-1&&(e.message="Invalid JSON ("+e.message+")"),l.emit("error",e)},l;function h(e,t){!1!==o&&((o=o||{})[e]=t),!1!==u&&!1===o&&((u=u||{})[e]=t)}},t.stringify=function(e,t,r,n){n=n||0,!1===e?(e="",t="\n",r=""):null==e&&(e="[\n",t="\n,\n",r="\n]\n");var s,a=!0,o=!1;return s=i((function(r){o=!0;try{var i=JSON.stringify(r,null,n)}catch(e){return s.emit("error",e)}a?(a=!1,s.queue(e+i)):s.queue(t+i)}),(function(t){o||s.queue(e),s.queue(r),s.queue(null)}))},t.stringifyObject=function(e,t,r,n){n=n||0,!1===e?(e="",t="\n",r=""):null==e&&(e="{\n",t="\n,\n",r="\n}\n");var s=!0,a=!1;return i((function(r){a=!0;var i=JSON.stringify(r[0])+":"+JSON.stringify(r[1],null,n);s?(s=!1,this.queue(e+i)):this.queue(t+i)}),(function(t){a||this.queue(e),this.queue(r),this.queue(null)}))}}).call(this,r(12).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(51),i=r(52);class s{static inScopeVariables(e){const t=[];function r(e){t.find(t=>e.value===t.value)||t.push(e)}return s.recurseOperation(e,{[n.types.EXPRESSION]:e=>{let t=e;if("aggregate"===t.expressionType&&t.variable){r(t.variable)}return!0},[n.types.EXTEND]:e=>{return r(e.variable),!0},[n.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.GROUP]:e=>{return e.variables.forEach(r),!0},[n.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),!0},[n.types.PATTERN]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.predicate.termType&&r(t.predicate),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),!0},[n.types.PROJECT]:e=>{return e.variables.forEach(r),!1},[n.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.VALUES]:e=>{return e.variables.forEach(r),!0}}),t}static recurseOperation(e,t){let r=e,i=!0;if(t[e.type]&&(i=t[e.type](e)),!i)return;let a=e=>s.recurseOperation(e,t);switch(r.type){case n.types.ALT:const e=r;a(e.left),a(e.right);break;case n.types.ASK:a(r.input);break;case n.types.BGP:r.patterns.forEach(a);break;case n.types.CONSTRUCT:const t=r;a(t.input),t.template.map(a);break;case n.types.DESCRIBE:a(r.input);break;case n.types.DISTINCT:a(r.input);break;case n.types.EXPRESSION:const i=r;if(i.expressionType===n.expressionTypes.EXISTENCE){a(i.input)}break;case n.types.EXTEND:const s=r;a(s.input),a(s.expression);break;case n.types.FILTER:const o=r;a(o.input),a(o.expression);break;case n.types.FROM:a(r.input);break;case n.types.GRAPH:a(r.input);break;case n.types.GROUP:const u=r;a(u.input),u.aggregates.forEach(a);break;case n.types.INV:a(r.path);break;case n.types.JOIN:const c=r;a(c.left),a(c.right);break;case n.types.LEFT_JOIN:const l=r;a(l.left),a(l.right),l.expression&&a(l.expression);break;case n.types.LINK:break;case n.types.MINUS:const h=r;a(h.left),a(h.right);break;case n.types.NPS:break;case n.types.ONE_OR_MORE_PATH:a(r.path);break;case n.types.ORDER_BY:const p=r;a(p.input),p.expressions.forEach(a);break;case n.types.PATH:a(r.predicate);break;case n.types.PATTERN:break;case n.types.PROJECT:a(r.input);break;case n.types.REDUCED:a(r.input);break;case n.types.SEQ:const d=r;a(d.left),a(d.right);break;case n.types.SERVICE:a(r.input);break;case n.types.SLICE:a(r.input);break;case n.types.UNION:const f=r;a(f.left),a(f.right);break;case n.types.VALUES:break;case n.types.ZERO_OR_MORE_PATH:a(r.path);break;case n.types.ZERO_OR_ONE_PATH:a(r.path);break;default:throw new Error("Unknown Operation type "+r.type)}}static mapOperation(e,t,r){let a=e,o=!0;if(r=r||new i.default,t[e.type]&&({result:a,recurse:o}=t[e.type](e,r)),!o)return a;let u=e=>s.mapOperation(e,t,r);switch(a.type){case n.types.ALT:const e=a;return r.createAlt(u(e.left),u(e.right));case n.types.ASK:const i=a;return r.createAsk(u(i.input));case n.types.BGP:const o=a;return r.createBgp(o.patterns.map(u));case n.types.CONSTRUCT:const c=a;return r.createConstruct(u(c.input),c.template.map(u));case n.types.DESCRIBE:const l=a;return r.createDescribe(u(l.input),l.terms);case n.types.DISTINCT:const h=a;return r.createDistinct(u(h.input));case n.types.EXPRESSION:const p=a;return s.mapExpression(p,t,r);case n.types.EXTEND:const d=a;return r.createExtend(u(d.input),d.variable,u(d.expression));case n.types.FILTER:const f=a;return r.createFilter(u(f.input),u(f.expression));case n.types.FROM:const m=a;return r.createFrom(u(m.input),[].concat(m.default),[].concat(m.named));case n.types.GRAPH:const y=a;return r.createGraph(u(y.input),y.name);case n.types.GROUP:const g=a;return r.createGroup(u(g.input),[].concat(g.variables),g.aggregates.map(u));case n.types.INV:const _=a;return r.createInv(u(_.path));case n.types.JOIN:const b=a;return r.createJoin(u(b.left),u(b.right));case n.types.LEFT_JOIN:const v=a;return r.createLeftJoin(u(v.left),u(v.right),v.expression?u(v.expression):void 0);case n.types.LINK:const w=a;return r.createLink(w.iri);case n.types.MINUS:const S=a;return r.createMinus(u(S.left),u(S.right));case n.types.NPS:const E=a;return r.createNps([].concat(E.iris));case n.types.ONE_OR_MORE_PATH:const T=a;return r.createOneOrMorePath(u(T.path));case n.types.ORDER_BY:const x=a;return r.createOrderBy(u(x.input),x.expressions.map(u));case n.types.PATH:const O=a;return r.createPath(O.subject,u(O.predicate),O.object,O.graph);case n.types.PATTERN:const A=a;return r.createPattern(A.subject,A.predicate,A.object,A.graph);case n.types.PROJECT:const R=a;return r.createProject(u(R.input),[].concat(R.variables));case n.types.REDUCED:const P=a;return r.createReduced(u(P.input));case n.types.SEQ:const I=a;return r.createSeq(u(I.left),u(I.right));case n.types.SERVICE:const j=a;return r.createService(u(j.input),j.name,j.silent);case n.types.SLICE:const N=a;return r.createSlice(u(N.input),N.start,N.length);case n.types.UNION:const C=a;return r.createUnion(u(C.left),u(C.right));case n.types.VALUES:const k=a;return r.createValues([].concat(k.variables),k.bindings.map(e=>Object.assign({},e)));case n.types.ZERO_OR_MORE_PATH:const D=a;return r.createZeroOrMorePath(u(D.path));case n.types.ZERO_OR_ONE_PATH:const M=a;return r.createZeroOrOnePath(u(M.path));default:throw new Error("Unknown Operation type "+a.type)}}static mapExpression(e,t,r){let i=e=>s.mapOperation(e,t,r);switch(e.expressionType){case n.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,i(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,i(t.expression),t.distinct,t.separator);case n.expressionTypes.EXISTENCE:const s=e;return r.createExistenceExpression(s.not,i(s.input));case n.expressionTypes.NAMED:const a=e;return r.createNamedExpression(a.name,a.args.map(i));case n.expressionTypes.OPERATOR:const o=e;return r.createOperatorExpression(o.operator,o.args.map(i));case n.expressionTypes.TERM:const u=e;return r.createTermExpression(u.term);case n.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error("Unknown Expression type "+e.expressionType)}}static createUniqueVariable(e,t,r){let n=0,i=e;for(;t[i];)i=e+n++;return r.variable(i)}static isTerm(e){return void 0!==e.termType&&"Wildcard"!==e.termType}static isWildcard(e){return"Wildcard"===e.termType}}t.default=s},function(e,t,r){"use strict";const n=r(379),i=Symbol("max"),s=Symbol("length"),a=Symbol("lengthCalculator"),o=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),d=Symbol("updateAgeOnGet"),f=()=>1;const m=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(y(e,t)){if(_(e,n),!e[o])return}else r&&(e[d]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},g=e=>{if(e[s]>e[i])for(let t=e[h].tail;e[s]>e[i]&&null!==t;){const r=t.prev;_(e,t),t=r}},_=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[s]-=r.length,e[p].delete(r.key),e[h].removeNode(t)}};class b{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const v=(e,t,r,n)=>{let i=r.value;y(e,i)&&(_(e,r),e[o]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[a]="function"!=typeof t?f:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[d]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,g(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[a]&&(this[a]=e,this[s]=0,this[h].forEach(e=>{e.length=this[a](e.value,e.key),this[s]+=e.length})),g(this)}get lengthCalculator(){return this[a]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;null!==r;){const n=r.prev;v(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[h].head;null!==r;){const n=r.next;v(this,e,r,t),r=n}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach(e=>this[c](e.key,e.value)),this[p]=new Map,this[h]=new n,this[s]=0}dump(){return this[h].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,o=this[a](t,e);if(this[p].has(e)){if(o>this[i])return _(this,this[p].get(e)),!1;const a=this[p].get(e).value;return this[c]&&(this[l]||this[c](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[s]+=o-a.length,a.length=o,this.get(e),g(this),!0}const d=new b(e,t,o,n,r);return d.length>this[i]?(this[c]&&this[c](e,t),!1):(this[s]+=d.length,this[h].unshift(d),this[p].set(e,this[h].head),g(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!y(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[h].tail;return e?(_(this,e),e.value):null}del(e){_(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>m(this,t,!1))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(435))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(437)),n(r(176))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(74),i=r(452),s=r(453),a=r(466);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(74)),t.regularFunctions=s.definitions.map((e,t)=>new n.RegularFunction(t,e)).toMap(),t.specialFunctions=a.specialDefinitions.map((e,t)=>new n.SpecialFunction(t,e)).toMap(),t.namedFunctions=i.namedDefinitions.map((e,t)=>new n.NamedFunction(t,e)).toMap()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19),i=r(16);class s{constructor(e,t){this.operator=e,this.apply=e=>{return(this.monomorph(e)||this.handleInvalidTypes(e))(e)},this.arity=t.arity,this.overloads=t.overloads}monomorph(e){return this.overloads.get(a.asConcreteTypes(e))||this.overloads.get(a.asTermTypes(e))||this.overloads.get(a.asGenericTerms(e))}}t.BaseFunction=s;class a{static asConcreteTypes(e){return n.List(e.map(e=>e.type||e.termType))}static asTermTypes(e){return n.List(e.map(e=>e.termType))}static asGenericTerms(e){return n.List(Array(e.length).fill("term"))}}t.RegularFunction=class extends s{constructor(e,t){super(e,t),this.functionClass="regular"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}};t.NamedFunction=class extends s{constructor(e,t){super(e,t),this.functionClass="named"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}};t.SpecialFunction=class{constructor(e,t){var r;this.operator=e,this.functionClass="special",this.arity=t.arity,this.applySync=t.applySync,this.applyAsync=t.applyAsync,this.checkArity=t.checkArity||(r=this.arity,e=>r===1/0||(Array.isArray(r)?r.indexOf(e.length)>=0:e.length===r))}};const o={integer:{integer:"integer",decimal:"decimal",float:"float",double:"double"},decimal:{integer:"decimal",decimal:"decimal",float:"float",double:"double"},float:{integer:"float",decimal:"float",float:"float",double:"double"},double:{integer:"double",decimal:"double",float:"double",double:"double"}};t.promote=function(e,t){return o[e][t]}},function(e,t,r){var n=r(79),i=r(80);e.exports=function(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var o=0;o<16;++o)t[s+o]=a[o];return t||i(a)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),r(39);t.FetchDocumentLoader=class{load(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(e,{headers:{accept:"application/ld+json"}});if(t.ok)return yield t.json();throw new Error(`No valid context was found at ${e}: ${t.statusText}`)}))}}},function(e,t){function r(){this.value=""}r.prototype.equals=function(e){return!!e&&e.termType===this.termType},r.prototype.termType="DefaultGraph",e.exports=r},function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="NamedNode",e.exports=r},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(211))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Bus=class{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,r(40)(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const t=this.actors.indexOf(e);return t>=0&&(this.actors.splice(t,1),!0)}unsubscribeObserver(e){const t=this.observers.indexOf(e);return t>=0&&(this.observers.splice(t,1),!0)}publish(e){return this.actors.map(t=>({actor:t,reply:t.test(e)}))}onRun(e,t,r){for(const n of this.observers)n.onRun(e,t,r)}addDependencies(e,t){for(const r of t){let t=this.dependencyLinks.get(r);t||(t=[],this.dependencyLinks.set(r,t)),t.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const t of this.dependencyLinks.keys()){const r=this.actors.indexOf(t);r>=0&&(this.actors.splice(r,1),e.push(t))}for(;e.length>0;){let t=-1;for(let r=0;r<e.length;r++){let n=!0;for(const t of this.dependencyLinks.get(e[r]))if(this.actors.indexOf(t)<0&&e.indexOf(t)>=0){n=!1;break}if(n){t=r;break}}if(t<0)throw new Error("Cyclic dependency links detected in bus "+this.name);const r=e.splice(t,1)[0];this.actors.push(r)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static getLevelOrdinal(e){return n.LEVELS[e]}}n.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},t.Logger=n,t.KEY_CONTEXT_LOG="@comunica/core:log"},function(e,t,r){"use strict";(function(t){r(1);const n=r(233),i=r(234);e.exports=r(91),e.exports.toNodeReadable=function(t){if(t instanceof e.exports.ReadableStream||t&&"function"==typeof t.getReader)return i.readable.webToNode(t);throw new TypeError("Expected a ReadableStream.")},e.exports.toWebReadableStream=function(e){if(n(e)&&e.readable)return i.readable.nodeToWeb(e);if(Array.isArray(e))return i.readable.arrayToWeb(e);if(t.isBuffer(e)||"string"==typeof e)return i.readable.arrayToWeb([e]);throw new TypeError("Expected a Node streams.Readable, an Array, Buffer or String.")}}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(t,n){var i;e.exports=T,T.ReadableState=E;r(41).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=r(86),o=r(12).Buffer,u=t.Uint8Array||function(){};var c,l=r(224);c=l&&l.debuglog?l.debuglog("stream"):function(){};var h,p,d=r(225),f=r(87),m=r(88).getHighWaterMark,y=r(28).codes,g=y.ERR_INVALID_ARG_TYPE,_=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=r(227).emitExperimentalWarning;r(9)(T,a);var S=["error","close","destroy","pause","resume"];function E(e,t,n){i=i||r(29),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(48).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function T(e){if(i=i||r(29),!(this instanceof T))return new T(e);var t=this instanceof i;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(e,t,r,n,i){c("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}(e,a);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(a,t)),s)e.emit("error",s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)a.endEmitted?e.emit("error",new v):O(e,a,t,!0);else if(a.ended)e.emit("error",new _);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?O(e,a,t,!1):j(e,a)):O(e,a,t,!1)}else n||(a.reading=!1,j(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function O(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),j(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=f.destroy,T.prototype._undestroy=f.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},T.prototype.unshift=function(e){return x(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){return h||(h=r(48).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var A=8388608;function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(I,e))}function I(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function j(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function C(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function k(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(q,t,e))}function q(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function B(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):P(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(r,t))),null===(n=e>0?F(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){this.emit("error",new b("_read()"))},T.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?u:y;function o(t,n){c("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",p),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",o);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(r);e.on("drain",l);var h=!1;function p(t){c("ondata");var n=e.write(t);c("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==B(i.pipes,e))&&!h&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){c("onerror",t),y(),e.removeListener("error",d),0===s(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",m),y()}function m(){c("onfinish"),e.removeListener("close",f),y()}function y(){c("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",f),e.once("finish",m),e.emit("pipe",r),i.flowing||(c("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=B(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},T.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?P(this):i.reading||n.nextTick(k,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(C,this),r},T.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(C,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(D,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return w("Readable[Symbol.asyncIterator]"),void 0===p&&(p=r(230)),p(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=F,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})}).call(this,r(10),r(11))},function(e,t,r){e.exports=r(41).EventEmitter},function(e,t,r){"use strict";(function(t){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,s){var a=this,o=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return o||u?(s?s(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!s&&e?(t.nextTick(r,a,e),a._writableState&&(a._writableState.errorEmitted=!0)):s?(t.nextTick(n,a),s(e)):t.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}).call(this,r(11))},function(e,t,r){"use strict";var n=r(28).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";(function(t,n){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var s;e.exports=T,T.WritableState=E;var a={deprecate:r(228)},o=r(86),u=r(12).Buffer,c=t.Uint8Array||function(){};var l,h=r(87),p=r(88).getHighWaterMark,d=r(28).codes,f=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING;function S(){}function E(e,t,a){s=s||r(29),e=e||{},"boolean"!=typeof a&&(a=t instanceof s),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),I(e,t))}(e,r,i,t,s);else{var a=R(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||A(e,r),i?n.nextTick(O,e,r,a,s):O(e,r,a,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function T(e){var t=this instanceof(s=s||r(29));if(!t&&!l.call(T,this))return new T(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function x(e,t,r,n,i,s,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function O(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function A(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0,u=!0;r;)s[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;s.allBuffers=u,x(e,t,!0,t.length,s,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(x(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=R(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}r(9)(T,o),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===T&&(e&&e._writableState instanceof E)}})):l=function(e){return e instanceof this},T.prototype.pipe=function(){this.emit("error",new g)},T.prototype.write=function(e,t,r){var i,s=this._writableState,a=!1,o=!s.objectMode&&(i=e,u.isBuffer(i)||i instanceof c);return o&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=S),s.ending?function(e,t){var r=new v;e.emit("error",r),n.nextTick(t,r)}(this,r):(o||function(e,t,r,i){var s;return null===r?s=new b:"string"==typeof r||t.objectMode||(s=new f("chunk",["string","Buffer"],r)),!s||(e.emit("error",s),n.nextTick(i,s),!1)}(this,s,e,r))&&(s.pendingcb++,a=function(e,t,r,n,i,s){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var o=t.objectMode?1:n.length;t.length+=o;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,o,n,i,s);return c}(this,s,o,e,t,r)),a},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new m("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=h.destroy,T.prototype._undestroy=h.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this,r(10),r(11))},function(e,t,r){"use strict";e.exports=l;var n=r(28).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(29);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,r){p(e,t,r)}))}function p(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}r(9)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){(function(t){var r;e.exports=function e(t,n,i){function s(o,u){if(!n[o]){if(!t[o]){if(!u&&"function"==typeof r&&r)return r(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var r=t[o][1][e];return s(r||e)}),l,l.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof r&&r,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./spec/reference-implementation/lib/readable-stream").ReadableStream,i=e("./spec/reference-implementation/lib/writable-stream").WritableStream,s=e("./spec/reference-implementation/lib/byte-length-queuing-strategy"),a=e("./spec/reference-implementation/lib/count-queuing-strategy"),o=e("./spec/reference-implementation/lib/transform-stream").TransformStream;r.ByteLengthQueuingStrategy=s,r.CountQueuingStrategy=a,r.ReadableStream=n,r.WritableStream=i,r.TransformStream=o;var u={ReadableStream:n,WritableStream:i,ByteLengthQueuingStrategy:s,CountQueuingStrategy:a,TransformStream:o};r.default=u},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(e,r,n){(function(t){"use strict";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function s(e){return Object.prototype.toString.call(e)}function a(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function o(e){if(y.isFunction(e)){if(b)return e.name;var t=e.toString().match(w);return t&&t[1]}}function u(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(b||!y.isFunction(e))return y.inspect(e);var t=o(e);return"[Function"+(t?": "+t:"")+"]"}function l(e,t,r,n,i){throw new v.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function h(e,t){e||l(e,!0,t,"==",v.ok)}function p(e,t,r,o){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(y.isDate(e)&&y.isDate(t))return e.getTime()===t.getTime();if(y.isRegExp(e)&&y.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&s(e)===s(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(y.isPrimitive(e)||y.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=d(e),s=d(t);if(i&&!s||!i&&s)return!1;if(i)return e=_.call(e),t=_.call(t),p(e,t,r);var a,o,u=S(e),c=S(t);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),o=u.length-1;o>=0;o--)if(u[o]!==c[o])return!1;for(o=u.length-1;o>=0;o--)if(a=u[o],!p(e[a],t[a],r,n))return!1;return!0}(e,t,r,o))}return r?e===t:e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function m(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&l(i,r,"Missing expected exception"+n);var s="string"==typeof n,a=!e&&i&&!r;if((!e&&y.isError(i)&&s&&f(i,r)||a)&&l(i,r,"Got unwanted exception"+n),e&&i&&r&&!f(i,r)||!e&&i)throw i}var y=e("util/"),g=Object.prototype.hasOwnProperty,_=Array.prototype.slice,b="foo"===function(){}.name,v=r.exports=h,w=/\s*function\s+([^\(\s]*)\s*/;v.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return u(c(e.actual),128)+" "+e.operator+" "+u(c(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=o(t),s=n.indexOf("\n"+i);if(s>=0){var a=n.indexOf("\n",s+1);n=n.substring(a+1)}this.stack=n}}},y.inherits(v.AssertionError,Error),v.fail=l,v.ok=h,v.equal=function(e,t,r){e!=t&&l(e,t,r,"==",v.equal)},v.notEqual=function(e,t,r){e==t&&l(e,t,r,"!=",v.notEqual)},v.deepEqual=function(e,t,r){p(e,t,!1)||l(e,t,r,"deepEqual",v.deepEqual)},v.deepStrictEqual=function(e,t,r){p(e,t,!0)||l(e,t,r,"deepStrictEqual",v.deepStrictEqual)},v.notDeepEqual=function(e,t,r){p(e,t,!1)&&l(e,t,r,"notDeepEqual",v.notDeepEqual)},v.notDeepStrictEqual=function e(t,r,n){p(t,r,!0)&&l(t,r,n,"notDeepStrictEqual",e)},v.strictEqual=function(e,t,r){e!==t&&l(e,t,r,"===",v.strictEqual)},v.notStrictEqual=function(e,t,r){e===t&&l(e,t,r,"!==",v.notStrictEqual)},v.throws=function(e,t,r){m(!0,e,t,r)},v.doesNotThrow=function(e,t,r){m(!1,e,t,r)},v.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var r in e)g.call(e,r)&&t.push(r);return t}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":7}],3:[function(e,t,r){},{}],4:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(){m&&d&&(m=!1,d.length?f=d.concat(f):y=-1,f.length&&o())}function o(){if(!m){var e=s(a);m=!0;for(var t=f.length;t;){for(d=f,f=[];++y<t;)d&&d[y].run();y=-1,t=f.length}d=null,m=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var d,f=[],m=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new u(e,t)),1!==f.length||m||s(o)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],5:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],6:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],7:[function(e,r,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(t)?r.showHidden=t:t&&n._extend(r,t),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),o(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e,t){return e}function o(e,t,r){if(e.customInspect&&t&&v(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return f(i)||(i=o(e,i,r)),i}var s=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(f(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return d(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):p(t)?e.stylize("null","null"):void 0}(e,t);if(s)return s;var a=Object.keys(t),g=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),b(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(t);if(0===a.length){if(v(t)){var w=t.name?": "+t.name:"";return e.stylize("[Function"+w+"]","special")}if(y(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_(t))return e.stylize(Date.prototype.toString.call(t),"date");if(b(t))return u(t)}var S,E="",x=!1,O=["{","}"];return l(t)&&(x=!0,O=["[","]"]),v(t)&&(E=" [Function"+(t.name?": "+t.name:"")+"]"),y(t)&&(E=" "+RegExp.prototype.toString.call(t)),_(t)&&(E=" "+Date.prototype.toUTCString.call(t)),b(t)&&(E=" "+u(t)),0!==a.length||x&&0!=t.length?r<0?y(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),S=x?function(e,t,r,n,i){for(var s=[],a=0,o=t.length;a<o;++a)T(t,String(a))?s.push(c(e,t,r,n,String(a),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(c(e,t,r,n,i,!0))})),s}(e,t,r,g,a):a.map((function(n){return c(e,t,r,g,n,x)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(S,E,O)):O[0]+E+O[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,r,n,i,s){var a,u,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),T(n,i)||(a="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=p(r)?o(e,c.value,null):o(e,c.value,r-1)).indexOf("\n")>-1&&(u=s?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),m(a)){if(s&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function l(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function p(e){return null===e}function d(e){return"number"==typeof e}function f(e){return"string"==typeof e}function m(e){return void 0===e}function y(e){return g(e)&&"[object RegExp]"===w(e)}function g(e){return"object"==typeof e&&null!==e}function _(e){return g(e)&&"[object Date]"===w(e)}function b(e){return g(e)&&("[object Error]"===w(e)||e instanceof Error)}function v(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}function E(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var x=/%[sdj%]/g;n.format=function(e){if(!f(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,s=n.length,a=String(e).replace(x,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<s;o=n[++r])p(o)||!g(o)?a+=" "+o:a+=" "+i(o);return a},n.deprecate=function(e,i){if(m(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var s=!1;return function(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}};var O,A={};n.debuglog=function(e){if(m(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!A[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=t.pid;A[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else A[e]=function(){};return A[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=l,n.isBoolean=h,n.isNull=p,n.isNullOrUndefined=function(e){return null==e},n.isNumber=d,n.isString=f,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=m,n.isRegExp=y,n.isObject=g,n.isDate=_,n.isError=b,n.isFunction=v,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",E(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!g(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./helpers.js").createDataProperty;t.exports=function(){function e(t){var r=t.highWaterMark;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),i(this,"highWaterMark",r)}return n(e,[{key:"size",value:function(e){return e.byteLength}}]),e}()},{"./helpers.js":10}],9:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./helpers.js").createDataProperty;t.exports=function(){function e(t){var r=t.highWaterMark;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),i(this,"highWaterMark",r)}return n(e,[{key:"size",value:function(){return 1}}]),e}()},{"./helpers.js":10}],10:[function(e,t,r){"use strict";function n(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function i(e,t,r){try{return Promise.resolve(n(e,t,r))}catch(e){return Promise.reject(e)}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(e("better-assert"),Symbol('is "detached" for our purposes'));r.typeIsObject=function(e){return"object"===(void 0===e?"undefined":s(e))&&null!==e||"function"==typeof e},r.createDataProperty=function(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})},r.createArrayFromList=function(e){return e.slice()},r.ArrayBufferCopy=function(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)},r.CreateIterResultObject=function(e,t){var r={};return Object.defineProperty(r,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(r,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),r},r.IsFiniteNonNegativeNumber=function(e){return!1!==r.IsNonNegativeNumber(e)&&e!==1/0},r.IsNonNegativeNumber=function(e){return!("number"!=typeof e||Number.isNaN(e)||e<0)},r.Call=n,r.CreateAlgorithmFromUnderlyingMethod=function(e,t,r,n){var s=e[t];if(void 0!==s){if("function"!=typeof s)throw new TypeError(s+" is not a method");switch(r){case 0:return function(){return i(s,e,n)};case 1:return function(t){var r=[t].concat(n);return i(s,e,r)}}}return function(){return Promise.resolve()}},r.InvokeOrNoop=function(e,t,r){var i=e[t];if(void 0!==i)return n(i,e,r)},r.PromiseCall=i,r.TransferArrayBuffer=function(e){var t=e.slice();return Object.defineProperty(e,"byteLength",{get:function(){return 0}}),e[a]=!0,t},r.IsDetachedBuffer=function(e){return a in e},r.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},r.MakeSizeAlgorithmFromSizeFunction=function(e){if(void 0===e)return function(){return 1};if("function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return function(t){return e(t)}}},{"better-assert":16}],11:[function(e,t,r){"use strict";e("better-assert");var n=e("./helpers.js").IsFiniteNonNegativeNumber;r.DequeueValue=function(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},r.EnqueueValueWithSize=function(e,t,r){if(r=Number(r),!n(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r},r.PeekQueueValue=function(e){return e._queue[0].value},r.ResetQueue=function(e){e._queue=[],e._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new qe(e)}function s(e){return new Le(e)}function a(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return 1},s=Object.create(Fe.prototype);return o(s),M(s,Object.create(Be.prototype),e,t,r,n,i),s}function o(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function u(e){return!!ve(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function c(e){return void 0!==e._reader}function l(e){return new Promise((function(t,r){var n={_resolve:t,_reject:r};e._reader._readIntoRequests.push(n)}))}function h(e){return new Promise((function(t,r){var n={_resolve:t,_reject:r};e._reader._readRequests.push(n)}))}function p(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(d(e),e._readableStreamController[De](t).then((function(){})))}function d(e){e._state="closed";var t=e._reader;if(void 0!==t){if(!0===w(t)){var r=!0,n=!1,i=void 0;try{for(var s,a=t._readRequests[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)(0,s.value._resolve)(pe(void 0,!0))}catch(e){n=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}t._readRequests=[]}!function(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(t)}}function f(e,t){e._state="errored",e._storedError=t;var r=e._reader;if(void 0!==r){if(!0===w(r)){var n=!0,i=!1,s=void 0;try{for(var a,o=r._readRequests[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)a.value._reject(t)}catch(e){i=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw s}}r._readRequests=[]}else{var u=!0,c=!1,l=void 0;try{for(var h,p=r._readIntoRequests[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)h.value._reject(t)}catch(e){c=!0,l=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw l}}r._readIntoRequests=[]}ne(r,t),r._closedPromise.catch((function(){}))}}function m(e,t,r){e._reader._readRequests.shift()._resolve(pe(t,r))}function y(e){return e._reader._readIntoRequests.length}function g(e){return e._reader._readRequests.length}function _(e){var t=e._reader;return void 0!==t&&!1!==v(t)}function b(e){var t=e._reader;return void 0!==t&&!1!==w(t)}function v(e){return!!ve(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function w(e){return!!ve(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function S(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?function(e){e._closedPromise=new Promise((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r}))}(e):"closed"===t._state?function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e):(function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e,t._storedError),e._closedPromise.catch((function(){})))}function E(e,t){return p(e._ownerReadableStream,t)}function T(e){"readable"===e._ownerReadableStream._state?ne(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){e._closedPromise=Promise.reject(t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._closedPromise.catch((function(){})),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function x(e,t){var r=e._ownerReadableStream;return r._disturbed=!0,"errored"===r._state?Promise.reject(r._storedError):function(e,t){var r=e._controlledReadableByteStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,s={buffer:ye(t.buffer),byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),l(r);if("closed"===r._state){var a=new t.constructor(s.buffer,s.byteOffset,0);return Promise.resolve(pe(a,!0))}if(e._queueTotalSize>0){if(!0===V(e,s)){var o=H(s);return G(e),Promise.resolve(pe(o,!1))}if(!0===e._closeRequested){var u=new TypeError("Insufficient bytes to fill elements in the given buffer");return J(e,u),Promise.reject(u)}}e._pendingPullIntos.push(s);var c=l(r);return q(e),c}(r._readableStreamController,t)}function O(e){var t=e._ownerReadableStream;return t._disturbed=!0,"closed"===t._state?Promise.resolve(pe(void 0,!0)):"errored"===t._state?Promise.reject(t._storedError):t._readableStreamController[Me]()}function A(e){return!!ve(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function R(e){!1!==P(e)&&(!0!==e._pulling?(e._pulling=!0,e._pullAlgorithm().then((function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,R(e)}),(function(t){C(e,t)})).catch(we)):e._pullAgain=!0)}function P(e){var t=e._controlledReadableStream;return!1!==D(e)&&!1!==e._started&&(!0===c(t)&&g(t)>0||k(e)>0)}function I(e){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&d(t)}function j(e,t){var r=e._controlledReadableStream;if(!0===c(r)&&g(r)>0)m(r,t,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){throw C(e,t),t}try{Te(e,t,n)}catch(t){throw C(e,t),t}}R(e)}function N(e,t){var r=e._controlledReadableStream;xe(e),f(r,t)}function C(e,t){"readable"===e._controlledReadableStream._state&&N(e,t)}function k(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function D(e){var t=e._controlledReadableStream._state;return!1===e._closeRequested&&"readable"===t}function M(e,t,r,n,i,s,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,xe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t;var o=r();Promise.resolve(o).then((function(){t._started=!0,R(t)}),(function(e){C(t,e)})).catch(we)}function F(e){return!!ve(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function L(e){return!!ve(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function q(e){!1!==function(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!0!==e._closeRequested&&!1!==e._started&&(!0===b(t)&&g(t)>0||!0===_(t)&&y(t)>0||K(e)>0)}(e)&&(!0!==e._pulling?(e._pulling=!0,e._pullAlgorithm().then((function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,q(e))}),(function(t){"readable"===e._controlledReadableByteStream._state&&J(e,t)})).catch(we)):e._pullAgain=!0)}function B(e){X(e),e._pendingPullIntos=[]}function U(e,t){var r=!1;"closed"===e._state&&(r=!0);var n=H(t);"default"===t.readerType?m(e,n,r):function(e,t,r){e._reader._readIntoRequests.shift()._resolve(pe(t,r))}(e,n,r)}function H(e){var t=e.bytesFilled,r=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/r)}function z(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function V(e,t){var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),s=t.bytesFilled+i,a=s-s%r,o=i,u=!1;a>n&&(o=a-t.bytesFilled,u=!0);for(var c=e._queue;o>0;){var l=c[0],h=Math.min(o,l.byteLength),p=t.byteOffset+t.bytesFilled;le(t.buffer,p,l.buffer,l.byteOffset,h),l.byteLength===h?c.shift():(l.byteOffset+=h,l.byteLength-=h),e._queueTotalSize-=h,Q(e,h,t),o-=h}return u}function Q(e,t,r){X(e),r.bytesFilled+=t}function G(e){0===e._queueTotalSize&&!0===e._closeRequested?d(e._controlledReadableByteStream):q(e)}function X(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function $(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===V(e,t)&&(W(e),U(e._controlledReadableByteStream,t))}}function Y(e,t){var r=e._pendingPullIntos[0];if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=ye(t.buffer);var r=e._controlledReadableByteStream;if(!0===_(r))for(;y(r)>0;)U(r,W(e))}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(Q(e,t,r),!(r.bytesFilled<r.elementSize)){W(e);var n=r.bytesFilled%r.elementSize;if(n>0){var i=r.byteOffset+r.bytesFilled,s=r.buffer.slice(i-n,i);z(e,s,0,s.byteLength)}r.buffer=ye(r.buffer),r.bytesFilled-=n,U(e._controlledReadableByteStream,r),$(e)}}(e,t,r)}function W(e){var t=e._pendingPullIntos.shift();return X(e),t}function J(e,t){var r=e._controlledReadableByteStream;B(e),xe(e),f(r,t)}function K(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Z(e,t,r,n,i,s,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,B(t),t._queue=t._queueTotalSize=void 0,xe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=ge(s),t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=[],e._readableStreamController=t;var o=r();Promise.resolve(o).then((function(){t._started=!0,q(t)}),(function(r){"readable"===e._state&&J(t,r)})).catch(we)}function ee(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function te(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function re(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function ne(e,t){e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function ie(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function se(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function ae(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function oe(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}var ue=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ce=(e("better-assert"),e("./helpers.js")),le=ce.ArrayBufferCopy,he=ce.CreateAlgorithmFromUnderlyingMethod,pe=ce.CreateIterResultObject,de=ce.IsFiniteNonNegativeNumber,fe=ce.InvokeOrNoop,me=ce.IsDetachedBuffer,ye=ce.TransferArrayBuffer,ge=ce.ValidateAndNormalizeHighWaterMark,_e=(ce.IsNonNegativeNumber,ce.MakeSizeAlgorithmFromSizeFunction),be=ce.createArrayFromList,ve=ce.typeIsObject,we=e("./utils.js").rethrowAssertionErrorRejection,Se=e("./queue-with-sizes.js"),Ee=Se.DequeueValue,Te=Se.EnqueueValueWithSize,xe=Se.ResetQueue,Oe=e("./writable-stream.js"),Ae=Oe.AcquireWritableStreamDefaultWriter,Re=Oe.IsWritableStream,Pe=Oe.IsWritableStreamLocked,Ie=Oe.WritableStreamAbort,je=Oe.WritableStreamDefaultWriterCloseWithErrorPropagation,Ne=Oe.WritableStreamDefaultWriterRelease,Ce=Oe.WritableStreamDefaultWriterWrite,ke=Oe.WritableStreamCloseQueuedOrInFlight,De=Symbol("[[CancelSteps]]"),Me=Symbol("[[PullSteps]]"),Fe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size,s=r.highWaterMark;n(this,e),o(this);var a=t.type;if("bytes"===String(a)){if(void 0===s&&(s=0),s=ge(s),void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){var n=Object.create(He.prototype),i=he(t,"pull",0,[n]),s=he(t,"cancel",1,[]),a=t.autoAllocateChunkSize;if(void 0!==a&&(!1===Number.isInteger(a)||a<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");Z(e,n,(function(){return fe(t,"start",[n])}),i,s,r,a)}(this,t,s)}else{if(void 0!==a)throw new RangeError("Invalid type is specified");void 0===s&&(s=1),function(e,t,r,n){var i=Object.create(Be.prototype),s=he(t,"pull",0,[i]),a=he(t,"cancel",1,[]);M(e,i,(function(){return fe(t,"start",[i])}),s,a,r,n)}(this,t,s=ge(s),_e(i))}}return ue(e,[{key:"cancel",value:function(e){return!1===u(this)?Promise.reject(ee("cancel")):!0===c(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):p(this,e)}},{key:"getReader",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===u(this))throw ee("getReader");if(void 0===e)return s(this);if("byob"===(e=String(e)))return i(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var r=e.writable,n=e.readable;if(void 0===r||void 0===n)throw new TypeError("readable and writable arguments must be defined");return function(e){try{Promise.prototype.then.call(e,void 0,(function(){}))}catch(e){}}(this.pipeTo(r,t)),n}},{key:"pipeTo",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.preventClose,i=r.preventAbort,a=r.preventCancel;if(!1===u(this))return Promise.reject(ee("pipeTo"));if(!1===Re(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(n=Boolean(n),i=Boolean(i),a=Boolean(a),!0===c(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===Pe(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var o=s(this),l=Ae(e),h=!1,d=Promise.resolve();return new Promise((function(r,s){function u(){var e=d;return d.then((function(){return e!==d?u():void 0}))}function c(e,t,r){"errored"===e._state?r(e._storedError):t.catch(r).catch(we)}function f(t,r,n){function i(){t().then((function(){return y(r,n)}),(function(e){return y(!0,e)})).catch(we)}!0!==h&&(h=!0,"writable"===e._state&&!1===ke(e)?u().then(i):i())}function m(t,r){!0!==h&&(h=!0,"writable"===e._state&&!1===ke(e)?u().then((function(){return y(t,r)})).catch(we):y(t,r))}function y(e,t){Ne(l),T(o),e?s(t):r(void 0)}if(c(t,o._closedPromise,(function(t){!1===i?f((function(){return Ie(e,t)}),!0,t):m(!0,t)})),c(e,l._closedPromise,(function(e){!1===a?f((function(){return p(t,e)}),!0,e):m(!0,e)})),function(e,t,r){"closed"===e._state?r():t.then(r).catch(we)}(t,o._closedPromise,(function(){!1===n?f((function(){return je(l)})):m()})),!0===ke(e)||"closed"===e._state){var g=new TypeError("the destination writable stream closed before all data could be piped to it");!1===a?f((function(){return p(t,g)}),!0,g):m(!0,g)}(function e(){return!0===h?Promise.resolve():l._readyPromise.then((function(){return O(o).then((function(e){var t=e.value;!0!==e.done&&(d=Ce(l,t).catch((function(){})))}))})).then(e)})().catch((function(e){d=Promise.resolve(),we(e)}))}))}},{key:"tee",value:function(){if(!1===u(this))throw ee("tee");var e=function(e,t){function r(){return O(i).then((function(e){var t=e.value;if(!0===e.done&&!1===o&&(!1===u&&I(d._readableStreamController),!1===c&&I(f._readableStreamController),o=!0),!0!==o){var r=t,n=t;!1===u&&j(d._readableStreamController,r),!1===c&&j(f._readableStreamController,n)}}))}function n(){}var i=s(e),o=!1,u=!1,c=!1,l=void 0,h=void 0,d=void 0,f=void 0,m=void 0,y=new Promise((function(e){m=e}));return d=a(n,r,(function(t){if(u=!0,l=t,!0===c){var r=be([l,h]),n=p(e,r);m(n)}return y})),f=a(n,r,(function(t){if(c=!0,h=t,!0===u){var r=be([l,h]),n=p(e,r);m(n)}return y})),i._closedPromise.catch((function(e){!0!==o&&(C(d._readableStreamController,e),C(f._readableStreamController,e),o=!0)})),[d,f]}(this);return be(e)}},{key:"locked",get:function(){if(!1===u(this))throw ee("locked");return c(this)}}]),e}();t.exports={CreateReadableByteStream:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=Object.create(Fe.prototype);return o(s),Z(s,Object.create(He.prototype),e,t,r,n,i),s},CreateReadableStream:a,ReadableStream:Fe,IsReadableStreamDisturbed:function(e){return e._disturbed},ReadableStreamDefaultControllerClose:I,ReadableStreamDefaultControllerEnqueue:j,ReadableStreamDefaultControllerError:N,ReadableStreamDefaultControllerGetDesiredSize:k,ReadableStreamDefaultControllerHasBackpressure:function(e){return!0!==P(e)},ReadableStreamDefaultControllerCanCloseOrEnqueue:D};var Le=function(){function e(t){if(n(this,e),!1===u(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===c(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");S(this,t),this._readRequests=[]}return ue(e,[{key:"cancel",value:function(e){return!1===w(this)?Promise.reject(re("cancel")):void 0===this._ownerReadableStream?Promise.reject(te("cancel")):E(this,e)}},{key:"read",value:function(){return!1===w(this)?Promise.reject(re("read")):void 0===this._ownerReadableStream?Promise.reject(te("read from")):O(this)}},{key:"releaseLock",value:function(){if(!1===w(this))throw re("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");T(this)}}},{key:"closed",get:function(){return!1===w(this)?Promise.reject(re("closed")):this._closedPromise}}]),e}(),qe=function(){function e(t){if(n(this,e),!u(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===F(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(c(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");S(this,t),this._readIntoRequests=[]}return ue(e,[{key:"cancel",value:function(e){return v(this)?void 0===this._ownerReadableStream?Promise.reject(te("cancel")):E(this,e):Promise.reject(ie("cancel"))}},{key:"read",value:function(e){return v(this)?void 0===this._ownerReadableStream?Promise.reject(te("read from")):ArrayBuffer.isView(e)?!0===me(e.buffer)?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):x(this,e):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(ie("read"))}},{key:"releaseLock",value:function(){if(!v(this))throw ie("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");T(this)}}},{key:"closed",get:function(){return v(this)?this._closedPromise:Promise.reject(ie("closed"))}}]),e}(),Be=function(){function e(){throw n(this,e),new TypeError}return ue(e,[{key:"close",value:function(){if(!1===A(this))throw se("close");if(!1===D(this))throw new TypeError("The stream is not in a state that permits close");I(this)}},{key:"enqueue",value:function(e){if(!1===A(this))throw se("enqueue");if(!1===D(this))throw new TypeError("The stream is not in a state that permits enqueue");return j(this,e)}},{key:"error",value:function(e){if(!1===A(this))throw se("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");N(this,e)}},{key:De,value:function(e){return xe(this),this._cancelAlgorithm(e)}},{key:Me,value:function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=Ee(this);return!0===this._closeRequested&&0===this._queue.length?d(e):R(this),Promise.resolve(pe(t,!1))}var r=h(e);return R(this),r}},{key:"desiredSize",get:function(){if(!1===A(this))throw se("desiredSize");return k(this)}}]),e}(),Ue=function(){function e(){throw n(this,e),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return ue(e,[{key:"respond",value:function(e){if(!1===L(this))throw ae("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!0===me(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");!function(e,t){if(t=Number(t),!1===de(t))throw new RangeError("bytesWritten must be a finite");Y(e,t)}(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===L(this))throw ae("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(!0===me(e.buffer))throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");!function(e,t){var r=e._pendingPullIntos[0];if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,Y(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){if(!1===L(this))throw ae("view");return this._view}}]),e}(),He=function(){function e(){throw n(this,e),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return ue(e,[{key:"close",value:function(){if(!1===F(this))throw oe("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos[0].bytesFilled>0){var r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw J(e,r),r}d(t)}}(this)}},{key:"enqueue",value:function(e){if(!1===F(this))throw oe("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(!0===me(e.buffer))throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");!function(e,t){var r=e._controlledReadableByteStream,n=t.buffer,i=t.byteOffset,s=t.byteLength,a=ye(n);!0===b(r)?0===g(r)?z(e,a,i,s):m(r,new Uint8Array(a,i,s),!1):!0===_(r)?(z(e,a,i,s),$(e)):z(e,a,i,s)}(this,e)}},{key:"error",value:function(e){if(!1===F(this))throw oe("error");var t=this._controlledReadableByteStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");J(this,e)}},{key:De,value:function(e){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),xe(this),this._cancelAlgorithm(e)}},{key:Me,value:function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength,G(this);var r=void 0;try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(pe(r,!1))}var n=this._autoAllocateChunkSize;if(void 0!==n){var i=void 0;try{i=new ArrayBuffer(n)}catch(e){return Promise.reject(e)}var s={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}var a=h(e);return q(this),a}},{key:"byobRequest",get:function(){if(!1===F(this))throw oe("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(Ue.prototype);(function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r})(r,this,t),this._byobRequest=r}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===F(this))throw oe("desiredSize");return K(this)}}]),e}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r,n,i,s){function c(){return t}e._writable=N(c,(function(t){return function(e,t){m("TransformStreamDefaultSinkWriteAlgorithm()");var r=e._transformStreamController;return!0===e._backpressure?e._backpressureChangePromise.then((function(){var n=e._writable;if("erroring"===n._state)throw n._storedError;return r._transformAlgorithm(t)})):r._transformAlgorithm(t)}(e,t)}),(function(){return function(e){m("TransformStreamDefaultSinkCloseAlgorithm()");var t=e._readable;return e._transformStreamController._flushAlgorithm().then((function(){if("errored"===t._state)throw t._storedError;var e=t._readableStreamController;!0===I(e)&&x(e)})).catch((function(r){throw a(e,r),t._storedError}))}(e)}),(function(){return function(e){return a(e,new TypeError("Writable side aborted")),Promise.resolve()}(e)}),r,n),e._readable=T(c,(function(){return function(e){return m("TransformStreamDefaultSourcePullAlgorithm()"),u(e,!1),e._backpressureChangePromise}(e)}),(function(t){return o(e,t),Promise.resolve()}),i,s),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,u(e,!0),e._transformStreamController=void 0}function s(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function a(e,t){m("TransformStreamError()"),"readable"===e._readable._state&&A(e._readable._readableStreamController,t),o(e,t)}function o(e,t){C(e._writable._writableStreamController,t),!0===e._backpressure&&u(e,!1)}function u(e,t){m("TransformStreamSetBackpressure() [backpressure = "+t+"]"),void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=new Promise((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}function c(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function l(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}function h(e,t){m("TransformStreamDefaultControllerEnqueue()");var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!1===I(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{O(n,t)}catch(e){throw o(r,e),r._readable._storedError}P(n)!==r._backpressure&&u(r,!0)}function p(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function d(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),m=(e("better-assert"),e("debug")("streams:transform-stream:verbose")),y=e("./helpers.js"),g=y.InvokeOrNoop,_=y.CreateAlgorithmFromUnderlyingMethod,b=y.PromiseCall,v=y.typeIsObject,w=y.ValidateAndNormalizeHighWaterMark,S=(y.IsNonNegativeNumber,y.MakeSizeAlgorithmFromSizeFunction),E=e("./readable-stream.js"),T=E.CreateReadableStream,x=E.ReadableStreamDefaultControllerClose,O=E.ReadableStreamDefaultControllerEnqueue,A=E.ReadableStreamDefaultControllerError,R=E.ReadableStreamDefaultControllerGetDesiredSize,P=E.ReadableStreamDefaultControllerHasBackpressure,I=E.ReadableStreamDefaultControllerCanCloseOrEnqueue,j=e("./writable-stream.js"),N=j.CreateWritableStream,C=j.WritableStreamDefaultControllerErrorIfNeeded,k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(this,e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=r.size,u=S(o),c=r.highWaterMark;void 0===c&&(c=1),c=w(c);var p=s.size,d=S(p),f=s.highWaterMark;void 0===f&&(f=0),f=w(f);var m=void 0;i(this,new Promise((function(e){m=e})),c,u,f,d),function(e,t){var r=Object.create(D.prototype),n=function(e){try{return h(r,e),Promise.resolve()}catch(e){return Promise.reject(e)}},i=t.transform;if(void 0!==i){if("function"!=typeof i)throw new TypeError("transform is not a method");n=function(n){return b(i,t,[n,r]).catch((function(t){throw a(e,t),t}))}}var s=_(t,"flush",0,[r]);l(e,r,n,s)}(this,t);var y=g(t,"start",[this._transformStreamController]);m(y)}return f(e,[{key:"readable",get:function(){if(!1===s(this))throw d("readable");return this._readable}},{key:"writable",get:function(){if(!1===s(this))throw d("writable");return this._writable}}]),e}(),D=function(){function e(){throw n(this,e),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return f(e,[{key:"enqueue",value:function(e){if(!1===c(this))throw p("enqueue");h(this,e)}},{key:"error",value:function(e){if(!1===c(this))throw p("error");!function(e,t){a(e._controlledTransformStream,t)}(this,e)}},{key:"terminate",value:function(){if(!1===c(this))throw p("terminate");!function(e){m("TransformStreamDefaultControllerTerminate()");var t=e._controlledTransformStream,r=t._readable._readableStreamController;!0===I(r)&&x(r),o(t,new TypeError("TransformStream terminated"))}(this)}},{key:"desiredSize",get:function(){if(!1===c(this))throw p("desiredSize");var e=this._controlledTransformStream._readable._readableStreamController;return R(e)}}]),e}();t.exports={CreateTransformStream:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return 1},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){return 1},u=Object.create(k.prototype),c=void 0;i(u,new Promise((function(e){c=e})),n,s,a,o),l(u,Object.create(D.prototype),t,r);var h=e();return c(h),u},TransformStream:k}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(e,t,r){"use strict";var n=e("better-assert");r.rethrowAssertionErrorRejection=function(e){e&&e.constructor===n.AssertionError&&setTimeout((function(){throw e}),0)}},{"better-assert":16}],15:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new K(e)}function s(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=[],e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function a(e){return!!H(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function o(e){return void 0!==e._writer}function u(e,t){var r=e._state;if("closed"===r)return Promise.resolve(void 0);if("errored"===r)return Promise.reject(e._storedError);var n=new TypeError("Requested to abort");if(void 0!==e._pendingAbortRequest)return Promise.reject(n);var i=!1;"erroring"===r&&(i=!0,t=void 0);var s=new Promise((function(r,n){e._pendingAbortRequest={_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}}));return!1===i&&l(e,n),s}function c(e,t){M("WritableStreamDealWithRejection(stream, %o)",t),"writable"!==e._state?h(e):l(e,t)}function l(e,t){M("WritableStreamStartErroring(stream, %o)",t);var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&_(n,t),!1===function(e){return void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest?(M("WritableStreamHasOperationMarkedInFlight() is false"),!1):(M("WritableStreamHasOperationMarkedInFlight() is true"),!0)}(e)&&!0===r._started&&h(e)}function h(e){M("WritableStreamFinishErroring()"),e._state="errored",e._writableStreamController[W]();var t=e._storedError,r=!0,n=!1,i=void 0;try{for(var s,a=e._writeRequests[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)s.value._reject(t)}catch(e){n=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}if(e._writeRequests=[],void 0!==e._pendingAbortRequest){var o=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===o._wasAlreadyErroring)return o._reject(t),void d(e);e._writableStreamController[Y](o._reason).then((function(){o._resolve(),d(e)}),(function(t){o._reject(t),d(e)}))}else d(e)}function p(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function d(e){M("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(j(t,e._storedError),t._closedPromise.catch((function(){})))}function f(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(!0===t?function(e){M("defaultWriterReadyPromiseReset()"),e._readyPromise=new Promise((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}(r):k(r)),e._backpressure=t}function m(e){return!!H(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function y(e){var t=e._ownerWritableStream,r=t._state;if("closed"===r||"errored"===r)return Promise.reject(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"));var n=new Promise((function(e,r){var n={_resolve:e,_reject:r};t._closeRequest=n}));return!0===t._backpressure&&"writable"===r&&k(e),function(e){G(e,"close",0),E(e)}(t._writableStreamController),n}function g(e,t){"pending"===e._closedPromiseState?j(e,t):function(e,t){e._closedPromise=Promise.reject(t),e._closedPromiseState="rejected"}(e,t),e._closedPromise.catch((function(){}))}function _(e,t){M("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",t),"pending"===e._readyPromiseState?function(e,t){M("defaultWriterReadyPromiseReject(writer, %o)",t),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}(e,t):function(e,t){M("defaultWriterReadyPromiseResetToRejected(writer, %o)",t),e._readyPromise=Promise.reject(t),e._readyPromiseState="rejected"}(e,t),e._readyPromise.catch((function(){}))}function b(e){var t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");_(e,r),g(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function v(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return T(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return Promise.reject(P("write to"));var s=r._state;if("errored"===s)return Promise.reject(r._storedError);if(!0===p(r)||"closed"===s)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Promise.reject(r._storedError);var a=function(e){return new Promise((function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){var n={chunk:t};try{G(e,n,r)}catch(t){return void T(e,t)}var i=e._controlledWritableStream;!1===p(i)&&"writable"===i._state&&f(i,x(e)),E(e)}(n,t,i),a}function w(e,t,r,n,i,s,a,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,$(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=s;var u=x(t);f(e,u);var l=r();Promise.resolve(l).then((function(){t._started=!0,E(t)}),(function(r){t._started=!0,c(e,r)})).catch(z)}function S(e){return e._strategyHWM-e._queueTotalSize}function E(e){M("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var r=t._state;if("closed"!==r&&"errored"!==r)if("erroring"!==r){if(0!==e._queue.length){var n=X(e);"close"===n?function(e){var t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),Q(e),e._closeAlgorithm().then((function(){!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&function(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(t)}(t)}),(function(e){!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),c(e,t)}(t,e)})).catch(z)}(e):function(e,t){var r=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(r),e._writeAlgorithm(t).then((function(){!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);var t=r._state;if(Q(e),!1===p(r)&&"writable"===t){var n=x(e);f(r,n)}E(e)}),(function(e){!function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,c(e,t)}(r,e)})).catch(z)}(e,n.chunk)}}else h(t)}}function T(e,t){"writable"===e._controlledWritableStream._state&&O(e,t)}function x(e){return S(e)<=0}function O(e,t){l(e._controlledWritableStream,t)}function A(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function R(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function P(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function I(e){e._closedPromise=new Promise((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function j(e,t){e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function N(e,t){M("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",t),e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function C(e){M("defaultWriterReadyPromiseInitializeAsResolved()"),e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function k(e){M("defaultWriterReadyPromiseResolve()"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}var D=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),M=(e("better-assert"),e("debug")("streams:writable-stream:verbose")),F=e("./helpers.js"),L=F.CreateAlgorithmFromUnderlyingMethod,q=F.InvokeOrNoop,B=F.ValidateAndNormalizeHighWaterMark,U=(F.IsNonNegativeNumber,F.MakeSizeAlgorithmFromSizeFunction),H=F.typeIsObject,z=e("./utils.js").rethrowAssertionErrorRejection,V=e("./queue-with-sizes.js"),Q=V.DequeueValue,G=V.EnqueueValueWithSize,X=V.PeekQueueValue,$=V.ResetQueue,Y=Symbol("[[AbortSteps]]"),W=Symbol("[[ErrorSteps]]"),J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size,a=r.highWaterMark,o=void 0===a?1:a;if(n(this,e),s(this),void 0!==t.type)throw new RangeError("Invalid type is specified");var u=U(i);!function(e,t,r,n){var i=Object.create(Z.prototype),s=L(t,"write",1,[i]),a=L(t,"close",0,[]),o=L(t,"abort",1,[]);w(e,i,(function(){return q(t,"start",[i])}),s,a,o,r,n)}(this,t,o=B(o),u)}return D(e,[{key:"abort",value:function(e){return!1===a(this)?Promise.reject(A("abort")):!0===o(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):u(this,e)}},{key:"getWriter",value:function(){if(!1===a(this))throw A("getWriter");return i(this)}},{key:"locked",get:function(){if(!1===a(this))throw A("locked");return o(this)}}]),e}();t.exports={AcquireWritableStreamDefaultWriter:i,CreateWritableStream:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return 1},o=Object.create(J.prototype);return s(o),w(o,Object.create(Z.prototype),e,t,r,n,i,a),o},IsWritableStream:a,IsWritableStreamLocked:o,WritableStream:J,WritableStreamAbort:u,WritableStreamDefaultControllerErrorIfNeeded:T,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream,r=t._state;return!0===p(t)||"closed"===r?Promise.resolve():"errored"===r?Promise.reject(t._storedError):y(e)},WritableStreamDefaultWriterRelease:b,WritableStreamDefaultWriterWrite:v,WritableStreamCloseQueuedOrInFlight:p};var K=function(){function e(t){if(n(this,e),!1===a(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===o(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var r=t._state;if("writable"===r)!1===p(t)&&!0===t._backpressure?function(e){M("defaultWriterReadyPromiseInitialize()"),e._readyPromise=new Promise((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}(this):C(this),I(this);else if("erroring"===r)N(this,t._storedError),this._readyPromise.catch((function(){})),I(this);else if("closed"===r)C(this),function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(this);else{var i=t._storedError;N(this,i),this._readyPromise.catch((function(){})),function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}(this,i),this._closedPromise.catch((function(){}))}}return D(e,[{key:"abort",value:function(e){return!1===m(this)?Promise.reject(R("abort")):void 0===this._ownerWritableStream?Promise.reject(P("abort")):function(e,t){return u(e._ownerWritableStream,t)}(this,e)}},{key:"close",value:function(){if(!1===m(this))return Promise.reject(R("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(P("close")):!0===p(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):y(this)}},{key:"releaseLock",value:function(){if(!1===m(this))throw R("releaseLock");void 0!==this._ownerWritableStream&&b(this)}},{key:"write",value:function(e){return!1===m(this)?Promise.reject(R("write")):void 0===this._ownerWritableStream?Promise.reject(P("write to")):v(this,e)}},{key:"closed",get:function(){return!1===m(this)?Promise.reject(R("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===m(this))throw R("desiredSize");if(void 0===this._ownerWritableStream)throw P("desiredSize");return e=this._ownerWritableStream,"errored"===(t=e._state)||"erroring"===t?null:"closed"===t?0:S(e._writableStreamController);var e,t}},{key:"ready",get:function(){return!1===m(this)?Promise.reject(R("ready")):this._readyPromise}}]),e}(),Z=function(){function e(){throw n(this,e),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return D(e,[{key:"error",value:function(e){if(!1===function(e){return!!H(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&O(this,e)}},{key:Y,value:function(e){return this._abortAlgorithm(e)}},{key:W,value:function(){$(this)}}]),e}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(e,t,r){(function(r){var n=e("assert").AssertionError,i=e("callsite"),s=e("fs");t.exports=r.env.NO_ASSERT?function(){}:function(e){if(!e){var t=i(),r=t[1],a=r.getFileName(),o=r.getLineNumber(),u=(u=s.readFileSync(a,"utf8")).split("\n")[o-1].match(/assert\((.*)\)/)[1];throw new n({message:u,stackStartFunction:t[0].getFunction()})}}}).call(this,e("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(e,t,r){t.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=new Error;Error.captureStackTrace(t,arguments.callee);var r=t.stack;return Error.prepareStackTrace=e,r}},{}],18:[function(e,t,r){(function(n){function i(){var e;try{e=r.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(r=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,n)}},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=i,r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(i())}).call(this,e("_process"))},{"./debug":19,_process:4}],19:[function(e,t,r){function n(e){function t(){if(t.enabled){var e=t,i=+new Date,s=i-(n||i);e.diff=s,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=r.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;u++;var i=r.formatters[n];if("function"==typeof i){var s=a[u];t=i.call(e,s),a.splice(u,1),u--}return t})),r.formatArgs.call(e,a),(t.log||r.log||console.log.bind(console)).apply(e,a)}}var n;return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}(e),t.destroy=i,"function"==typeof r.init&&r.init(t),r.instances.push(t),t}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}(r=t.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];var t,n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var s=r.instances[t];s.enabled=r.enabled(s.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.instances=[],r.names=[],r.skips=[],r.formatters={}},{ms:20}],20:[function(e,t,r){function n(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*l;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*u;case"seconds":case"second":case"secs":case"sec":case"s":return r*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function s(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,o,"second")||e+" ms"}function a(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var o=1e3,u=60*o,c=60*u,l=24*c,h=365.25*l;t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return n(e);if("number"===r&&!1===isNaN(e))return t.long?s(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}]},{},[1])(1)}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(240))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}async run(e){if("handle"in e){const t=e;return{handle:await this.runHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};throw new Error("Either a handle or mediaType action needs to be provided")}async test(e){if("handle"in e){const t=e;return{handle:await this.testHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.testMediaType(e.context)};throw new Error("Either a handle or mediaType action needs to be provided")}}t.ActorAbstractMediaTyped=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(245))},function(e,t,r){(function(e){!function(t){t.parser=function(e,t){return new s(e,t)},t.SAXParser=s,t.SAXStream=o,t.createStream=function(e,t){return new o(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function s(e,r){if(!(this instanceof s))return new s(e,r);!function(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=r||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=x.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(p)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),A(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),s.prototype={end:function(){N(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return j(this,"Cannot write after close. Assign an onready handler.");if(null===e)return N(this);"object"==typeof e&&(e=e.toString());var r=0,n="";for(;n=U(e,r++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case x.BEGIN:if(this.state=x.BEGIN_WHITESPACE,"\ufeff"===n)continue;B(this,n);continue;case x.BEGIN_WHITESPACE:B(this,n);continue;case x.TEXT:if(this.sawRoot&&!this.closedRoot){for(var s=r-1;n&&"<"!==n&&"&"!==n;)(n=U(e,r++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(s,r-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(g(n)||this.sawRoot&&!this.closedRoot||C(this,"Text data outside of root node."),"&"===n?this.state=x.TEXT_ENTITY:this.textNode+=n):(this.state=x.OPEN_WAKA,this.startTagPosition=this.position);continue;case x.SCRIPT:"<"===n?this.state=x.SCRIPT_ENDING:this.script+=n;continue;case x.SCRIPT_ENDING:"/"===n?this.state=x.CLOSE_TAG:(this.script+="<"+n,this.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===n)this.state=x.SGML_DECL,this.sgmlDecl="";else if(g(n));else if(v(d,n))this.state=x.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=x.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=x.PROC_INST,this.procInstName=this.procInstBody="";else{if(C(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;n=new Array(a).join(" ")+n}this.textNode+="<"+n,this.state=x.TEXT}continue;case x.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===u?(R(this,"onopencdata"),this.state=x.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=x.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+n).toUpperCase()===c?(this.state=x.DOCTYPE,(this.doctype||this.sawRoot)&&C(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(R(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=x.TEXT):_(n)?(this.state=x.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case x.SGML_DECL_QUOTED:n===this.q&&(this.state=x.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case x.DOCTYPE:">"===n?(this.state=x.TEXT,R(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=x.DOCTYPE_DTD:_(n)&&(this.state=x.DOCTYPE_QUOTED,this.q=n));continue;case x.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=x.DOCTYPE:_(n)&&(this.state=x.DOCTYPE_DTD_QUOTED,this.q=n);continue;case x.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=x.DOCTYPE_DTD,this.q="");continue;case x.COMMENT:"-"===n?this.state=x.COMMENT_ENDING:this.comment+=n;continue;case x.COMMENT_ENDING:"-"===n?(this.state=x.COMMENT_ENDED,this.comment=I(this.opt,this.comment),this.comment&&R(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==n?(C(this,"Malformed comment"),this.comment+="--"+n,this.state=x.COMMENT):this.state=x.TEXT;continue;case x.CDATA:"]"===n?this.state=x.CDATA_ENDING:this.cdata+=n;continue;case x.CDATA_ENDING:"]"===n?this.state=x.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===n?(this.cdata&&R(this,"oncdata",this.cdata),R(this,"onclosecdata"),this.cdata="",this.state=x.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=x.CDATA);continue;case x.PROC_INST:"?"===n?this.state=x.PROC_INST_ENDING:g(n)?this.state=x.PROC_INST_BODY:this.procInstName+=n;continue;case x.PROC_INST_BODY:if(!this.procInstBody&&g(n))continue;"?"===n?this.state=x.PROC_INST_ENDING:this.procInstBody+=n;continue;case x.PROC_INST_ENDING:">"===n?(R(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=x.TEXT):(this.procInstBody+="?"+n,this.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:v(f,n)?this.tagName+=n:(k(this),">"===n?F(this):"/"===n?this.state=x.OPEN_TAG_SLASH:(g(n)||C(this,"Invalid character in tag name"),this.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===n?(F(this,!0),L(this)):(C(this,"Forward-slash in opening tag not followed by >"),this.state=x.ATTRIB);continue;case x.ATTRIB:if(g(n))continue;">"===n?F(this):"/"===n?this.state=x.OPEN_TAG_SLASH:v(d,n)?(this.attribName=n,this.attribValue="",this.state=x.ATTRIB_NAME):C(this,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===n?this.state=x.ATTRIB_VALUE:">"===n?(C(this,"Attribute without value"),this.attribValue=this.attribName,M(this),F(this)):g(n)?this.state=x.ATTRIB_NAME_SAW_WHITE:v(f,n)?this.attribName+=n:C(this,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=x.ATTRIB_VALUE;else{if(g(n))continue;C(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",R(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?F(this):v(d,n)?(this.attribName=n,this.state=x.ATTRIB_NAME):(C(this,"Invalid attribute name"),this.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(g(n))continue;_(n)?(this.q=n,this.state=x.ATTRIB_VALUE_QUOTED):(C(this,"Unquoted attribute value"),this.state=x.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case x.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=x.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}M(this),this.q="",this.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:g(n)?this.state=x.ATTRIB:">"===n?F(this):"/"===n?this.state=x.OPEN_TAG_SLASH:v(d,n)?(C(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=x.ATTRIB_NAME):C(this,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!b(n)){"&"===n?this.state=x.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}M(this),">"===n?F(this):this.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(this.tagName)">"===n?L(this):v(f,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=x.SCRIPT):(g(n)||C(this,"Invalid tagname in closing tag"),this.state=x.CLOSE_TAG_SAW_WHITE);else{if(g(n))continue;w(d,n)?this.script?(this.script+="</"+n,this.state=x.SCRIPT):C(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case x.CLOSE_TAG_SAW_WHITE:if(g(n))continue;">"===n?L(this):C(this,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var o,l;switch(this.state){case x.TEXT_ENTITY:o=x.TEXT,l="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:o=x.ATTRIB_VALUE_QUOTED,l="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:o=x.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===n?(this[l]+=q(this),this.entity="",this.state=o):v(this.entity.length?y:m,n)?this.entity+=n:(C(this,"Invalid character in entity name"),this[l]+="&"+this.entity+n,this.entity="",this.state=o);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,s=0,a=i.length;s<a;s++){var o=e[i[s]].length;if(o>r)switch(i[s]){case"textNode":P(e);break;case"cdata":R(e,"oncdata",e.cdata),e.cdata="";break;case"script":R(e,"onscript",e.script),e.script="";break;default:j(e,"Max buffer length exceeded: "+i[s])}n=Math.max(n,o)}var u=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=u+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;P(e=this),""!==e.cdata&&(R(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(R(e,"onscript",e.script),e.script="")}};try{n=r(1).Stream}catch(e){n=function(){}}var a=t.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function o(e,t){if(!(this instanceof o))return new o(e,t);n.apply(this),this._parser=new s(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(n.prototype,{constructor:{value:o}}),o.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r(48).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===a.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var u="[CDATA[",c="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",p={xml:l,xmlns:h},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function _(e){return'"'===e||"'"===e}function b(e){return">"===e||g(e)}function v(e,t){return e.test(t)}function w(e,t){return!v(e,t)}var S,E,T,x=0;for(var O in t.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n})),t.STATE)t.STATE[t.STATE[O]]=O;function A(e,t,r){e[t]&&e[t](r)}function R(e,t,r){e.textNode&&P(e),A(e,t,r)}function P(e){e.textNode=I(e.opt,e.textNode),e.textNode&&A(e,"ontext",e.textNode),e.textNode=""}function I(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function j(e,t){return P(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,A(e,"onerror",t),e}function N(e){return e.sawRoot&&!e.closedRoot&&C(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&j(e,"Unexpected end"),P(e),e.c="",e.closed=!0,A(e,"onend"),s.call(e,e.strict,e.opt),e}function C(e,t){if("object"!=typeof e||!(e instanceof s))throw new Error("bad call to strictFail");e.strict&&j(e,t)}function k(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,R(e,"onopentagstart",r)}function D(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function M(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=D(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)C(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==h)C(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var i=e.tag,s=e.tags[e.tags.length-1]||e;i.ns===s.ns&&(i.ns=Object.create(s.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,R(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function F(e,t){if(e.opt.xmlns){var r=e.tag,n=D(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(C(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){R(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var s=0,a=e.attribList.length;s<a;s++){var o=e.attribList[s],u=o[0],c=o[1],l=D(u,!0),h=l.prefix,p=l.local,d=""===h?"":r.ns[h]||"",f={name:u,value:c,prefix:h,local:p,uri:d};h&&"xmlns"!==h&&!d&&(C(e,"Unbound namespace prefix: "+JSON.stringify(h)),f.uri=h),e.tag.attributes[u]=f,R(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),R(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function L(e){if(!e.tagName)return C(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);R(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;C(e,"Unexpected close tag")}if(t<0)return C(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var s=e.tag=e.tags.pop();e.tagName=e.tag.name,R(e,"onclosetag",e.tagName);var a={};for(var o in s.ns)a[o]=s.ns[o];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&s.ns!==u.ns&&Object.keys(s.ns).forEach((function(t){var r=s.ns[t];R(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function q(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r?(C(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):g(t)||(C(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function U(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}x=t.STATE,String.fromCodePoint||(S=String.fromCharCode,E=Math.floor,T=function(){var e,t,r=16384,n=[],i=-1,s=arguments.length;if(!s)return"";for(var a="";++i<s;){var o=Number(arguments[i]);if(!isFinite(o)||o<0||o>1114111||E(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,n.push(e,t)),(i+1===s||n.length>r)&&(a+=S.apply(null,n),n.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:T,configurable:!0,writable:!0}):String.fromCodePoint=T)}(t)}).call(this,r(12).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(249))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(250)),n(r(62)),n(r(109))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=r(99);t.Parser=s.Parser;var a=r(103);t.DomHandler=a.DomHandler,t.DefaultHandler=a.DomHandler,t.parseDOM=function(e,t){var r=new a.DomHandler(void 0,t);return new s.Parser(r,t).end(e),r.dom},t.createDomStream=function(e,t,r){var n=new a.DomHandler(e,t,r);return new s.Parser(n,t)};var o=r(100);t.Tokenizer=o.default;var u=i(r(61));t.ElementType=u,t.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},n(r(104)),n(r(261)),n(r(262));var c=i(r(105));t.DomUtils=c;var l=r(104);t.RssHandler=l.FeedHandler},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(100)),o=r(41),u=new Set(["input","option","optgroup","select","button","datalist","textarea"]),c=new Set(["p"]),l={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:c,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,select:u,input:u,output:u,button:u,datalist:u,textarea:u,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:c,article:c,aside:c,blockquote:c,details:c,div:c,dl:c,fieldset:c,figcaption:c,figure:c,footer:c,form:c,header:c,hr:c,main:c,nav:c,ol:c,pre:c,section:c,table:c,ul:c,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),f=/\s|\//,m=function(e){function t(r,n){var i=e.call(this)||this;return i._tagname="",i._attribname="",i._attribvalue="",i._attribs=null,i._stack=[],i._foreignContext=[],i.startIndex=0,i.endIndex=null,i.parseChunk=t.prototype.write,i.done=t.prototype.end,i._options=n||{},i._cbs=r||{},i._tagname="",i._attribname="",i._attribvalue="",i._attribs=null,i._stack=[],i._foreignContext=[],i.startIndex=0,i.endIndex=null,i._lowerCaseTagNames="lowerCaseTags"in i._options?!!i._options.lowerCaseTags:!i._options.xmlMode,i._lowerCaseAttributeNames="lowerCaseAttributeNames"in i._options?!!i._options.lowerCaseAttributeNames:!i._options.xmlMode,i._tokenizer=new(i._options.Tokenizer||a.default)(i._options,i),i._cbs.onparserinit&&i._cbs.onparserinit(i),i}return i(t,e),t.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},t.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},t.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in l)for(var t=void 0;l[e].has(t=this._stack[this._stack.length-1]);this.onclosetag(t));!this._options.xmlMode&&h.has(e)||(this._stack.push(e),p.has(e)?this._foreignContext.push(!0):d.has(e)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},t.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&h.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},t.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(p.has(e)||d.has(e))&&this._foreignContext.pop(),!this._stack.length||!this._options.xmlMode&&h.has(e))this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},t.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},t.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},t.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},t.prototype.onattribdata=function(e){this._attribvalue+=e},t.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},t.prototype._getInstructionName=function(e){var t=e.search(f),r=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(r=r.toLowerCase()),r},t.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},t.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},t.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},t.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},t.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},t.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},t.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.write=function(e){this._tokenizer.write(e)},t.prototype.end=function(e){this._tokenizer.end(e)},t.prototype.pause=function(){this._tokenizer.pause()},t.prototype.resume=function(){this._tokenizer.resume()},t}(o.EventEmitter);t.Parser=m},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(101)),s=n(r(59)),a=n(r(102)),o=n(r(60));function u(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function c(e,t,r){var n=e.toLowerCase();return e===n?function(e,i){i===n?e._state=t:(e._state=r,e._index--)}:function(i,s){s===n||s===e?i._state=t:(i._state=r,i._index--)}}function l(e,t){var r=e.toLowerCase();return function(n,i){i===r||i===e?n._state=t:(n._state=3,n._index--)}}var h=c("C",23,16),p=c("D",24,16),d=c("A",25,16),f=c("T",26,16),m=c("A",27,16),y=l("R",34),g=l("I",35),_=l("P",36),b=l("T",37),v=c("R",39,1),w=c("I",40,1),S=c("P",41,1),E=c("T",42,1),T=l("Y",44),x=l("L",45),O=l("E",46),A=c("Y",48,1),R=c("L",49,1),P=c("E",50,1),I=c("#",52,53),j=c("X",55,54),N=function(){function e(e,t){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=t,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}return e.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},e.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&1===this._special&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||1!==this._special||u(e)?this._state=1:"!"===e?(this._state=15,this._sectionStart=this._index+1):"?"===e?(this._state=17,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?3:31,this._sectionStart=this._index)},e.prototype._stateInTagName=function(e){("/"===e||">"===e||u(e))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},e.prototype._stateBeforeCloseingTagName=function(e){u(e)||(">"===e?this._state=1:1!==this._special?"s"===e||"S"===e?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},e.prototype._stateInCloseingTagName=function(e){(">"===e||u(e))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},e.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):"/"===e?this._state=4:u(e)||(this._state=9,this._sectionStart=this._index)},e.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):u(e)||(this._state=8,this._index--)},e.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||u(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},e.prototype._stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this._cbs.onattribend(),this._state=8,this._index--):u(e)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},e.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this._sectionStart=this._index+1):"'"===e?(this._state=13,this._sectionStart=this._index+1):u(e)||(this._state=14,this._sectionStart=this._index,this._index--)},e.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueNoQuotes=function(e){u(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeDeclaration=function(e){this._state="["===e?22:"-"===e?18:16},e.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeComment=function(e){"-"===e?(this._state=19,this._sectionStart=this._index+1):this._state=16},e.prototype._stateInComment=function(e){"-"===e&&(this._state=20)},e.prototype._stateAfterComment1=function(e){this._state="-"===e?21:19},e.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype._stateInCdata=function(e){"]"===e&&(this._state=29)},e.prototype._stateAfterCdata1=function(e){this._state="]"===e?30:28},e.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"]"!==e&&(this._state=28)},e.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=33:"t"===e||"T"===e?this._state=43:(this._state=3,this._index--)},e.prototype._stateBeforeSpecialEnd=function(e){2!==this._special||"c"!==e&&"C"!==e?3!==this._special||"t"!==e&&"T"!==e?this._state=1:this._state=47:this._state=38},e.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||u(e))&&(this._special=2),this._state=3,this._index--},e.prototype._stateAfterScript5=function(e){">"===e||u(e)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},e.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||u(e))&&(this._special=3),this._state=3,this._index--},e.prototype._stateAfterStyle4=function(e){">"===e||u(e)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},e.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?o.default:s.default;Object.prototype.hasOwnProperty.call(t,e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},e.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var r=this._buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(a.default,r))return this._emitPartial(a.default[r]),void(this._sectionStart+=t+1);t--}},e.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(1!==this._baseState?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},e.prototype._decodeNumericEntity=function(e,t){var r=this._sectionStart+e;if(r!==this._index){var n=this._buffer.substring(r,this._index),s=parseInt(n,t);this._emitPartial(i.default(s)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},e.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},e.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},e.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(1===this._state?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},e.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},e.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);1===this._state?this._stateText(e):12===this._state?this._stateInAttributeValueDoubleQuotes(e):9===this._state?this._stateInAttributeName(e):19===this._state?this._stateInComment(e):8===this._state?this._stateBeforeAttributeName(e):3===this._state?this._stateInTagName(e):6===this._state?this._stateInCloseingTagName(e):2===this._state?this._stateBeforeTagName(e):10===this._state?this._stateAfterAttributeName(e):13===this._state?this._stateInAttributeValueSingleQuotes(e):11===this._state?this._stateBeforeAttributeValue(e):5===this._state?this._stateBeforeCloseingTagName(e):7===this._state?this._stateAfterCloseingTagName(e):31===this._state?this._stateBeforeSpecial(e):20===this._state?this._stateAfterComment1(e):14===this._state?this._stateInAttributeValueNoQuotes(e):4===this._state?this._stateInSelfClosingTag(e):16===this._state?this._stateInDeclaration(e):15===this._state?this._stateBeforeDeclaration(e):21===this._state?this._stateAfterComment2(e):18===this._state?this._stateBeforeComment(e):32===this._state?this._stateBeforeSpecialEnd(e):38===this._state?v(this,e):39===this._state?w(this,e):40===this._state?S(this,e):33===this._state?y(this,e):34===this._state?g(this,e):35===this._state?_(this,e):36===this._state?b(this,e):37===this._state?this._stateBeforeScript5(e):41===this._state?E(this,e):42===this._state?this._stateAfterScript5(e):43===this._state?T(this,e):28===this._state?this._stateInCdata(e):44===this._state?x(this,e):45===this._state?O(this,e):46===this._state?this._stateBeforeStyle4(e):47===this._state?A(this,e):48===this._state?R(this,e):49===this._state?P(this,e):50===this._state?this._stateAfterStyle4(e):17===this._state?this._stateInProcessingInstruction(e):53===this._state?this._stateInNamedEntity(e):22===this._state?h(this,e):51===this._state?I(this,e):23===this._state?p(this,e):24===this._state?d(this,e):29===this._state?this._stateAfterCdata1(e):30===this._state?this._stateAfterCdata2(e):25===this._state?f(this,e):26===this._state?m(this,e):27===this._state?this._stateBeforeCdata6(e):55===this._state?this._stateInHexEntity(e):54===this._state?this._stateInNumericEntity(e):52===this._state?j(this,e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},e.prototype.pause=function(){this._running=!1},e.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},e.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},e.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},e.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);28===this._state||29===this._state||30===this._state?this._cbs.oncdata(e):19===this._state||20===this._state||21===this._state?this._cbs.oncomment(e):53!==this._state||this._xmlMode?54!==this._state||this._xmlMode?55!==this._state||this._xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},e.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},e.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},e.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},e.prototype._emitPartial=function(e){1!==this._baseState?this._cbs.onattribdata(e):this._cbs.ontext(e)},e}();t.default=N},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(251));t.default=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in i.default&&(e=i.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(252);t.Node=n.Node,t.Element=n.Element,t.DataNode=n.DataNode,t.NodeWithChildren=n.NodeWithChildren;var i=/\s+/g,s={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},a=function(){function e(e,t,r){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof t&&(r=t,t=s),"object"==typeof e&&(t=e,e=void 0),this._callback=e||null,this._options=t||s,this._elementCB=r||null}return e.prototype.onparserinit=function(e){this._parser=e},e.prototype.onreset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=this._parser||null},e.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this._lastNode=null;var e=this._tagStack.pop();e&&this._parser&&(this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e))},e.prototype.onopentag=function(e,t){var r=new n.Element(e,t);this.addNode(r),this._tagStack.push(r)},e.prototype.ontext=function(e){var t=this._options.normalizeWhitespace,r=this._lastNode;if(r&&"text"===r.type)t?r.data=(r.data+e).replace(i," "):r.data+=e;else{t&&(e=e.replace(i," "));var s=new n.DataNode("text",e);this.addNode(s),this._lastNode=s}},e.prototype.oncomment=function(e){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=e;else{var t=new n.DataNode("comment",e);this.addNode(t),this._lastNode=t}},e.prototype.oncommentend=function(){this._lastNode=null},e.prototype.oncdatastart=function(){var e=new n.DataNode("text",""),t=new n.NodeWithChildren("cdata",[e]);this.addNode(t),e.parent=t,this._lastNode=e},e.prototype.oncdataend=function(){this._lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new n.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this._tagStack[this._tagStack.length-1],r=t?t.children:this.dom,n=r[r.length-1];this._parser&&(this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex)),r.push(e),n&&(e.prev=n,n.next=e),t&&(e.parent=t),this._lastNode=null},e.prototype.addDataNode=function(e){this.addNode(e),this._lastNode=e},e}();t.DomHandler=a,t.default=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(103)),u=a(r(105)),c=r(99),l=function(e){function t(t,r){return"object"==typeof t&&null!==t&&(r=t=void 0),e.call(this,t,r)||this}return i(t,e),t.prototype.onend=function(){var e={},t=p(y,this.dom);if(t)if("feed"===t.name){var r=t.children;e.type="atom",m(e,"id","id",r),m(e,"title","title",r);var n=f("href",p("link",r));n&&(e.link=n),m(e,"description","subtitle",r),(i=d("updated",r))&&(e.updated=new Date(i)),m(e,"author","email",r,!0),e.items=h("entry",r).map((function(e){var t={},r=e.children;m(t,"id","id",r),m(t,"title","title",r);var n=f("href",p("link",r));n&&(t.link=n);var i=d("summary",r)||d("content",r);i&&(t.description=i);var s=d("updated",r);return s&&(t.pubDate=new Date(s)),t}))}else{var i;r=p("channel",t.children).children;e.type=t.name.substr(0,3),e.id="",m(e,"title","title",r),m(e,"link","link",r),m(e,"description","description",r),(i=d("lastBuildDate",r))&&(e.updated=new Date(i)),m(e,"author","managingEditor",r,!0),e.items=h("item",t.children).map((function(e){var t={},r=e.children;m(t,"id","guid",r),m(t,"title","title",r),m(t,"link","link",r),m(t,"description","description",r);var n=d("pubDate",r);return n&&(t.pubDate=new Date(n)),t}))}this.feed=e,this.handleCallback(t?null:Error("couldn't find root of feed"))},t}(o.default);function h(e,t){return u.getElementsByTagName(e,t,!0)}function p(e,t){return u.getElementsByTagName(e,t,!0,1)[0]}function d(e,t,r){return void 0===r&&(r=!1),u.getText(u.getElementsByTagName(e,t,r,1)).trim()}function f(e,t){return t?t.attribs[e]:null}function m(e,t,r,n,i){void 0===i&&(i=!1);var s=d(r,n,i);s&&(e[t]=s)}function y(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=l;var g={xmlMode:!0};t.parseFeed=function(e,t){void 0===t&&(t=g);var r=new l(t);return new c.Parser(r,t).end(e),r.feed}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(253)),n(r(257)),n(r(258)),n(r(108)),n(r(259)),n(r(260)),n(r(43))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(59)),s=n(r(102)),a=n(r(60)),o=n(r(101));function u(e){var t=Object.keys(e).join("|"),r=l(e),n=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(n,r)}}t.decodeXML=u(a.default),t.decodeHTMLStrict=u(i.default);var c=function(e,t){return e<t?1:-1};function l(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?o.default(parseInt(t.substr(3),16)):o.default(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}t.decodeHTML=function(){for(var e=Object.keys(s.default).sort(c),t=Object.keys(i.default).sort(c),r=0,n=0;r<t.length;r++)e[n]===t[r]?(t[r]+=";?",n++):t[r]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=l(i.default);function u(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(a,u)}}()},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(r(60)).default),s=c(i);t.encodeXML=f(i,s);var a=u(n(r(59)).default),o=c(a);function u(e){return Object.keys(e).sort().reduce((function(t,r){return t[e[r]]="&"+r+";",t}),{})}function c(e){var t=[],r=[];return Object.keys(e).forEach((function(e){return 1===e.length?t.push("\\"+e):r.push(e)})),r.unshift("["+t.join("")+"]"),new RegExp(r.join("|"),"g")}t.encodeHTML=f(a,o);var l=/[^\0-\x7F]/g,h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function p(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function d(e,t){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(e,t){return function(r){return r.replace(t,(function(t){return e[t]})).replace(h,d).replace(l,p)}}var m=c(i);t.escape=function(e){return e.replace(m,p).replace(h,d).replace(l,p)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);function i(e,t,r,s){for(var a=[],o=0;o<t.length;o++){var u=t[o];if(e(u)&&(a.push(u),--s<=0))break;if(r&&n.hasChildren(u)&&u.children.length>0){var c=i(e,u.children,r,s);if(a=a.concat(c),(s-=c.length)<=0)break}}return a}t.filter=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),Array.isArray(t)||(t=[t]),i(e,t,r,n)},t.find=i,t.findOneChild=function(e,t){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r];return null},t.findOne=function e(t,r,i){void 0===i&&(i=!0);for(var s=null,a=0;a<r.length&&!s;a++){var o=r[a];n.isTag(o)&&(t(o)?s=o:i&&o.children.length>0&&(s=e(t,o.children)))}return s},t.existsOne=function e(t,r){for(var i=0;i<r.length;i++){var s=r[i];if(n.isTag(s)&&(t(s)||s.children.length>0&&e(t,s.children)))return!0}return!1},t.findAll=function(e,t){for(var r=[],i=t.slice();i.length;){var s=i.shift();s&&n.isTag(s)&&(s.children&&s.children.length>0&&i.unshift.apply(i,s.children),e(s)&&r.push(s))}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(47),i=r(62);class s{constructor(e,t){this.dataFactory=e||r(2),this.baseIRI=this.dataFactory.namedNode(t||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(e,t,r){const n={};if(r)for(const t in e)t.startsWith("xmlns")&&(n[t.substr(6)]=e[t]);if(e.prefix||Object.keys(n).length>0){const r=Object.assign({},t,n);if(e.prefix){let t;for(;t=s.PREFIX_REGEX.exec(e.prefix);)r[t[1]]=t[2]}return r}return t}static expandPrefixedTerm(e,t){const r=e.indexOf(":");let n,i;if(r>=0&&(n=e.substr(0,r),i=e.substr(r+1)),""===n)return"http://www.w3.org/1999/xhtml/vocab#"+i;if(n){const e=t.prefixesAll[n];if(e)return e+i}if(e){const r=t.prefixesAll[e.toLocaleLowerCase()];if(r)return r}return e}static isValidIri(e){return s.IRI_REGEX.test(e)}static contentTypeToProfile(e){return i.RDFA_CONTENTTYPES[e]||""}getBaseIRI(e){let t=e;const r=t.indexOf("#");return r>=0&&(t=t.substr(0,r)),this.dataFactory.namedNode(t)}getResourceOrBaseIri(e,t){return!0===e?this.getBaseIriTerm(t):e}getBaseIriTerm(e){return e.localBaseIRI||this.baseIRI}createVocabIris(e,t,r,n){return e.split(/\s+/).filter(e=>e&&(r||e.indexOf(":")>=0)).map(e=>this.createIri(e,t,!0,!0,n)).filter(e=>null!=e)}createLiteral(e,t){if(t.interpretObjectAsTime&&!t.datatype)for(const r of s.TIME_REGEXES)if(e.match(r.regex)){t.datatype=this.dataFactory.namedNode(s.XSD+r.type);break}return this.dataFactory.literal(e,t.datatype||t.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(e,t,r,i,a){if(e=e||"",!i)return r||(e=n.resolve(e,this.getBaseIriTerm(t).value)),s.isValidIri(e)?this.dataFactory.namedNode(e):null;if(e.length>0&&"["===e[0]&&"]"===e[e.length-1]&&(e=e.substr(1,e.length-2)).indexOf(":")<0)return null;if(e.startsWith("_:"))return a?this.dataFactory.blankNode(e.substr(2)||"b_identity"):null;if(r&&t.vocab&&e.indexOf(":")<0)return this.dataFactory.namedNode(t.vocab+e);let o=s.expandPrefixedTerm(e,t);return r?e!==o&&(o=n.resolve(o,this.baseIRIDocument.value)):o=n.resolve(o,this.getBaseIriTerm(t).value),s.isValidIri(o)?this.dataFactory.namedNode(o):null}}s.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s.XSD="http://www.w3.org/2001/XMLSchema#",s.RDFA="http://www.w3.org/ns/rdfa#",s.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,s.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],s.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,t.Util=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(266))},function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",u=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,h=c||l||Function("return this")();function p(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function d(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,s=r+(n?1:-1);for(;n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}(e,y,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function f(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function m(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function y(e){return e!=e}function g(e,t){return e.has(t)}function _(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var b,v=Array.prototype,w=Function.prototype,S=Object.prototype,E=h["__core-js_shared__"],T=(b=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",x=w.toString,O=S.hasOwnProperty,A=S.toString,R=RegExp("^"+x.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=h.Symbol,I=S.propertyIsEnumerable,j=v.splice,N=P?P.isConcatSpreadable:void 0,C=Math.max,k=Q(h,"Map"),D=Q(h,"Set"),M=Q(Object,"create");function F(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function q(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function B(e){var t=-1,r=e?e.length:0;for(this.__data__=new q;++t<r;)this.add(e[t])}function U(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function H(e){return!(!ee(e)||(t=e,T&&T in t))&&(Z(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?R:u).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}F.prototype.clear=function(){this.__data__=M?M(null):{}},F.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},F.prototype.get=function(e){var t=this.__data__;if(M){var r=t[e];return r===n?void 0:r}return O.call(t,e)?t[e]:void 0},F.prototype.has=function(e){var t=this.__data__;return M?void 0!==t[e]:O.call(t,e)},F.prototype.set=function(e,t){return this.__data__[e]=M&&void 0===t?n:t,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(e){var t=this.__data__,r=U(t,e);return!(r<0)&&(r==t.length-1?t.pop():j.call(t,r,1),!0)},L.prototype.get=function(e){var t=this.__data__,r=U(t,e);return r<0?void 0:t[r][1]},L.prototype.has=function(e){return U(this.__data__,e)>-1},L.prototype.set=function(e,t){var r=this.__data__,n=U(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},q.prototype.clear=function(){this.__data__={hash:new F,map:new(k||L),string:new F}},q.prototype.delete=function(e){return V(this,e).delete(e)},q.prototype.get=function(e){return V(this,e).get(e)},q.prototype.has=function(e){return V(this,e).has(e)},q.prototype.set=function(e,t){return V(this,e).set(e,t),this},B.prototype.add=B.prototype.push=function(e){return this.__data__.set(e,n),this},B.prototype.has=function(e){return this.__data__.has(e)};var z=D&&1/_(new D([,-0]))[1]==1/0?function(e){return new D(e)}:function(){};function V(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Q(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return H(r)?r:void 0}function G(e){return W(e)||function(e){return K(e)&&O.call(e,"callee")&&(!I.call(e,"callee")||A.call(e)==s)}(e)||!!(N&&e&&e[N])}var X,$,Y=(X=function(e){return function(e,t,n){var i=-1,s=d,a=e.length,o=!0,u=[],c=u;if(n)o=!1,s=f;else if(a>=r){var l=t?null:z(e);if(l)return _(l);o=!1,s=g,c=new B}else c=t?[]:u;e:for(;++i<a;){var h=e[i],p=t?t(h):h;if(h=n||0!==h?h:0,o&&p==p){for(var m=c.length;m--;)if(c[m]===p)continue e;t&&c.push(p),u.push(h)}else s(c,p,n)||(c!==u&&c.push(p),u.push(h))}return u}(function e(t,r,n,i,s){var a=-1,o=t.length;for(n||(n=G),s||(s=[]);++a<o;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,i,s):m(s,u):i||(s[s.length]=u)}return s}(e,1,K,!0))},$=C(void 0===$?X.length-1:$,0),function(){for(var e=arguments,t=-1,r=C(e.length-$,0),n=Array(r);++t<r;)n[t]=e[$+t];t=-1;for(var i=Array($+1);++t<$;)i[t]=e[t];return i[$]=n,p(X,this,i)});var W=Array.isArray;function J(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Z(e)}function K(e){return function(e){return!!e&&"object"==typeof e}(e)&&J(e)}function Z(e){var t=ee(e)?A.call(e):"";return t==a||t==o}function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=Y}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(275))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}getContextSources(e){return e?e.get(t.KEY_CONTEXT_SOURCES):null}getContextSource(e){return e?e.get(t.KEY_CONTEXT_SOURCE):null}getContextSourceUrl(e){if(e){let t=a(e);const r=t.indexOf("#");return r>=0&&(t=t.substr(0,r)),t}return null}hasContextSingleSource(e){const t=this.getContextSource(e);return!(!t||"string"!=typeof t&&!t.value)}hasContextSingleSourceOfType(e,t){const r=this.getContextSource(t);return!(!r||s(r)!==e||!a(r))}}function s(e){return"string"==typeof e?"":e.type}function a(e){return"string"==typeof e?e:e.value}t.ActorRdfResolveQuadPattern=i,t.getDataSourceType=s,t.getDataSourceValue=a,t.KEY_CONTEXT_SOURCES="@comunica/bus-rdf-resolve-quad-pattern:sources",t.KEY_CONTEXT_SOURCE="@comunica/bus-rdf-resolve-quad-pattern:source"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(277))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(278))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(279))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(280))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(37);t.storeStream=function(e){const t=new n.Store;return new Promise(r=>t.import(e).once("end",()=>r(t)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(283))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfMetadataExtract=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(287))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(289)),n(r(290)),n(r(291)),n(r(292))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);class i extends n.Transform{constructor(e){super({objectMode:!0}),this.parser=e}_transform(e,t,r){r(null,this.parser.parseJsonBindings(e))}}t.SparqlJsonBindingsTransformer=i},function(e,t,r){(function(t){var r={},n=r.LEFT_BRACE=1,i=r.RIGHT_BRACE=2,s=r.LEFT_BRACKET=3,a=r.RIGHT_BRACKET=4,o=r.COLON=5,u=r.COMMA=6,c=r.TRUE=7,l=r.FALSE=8,h=r.NULL=9,p=r.STRING=10,d=r.NUMBER=11,f=r.START=17,m=r.STOP=18,y=r.TRUE1=33,g=r.TRUE2=34,_=r.TRUE3=35,b=r.FALSE1=49,v=r.FALSE2=50,w=r.FALSE3=51,S=r.FALSE4=52,E=r.NULL1=65,T=r.NULL2=66,x=r.NULL3=67,O=r.NUMBER1=81,A=r.NUMBER3=83,R=r.STRING1=97,P=r.STRING2=98,I=r.STRING3=99,j=r.STRING4=100,N=r.STRING5=101,C=r.STRING6=102,k=r.VALUE=113,D=r.KEY=114,M=r.OBJECT=129,F=r.ARRAY=130,L="\\".charCodeAt(0),q="/".charCodeAt(0),B="\b".charCodeAt(0),U="\f".charCodeAt(0),H="\n".charCodeAt(0),z="\r".charCodeAt(0),V="\t".charCodeAt(0),Q=65536;function G(){this.tState=f,this.value=void 0,this.string=void 0,this.stringBuffer=t.alloc?t.alloc(Q):new t(Q),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=k,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new t(2),3:new t(3),4:new t(4)},this.offset=-1}G.toknam=function(e){for(var t=Object.keys(r),n=0,i=t.length;n<i;n++){var s=t[n];if(r[s]===e)return s}return e&&"0x"+e.toString(16)};var X=G.prototype;X.onError=function(e){throw e},X.charError=function(e,t){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+G.toknam(this.tState)))},X.appendStringChar=function(e){this.stringBufferOffset>=Q&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},X.appendStringBuf=function(e,t,r){var n=e.length;"number"==typeof t&&(n="number"==typeof r?r<0?e.length-t+r:r-t:e.length-t),n<0&&(n=0),this.stringBufferOffset+n>Q&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,r),this.stringBufferOffset+=n},X.write=function(e){var r;"string"==typeof e&&(e=new t(e));for(var m=0,k=e.length;m<k;m++)if(this.tState===f){if(r=e[m],this.offset++,123===r)this.onToken(n,"{");else if(125===r)this.onToken(i,"}");else if(91===r)this.onToken(s,"[");else if(93===r)this.onToken(a,"]");else if(58===r)this.onToken(o,":");else if(44===r)this.onToken(u,",");else if(116===r)this.tState=y;else if(102===r)this.tState=b;else if(110===r)this.tState=E;else if(34===r)this.string="",this.stringBufferOffset=0,this.tState=R;else if(45===r)this.string="-",this.tState=O;else if(r>=48&&r<64)this.string=String.fromCharCode(r),this.tState=A;else if(32!==r&&9!==r&&10!==r&&13!==r)return this.charError(e,m)}else if(this.tState===R)if(r=e[m],this.bytes_remaining>0){for(var D=0;D<this.bytes_remaining;D++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+D]=e[D];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,m=m+D-1}else if(0===this.bytes_remaining&&r>=128){if(r<=193||r>244)return this.onError(new Error("Invalid UTF-8 character at position "+m+" in state "+G.toknam(this.tState)));if(r>=194&&r<=223&&(this.bytes_in_sequence=2),r>=224&&r<=239&&(this.bytes_in_sequence=3),r>=240&&r<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+m>e.length){for(var M=0;M<=e.length-1-m;M++)this.temp_buffs[this.bytes_in_sequence][M]=e[m+M];this.bytes_remaining=m+this.bytes_in_sequence-e.length,m=e.length-1}else this.appendStringBuf(e,m,m+this.bytes_in_sequence),m=m+this.bytes_in_sequence-1}else if(34===r)this.tState=f,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(p,this.string),this.offset+=t.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===r)this.tState=P;else{if(!(r>=32))return this.charError(e,m);this.appendStringChar(r)}else if(this.tState===P)if(34===(r=e[m]))this.appendStringChar(r),this.tState=R;else if(92===r)this.appendStringChar(L),this.tState=R;else if(47===r)this.appendStringChar(q),this.tState=R;else if(98===r)this.appendStringChar(B),this.tState=R;else if(102===r)this.appendStringChar(U),this.tState=R;else if(110===r)this.appendStringChar(H),this.tState=R;else if(114===r)this.appendStringChar(z),this.tState=R;else if(116===r)this.appendStringChar(V),this.tState=R;else{if(117!==r)return this.charError(e,m);this.unicode="",this.tState=I}else if(this.tState===I||this.tState===j||this.tState===N||this.tState===C){if(!((r=e[m])>=48&&r<64||r>64&&r<=70||r>96&&r<=102))return this.charError(e,m);if(this.unicode+=String.fromCharCode(r),this.tState++===C){var F=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&F>=56320&&F<57344?(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate,F))),this.highSurrogate=void 0):void 0===this.highSurrogate&&F>=55296&&F<56320?this.highSurrogate=F:(void 0!==this.highSurrogate&&(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new t(String.fromCharCode(F)))),this.tState=R}}else if(this.tState===O||this.tState===A)switch(r=e[m]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(r),this.tState=A;break;default:this.tState=f;var Q=Number(this.string);if(isNaN(Q))return this.charError(e,m);this.string.match(/[0-9]+/)==this.string&&Q.toString()!=this.string?this.onToken(p,this.string):this.onToken(d,Q),this.offset+=this.string.length-1,this.string=void 0,m--}else if(this.tState===y){if(114!==e[m])return this.charError(e,m);this.tState=g}else if(this.tState===g){if(117!==e[m])return this.charError(e,m);this.tState=_}else if(this.tState===_){if(101!==e[m])return this.charError(e,m);this.tState=f,this.onToken(c,!0),this.offset+=3}else if(this.tState===b){if(97!==e[m])return this.charError(e,m);this.tState=v}else if(this.tState===v){if(108!==e[m])return this.charError(e,m);this.tState=w}else if(this.tState===w){if(115!==e[m])return this.charError(e,m);this.tState=S}else if(this.tState===S){if(101!==e[m])return this.charError(e,m);this.tState=f,this.onToken(l,!1),this.offset+=4}else if(this.tState===E){if(117!==e[m])return this.charError(e,m);this.tState=T}else if(this.tState===T){if(108!==e[m])return this.charError(e,m);this.tState=x}else if(this.tState===x){if(108!==e[m])return this.charError(e,m);this.tState=f,this.onToken(h,null),this.offset+=3}},X.onToken=function(e,t){},X.parseError=function(e,t){this.tState=m,this.onError(new Error("Unexpected "+G.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+G.toknam(this.state)))},X.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},X.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=k)},X.emit=function(e){this.mode&&(this.state=u),this.onValue(e)},X.onValue=function(e){},X.onToken=function(e,t){if(this.state===k)if(e===p||e===d||e===c||e===l||e===h)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===n)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=D,this.mode=M;else if(e===s)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=F,this.state=k;else if(e===i){if(this.mode!==M)return this.parseError(e,t);this.pop()}else{if(e!==a)return this.parseError(e,t);if(this.mode!==F)return this.parseError(e,t);this.pop()}else if(this.state===D)if(e===p)this.key=t,this.state=o;else{if(e!==i)return this.parseError(e,t);this.pop()}else if(this.state===o){if(e!==o)return this.parseError(e,t);this.state=k}else{if(this.state!==u)return this.parseError(e,t);if(e===u)this.mode===F?(this.key++,this.state=k):this.mode===M&&(this.state=D);else{if(!(e===a&&this.mode===F||e===i&&this.mode===M))return this.parseError(e,t);this.pop()}}},G.C=r,e.exports=G}).call(this,r(12).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(126);t.GraphQlQueryEngine=class{constructor(e){this.comunicaEngine=e}async query(e,t){const{data:r}=await this.comunicaEngine.resultToString(await this.comunicaEngine.query(e,t),"application/sparql-results+json");return JSON.parse(await n(r))}}},function(e,t,r){var n=r(295);e.exports=function(e,t,r){"function"==typeof t&&(r=t,t=null),r=r||function(){};var i="";return new n((function(n,s){e.on("data",(function(e){i+="string"==typeof t?e.toString(t):e.toString()})),e.on("end",(function(){n(i),r(null,i)})),e.on("error",(function(e){s(e),r(e)}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(296))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(298))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(300))},function(e,t,r){var n=r(37).DataFactory.internal.Term;class i extends n{constructor(){return super(""),s||this}equals(e){return e&&this.termType===e.termType}}Object.defineProperty(i.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(i.prototype,"termType",{enumerable:!0,value:"Wildcard"});var s=new i;e.exports.Wildcard=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(311))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(312))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(313))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(135)),n(r(314))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorHttpInvalidate=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(315))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(138)),n(r(316))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfMetadata=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(317))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(318))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(321))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}static getSafeBindings(e){return i.validateQueryOutput(e,"bindings"),e}static getSafeQuads(e){return i.validateQueryOutput(e,"quads"),e}static getSafeBoolean(e){return i.validateQueryOutput(e,"boolean"),e}static cachifyMetadata(e){let t=null;return()=>t||(t=e())}static validateQueryOutput(e,t){if(e.type!==t)throw new Error("Invalid query output type: Expected '"+t+"' but got '"+e.type+"'")}static getExpressionContext(e){if(e){return{now:e.get(t.KEY_CONTEXT_QUERY_TIMESTAMP),baseIRI:e.get(t.KEY_CONTEXT_BASEIRI)}}return{}}}t.ActorQueryOperation=i,t.KEY_CONTEXT_BGP_CURRENTMETADATA="@comunica/bus-query-operation:bgpCurrentMetadata",t.KEY_CONTEXT_BGP_PARENTMETADATA="@comunica/bus-query-operation:bgpParentMetadata",t.KEY_CONTEXT_BGP_PATTERNBINDINGS="@comunica/bus-query-operation:bgpPatternBindings",t.KEY_CONTEXT_PATTERN_PARENTMETADATA="@comunica/bus-query-operation:patternParentMetadata",t.KEY_CONTEXT_BASEIRI="@comunica/actor-init-sparql:baseIRI",t.KEY_CONTEXT_QUERY_TIMESTAMP="@comunica/actor-init-sparql:queryTimestamp"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(142);class i extends n.ActorQueryOperation{constructor(e,t){if(super(Object.assign(Object.assign({},e),{operationName:t})),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");if(e.operation.type!==this.operationName)throw new Error("Actor "+this.name+" only supports "+this.operationName+" operations, but got "+e.operation.type);const t=e.operation;return this.testOperation(t,e.context)}async run(e){const r=e.operation,i=e.context?e.context.set(t.KEY_CONTEXT_QUERYOPERATION,r):null,s=await this.runOperation(r,i);return s.metadata&&(s.metadata=n.ActorQueryOperation.cachifyMetadata(s.metadata)),s}}t.ActorQueryOperationTyped=i,t.KEY_CONTEXT_QUERYOPERATION="@comunica/bus-query-operation:operation"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(324))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(325))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(124),i=r(1),s=r(328),a=r(329),o=r(332),u=r(147),c=r(333),l=r(334),h=r(335),p=r(336),d=r(337),f=r(338),m=r(339),y=r(33);class g extends i.Transform{constructor(e){super({objectMode:!0}),e=e||{},this.options=e,this.parsingContext=new m.ParsingContext(Object.assign({parser:this},e)),this.util=new y.Util({dataFactory:e.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new n,this.contextAwaitingJobs=[],this.contextJobs=[],this.lastDepth=0,this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners()}import(e){const t=new i.PassThrough({objectMode:!0});e.on("error",e=>r.emit("error",e)),e.on("data",e=>t.write(e)),e.on("end",()=>t.emit("end"));const r=t.pipe(new g(this.options));return r}_transform(e,t,r){this.jsonParser.write(e),this.lastOnValueJob.then(()=>r(),e=>r(e))}async newOnValueJob(e,t,r){if(r<this.lastDepth){const t=this.parsingContext.listPointerStack[this.lastDepth];t&&(t.term?this.emit("data",this.util.dataFactory.quad(t.term,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())):this.parsingContext.getUnidentifiedValueBufferSafe(t.listRootDepth).push({predicate:t.initialPredicate,object:this.util.rdfNil,reverse:!1}),this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await this.flushBuffer(this.lastDepth,e)}const n=await this.util.unaliasKeyword(e[r],e,r),i=await this.util.unaliasKeywordParent(e,r);this.parsingContext.emittedStack[r]=!0;let s=!0;y.Util.isKeyword(n)&&"@reverse"===i&&this.emit("error",new Error(`Found the @id '${t}' inside an @reverse property`));let a=!1;this.parsingContext.validationStack.length>1&&(a=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let t=Math.max(1,this.parsingContext.validationStack.length-1);t<e.length-1;t++){const n=this.parsingContext.validationStack[t]||(this.parsingContext.validationStack[t]=await this.validateKey(e.slice(0,t+1),t,a));if(!n.valid){this.parsingContext.emittedStack[r]=!1,s=!1;break}!a&&n.property&&(a=!0)}if(this.util.isLiteral(r)&&(s=!1),s){for(const i of g.ENTRY_HANDLERS){const s=await i.test(this.parsingContext,this.util,n,e,r);if(s){await i.handle(this.parsingContext,this.util,n,e,t,r,s);break}}this.parsingContext.processingStack[r]=!0}0===r&&Array.isArray(t)&&await this.util.validateValueIndexes(t),r<this.lastDepth&&(this.parsingContext.processingStack.splice(this.lastDepth,1),this.parsingContext.emittedStack.splice(this.lastDepth,1),this.parsingContext.idStack.splice(this.lastDepth,1),this.parsingContext.graphStack.splice(this.lastDepth+1,1),this.parsingContext.literalStack.splice(this.lastDepth,1),this.parsingContext.validationStack.splice(this.lastDepth-1,2)),this.lastDepth=r,this.parsingContext.unaliasedKeywordCacheStack.splice(r-1)}async validateKey(e,t,r){for(const n of g.ENTRY_HANDLERS)if(await n.validate(this.parsingContext,this.util,e,t,r))return{valid:!0,property:r||n.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=e=>{const t=this.jsonParser.stack.length,r=new Array(t+1).fill(0).map((e,r)=>r===t?this.jsonParser.key:this.jsonParser.stack[r].key);if(!this.isParsingContextInner(t)){const n=()=>this.newOnValueJob(r,e,t);if(this.parsingContext.allowOutOfOrderContext&&!this.parsingContext.contextTree.getContext(r.slice(0,-1)))if("@context"===r[t]){let e=this.contextJobs[t];e||(e=this.contextJobs[t]=[]),e.push(n)}else this.contextAwaitingJobs.push(n);else this.lastOnValueJob=this.lastOnValueJob.then(n);this.parsingContext.allowOutOfOrderContext&&0===t&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=e=>{this.emit("error",e)}}isParsingContextInner(e){for(let t=e;t>0;t--)if("@context"===this.jsonParser.stack[t-1].key)return!0;return!1}async executeBufferedJobs(){for(const e of this.contextJobs)if(e)for(const t of e)await t();this.parsingContext.unaliasedKeywordCacheStack.splice(0);for(const e of this.contextAwaitingJobs)await e()}async flushBuffer(e,t){let r=this.parsingContext.idStack[e];void 0===r&&(r=this.parsingContext.idStack[e]=this.util.dataFactory.blankNode());const n=this.parsingContext.unidentifiedValuesBuffer[e];if(n){if(r){const i=await this.util.getDepthOffsetGraph(e,t),s=this.parsingContext.graphStack[e]||i>=0?this.parsingContext.idStack[e-i-1]:this.util.getDefaultGraph();if(s){this.parsingContext.emittedStack[e]=!0;for(const t of n)t.reverse?this.parsingContext.emitQuad(e,this.util.dataFactory.quad(t.object,t.predicate,r,s)):this.parsingContext.emitQuad(e,this.util.dataFactory.quad(r,t.predicate,t.object,s))}else{const i=this.parsingContext.getUnidentifiedGraphBufferSafe(e-await this.util.getDepthOffsetGraph(e,t)-1);for(const e of n)e.reverse?i.push({object:r,predicate:e.predicate,subject:e.object}):i.push({object:e.object,predicate:e.predicate,subject:r})}}this.parsingContext.unidentifiedValuesBuffer.splice(e,1),this.parsingContext.literalStack.splice(e,1)}const i=this.parsingContext.unidentifiedGraphsBuffer[e];if(i){if(r){const t=1!==e||"BlankNode"!==r.termType||this.parsingContext.topLevelProperties?r:this.util.getDefaultGraph();this.parsingContext.emittedStack[e]=!0;for(const r of i)this.parsingContext.emitQuad(e,this.util.dataFactory.quad(r.subject,r.predicate,r.object,t))}this.parsingContext.unidentifiedGraphsBuffer.splice(e,1)}}}g.DEFAULT_PROCESSING_MODE="1.0",g.ENTRY_HANDLERS=[new s.EntryHandlerArrayValue,new c.EntryHandlerKeywordContext,new h.EntryHandlerKeywordId,new l.EntryHandlerKeywordGraph,new p.EntryHandlerKeywordType,new f.EntryHandlerKeywordValue,new d.EntryHandlerKeywordUnknownFallback,new a.EntryHandlerContainer,new u.EntryHandlerPredicate,new o.EntryHandlerInvalidFallback],t.JsonLdParser=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(33);class i{static async handlePredicateObject(e,t,r,n,i,s,a,o){const u=n-("@reverse"===i?1:0),c=await t.getDepthOffsetGraph(n,r),l=n-c;if(e.idStack[u]){const r=e.idStack[u];if(c>=0){const i=e.idStack[l-1];i?o?(t.validateReverseSubject(a),e.emitQuad(n,t.dataFactory.quad(a,s,r,i))):e.emitQuad(n,t.dataFactory.quad(r,s,a,i)):o?(t.validateReverseSubject(a),e.getUnidentifiedGraphBufferSafe(l-1).push({subject:a,predicate:s,object:r})):e.getUnidentifiedGraphBufferSafe(l-1).push({subject:r,predicate:s,object:a})}else o?(t.validateReverseSubject(a),e.emitQuad(n,t.dataFactory.quad(a,s,r,t.getDefaultGraph()))):e.emitQuad(n,t.dataFactory.quad(r,s,a,t.getDefaultGraph()))}else o&&t.validateReverseSubject(a),e.getUnidentifiedValueBufferSafe(u).push({predicate:s,object:a,reverse:o})}isPropertyHandler(){return!0}async validate(e,t,r,n,i){return r[n]&&!!await t.predicateToTerm(await e.getContext(r),r[n])}async test(e,t,r,n,i){return n[i]}async handle(e,t,r,s,a,o,u){const c=s[o],l=await t.unaliasKeywordParent(s,o),h=await e.getContext(s),p=await t.predicateToTerm(h,r);if(p){const u=await e.getContext(s,0);let d=await t.valueToTerm(u,r,a,o,s);if(d){const u=n.Util.isPropertyReverse(h,c,l),f="@list"===n.Util.getContextValueContainer(h,r);if(f||a["@list"]){if((f||a["@list"]&&!Array.isArray(a["@list"]))&&d!==t.rdfNil){const r=t.dataFactory.blankNode();e.emitQuad(o,t.dataFactory.quad(r,t.rdfRest,t.rdfNil,t.getDefaultGraph())),e.emitQuad(o,t.dataFactory.quad(r,t.rdfFirst,d,t.getDefaultGraph())),d=r}if(u&&!e.allowSubjectList)throw new Error(`Found illegal list value in subject position at ${r}`)}await i.handlePredicateObject(e,t,s,o,l,p,d,u)}else e.emittedStack[o]=!1}}}t.EntryHandlerPredicate=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(342))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(348))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);class i extends n.Transform{constructor(e){super({objectMode:!0}),this.parser=e}_transform(e,t,r){let n;try{n=this.parser.parseXmlBindings(e)}catch(e){return r(e)}r(null,n)}}t.SparqlXmlBindingsTransformer=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(152)),n(r(368))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24),i=r(366),s=r(47);class a extends i.ActorRdfDereferenceMediaMappings{constructor(e){super(e)}async test(e){if(!/^https?:/.test(e.url))throw new Error(`Cannot retrieve ${e.url} because it is not an HTTP(S) URL.`);return!0}async run(e){const t=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes,r=this.mediaTypesToAcceptString(t,this.getMaxAcceptHeaderLength()),i=new Headers;i.append("Accept",r);for(const t in e.headers)i.append(t,e.headers[t]);const o={context:e.context,init:{headers:i,method:e.method},input:e.url};let u;try{u=await this.mediatorHttp.mediate(o)}catch(t){return this.handleDereferenceError(e,t)}const c=s.resolve(u.url,e.url),l={};u.headers.forEach((e,t)=>l[t]=e);const h=n.ActorHttp.toNodeReadable(u.body);if(200!==u.status){const t=new Error(`Could not retrieve ${e.url} (${u.status}: ${u.statusText||"unknown error"})`);return this.handleDereferenceError(e,t)}let p=u.headers.has("content-type")?a.REGEX_MEDIATYPE.exec(u.headers.get("content-type"))[0]:null;p&&"text/plain"!==p||(p=this.getMediaTypeFromExtension(u.url));const d={baseIRI:c,headers:u.headers,input:h};let f;try{f=(await this.mediatorRdfParseHandle.mediate({context:e.context,handle:d,handleMediaType:p})).handle}catch(t){return this.handleDereferenceError(e,t)}return{url:c,quads:this.handleDereferenceStreamErrors(e,f.quads),triples:f.triples,headers:l}}mediaTypesToAcceptString(e,t){t-=10;const r=[],n=Object.keys(e).map(t=>({mediaType:t,priority:e[t]})).sort((e,t)=>t.priority-e.priority);let i=0;for(const e of n){const n=e.mediaType+(1!==e.priority?";q="+e.priority.toFixed(3).replace(/0*$/,""):"");if(i+n.length>t){r.push("*/*;q=0.1");break}r.push(n),i+=n.length}return r.length?r.join(","):"*/*"}}t.ActorRdfDereferenceHttpParseBase=a,a.REGEX_MEDIATYPE=/^[^ ;]*/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(1);class s extends n.Actor{constructor(e){super(e)}isHardError(e){return!e.context||!e.context.get(t.KEY_CONTEXT_LENIENT)}handleDereferenceStreamErrors(e,t){return this.isHardError(e)||(t.on("error",r=>{this.logError(e.context,r.message,{url:e.url}),t.push(null)}),t=t.pipe(new i.PassThrough({objectMode:!0}))),t}async handleDereferenceError(e,t){if(this.isHardError(e))throw t;{this.logError(e.context,t.message);const r=new i.Readable;return r.push(null),{url:e.url,quads:r}}}}t.ActorRdfDereference=s,t.KEY_CONTEXT_LENIENT="@comunica/actor-init-sparql:lenient"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(369))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(371))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(372))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(375))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(376))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(378)),n(r(160))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(381);t.MediatedQuadSource=class{constructor(e,t,r,n,i){this.cacheSize=e,this.context=t,this.firstUrl=r,this.forceSourceType=n,this.mediators=i}matchLazy(e,t,r,i){if(e instanceof RegExp||t instanceof RegExp||r instanceof RegExp||i instanceof RegExp)throw new Error("MediatedQuadSource does not support matching by regular expressions.");const s=new n.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,this.context,this.forceSourceType,e,t,r,i,this.firstUrl,this.mediators);return this.sourcesState?s.setSourcesState(this.sourcesState):(s.setSourcesState(),this.sourcesState=s.sourcesState),s}match(e,t,r,n){return this.matchLazy(e,t,r,n)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(383));var n=r(163);function i(){return r(389)}t.bindingsStreamToGraphQl=n.bindingsStreamToGraphQl,t.newEngine=i,t.evaluateQuery=function(e,t){return i().query(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(386))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(164));const n=r(164).ActorSparqlSerializeTree.bindingsStreamToGraphQl;t.bindingsStreamToGraphQl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(0),s=r(121),a=r(1);class o extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingsStreamToGraphQl(e,t,r){const n=i.ensureActionContext(t);return new Promise((t,i)=>{const a=[],o=new s.Converter(r),u={singularizeVariables:n.get("@comunica/actor-init-sparql:singularizeVariables")||{}};e.on("error",i),e.on("data",e=>{const t=e.toJS(),r={};for(const e in t){const n=t[e];n&&(r[e.substr(1)]=n)}a.push(r)}),e.on("end",()=>{t(o.bindingsToTree(a,u))})})}async testHandleChecked(e){if("bindings"!==e.type)throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,t){const r=new a.Readable;r._read=()=>{};const n=e.bindingsStream;return n.on("error",e=>r.emit("error",e)),o.bindingsStreamToGraphQl(n,e.context,{materializeRdfJsTerms:!0}).then(e=>{r.push(JSON.stringify(e,null,"  ")),r.push(null)}).catch(e=>r.emit("error",e)),{data:r}}}t.ActorSparqlSerializeTree=o},function(e,t,r){"use strict";var n=r(166),i=r(395),s=r(398);function a(e){return e&&e.rel}function o(e,t){return t.rel.split(/\s+/).forEach((function(r){e[r]=s(t,{rel:r})})),e}function u(e,t){var r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function c(e){try{var t=e.match(/<?([^>]*)>(.*)/),r=t[1],a=t[2].split(";"),o=i.parse(r),c=n.parse(o.query);a.shift();var l=a.reduce(u,{});return(l=s(c,l)).url=r,l}catch(e){return null}}e.exports=function(e){return e?e.split(/,\s*</).map(c).filter(a).reduce(o,{}):null}},function(e,t,r){"use strict";t.decode=t.parse=r(393),t.encode=t.stringify=r(394)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(427))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(428))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(429))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(430))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(431))},function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i="[object Function]",s="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,o="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=o||u||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,s=r+(n?1:-1);for(;n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}(e,p,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function h(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function p(e){return e!=e}function d(e,t){return e.has(t)}function f(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var m,y=Array.prototype,g=Function.prototype,_=Object.prototype,b=c["__core-js_shared__"],v=(m=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",w=g.toString,S=_.hasOwnProperty,E=_.toString,T=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=y.splice,O=F(c,"Map"),A=F(c,"Set"),R=F(Object,"create");function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.__data__=new j;++t<r;)this.add(e[t])}function C(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function k(e){return!(!L(e)||(t=e,v&&v in t))&&(function(e){var t=L(e)?E.call(e):"";return t==i||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:a).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}P.prototype.clear=function(){this.__data__=R?R(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(R){var r=t[e];return r===n?void 0:r}return S.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return R?void 0!==t[e]:S.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=R&&void 0===t?n:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,r=C(t,e);return!(r<0)&&(r==t.length-1?t.pop():x.call(t,r,1),!0)},I.prototype.get=function(e){var t=this.__data__,r=C(t,e);return r<0?void 0:t[r][1]},I.prototype.has=function(e){return C(this.__data__,e)>-1},I.prototype.set=function(e,t){var r=this.__data__,n=C(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new P,map:new(O||I),string:new P}},j.prototype.delete=function(e){return M(this,e).delete(e)},j.prototype.get=function(e){return M(this,e).get(e)},j.prototype.has=function(e){return M(this,e).has(e)},j.prototype.set=function(e,t){return M(this,e).set(e,t),this},N.prototype.add=N.prototype.push=function(e){return this.__data__.set(e,n),this},N.prototype.has=function(e){return this.__data__.has(e)};var D=A&&1/f(new A([,-0]))[1]==1/0?function(e){return new A(e)}:function(){};function M(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function F(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return k(r)?r:void 0}function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,n){var i=-1,s=l,a=e.length,o=!0,u=[],c=u;if(n)o=!1,s=h;else if(a>=r){var p=t?null:D(e);if(p)return f(p);o=!1,s=d,c=new N}else c=t?[]:u;e:for(;++i<a;){var m=e[i],y=t?t(m):m;if(m=n||0!==m?m:0,o&&y==y){for(var g=c.length;g--;)if(c[g]===y)continue e;t&&c.push(y),u.push(m)}else s(c,y,n)||(c!==u&&c.push(y),u.push(m))}return u}(e):[]}}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(432))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(434))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(436))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(438),s=r(5);class a extends n.ActorQueryOperationTypedMediated{constructor(e,t){if(super(e,t),!a.doesHashAlgorithmExist(this.hashAlgorithm))throw new Error("The given hash algorithm is not present in this version of Node: "+this.hashAlgorithm);if(!a.doesDigestAlgorithmExist(this.digestAlgorithm))throw new Error("The given digest algorithm is not present in this version of Node: "+this.digestAlgorithm)}static doesHashAlgorithmExist(e){return i.getHashes().indexOf(e)>=0}static doesDigestAlgorithmExist(e){return["latin1","hex","base64"].indexOf(e)>=0}static hash(e,t,n){const a=i.createHash(e);return a.update(r(439)(n.map(s.termToString))),a.digest(t)}}t.AbstractFilterHash=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(443))},function(e,t,r){"use strict";var n=r(17).Buffer,i=r(1).Transform;function s(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(9)(s,i),s.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},s.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,o=8*e.length;o>0;++a)this._length[a]+=o,(o=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*o);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},function(e,t,r){var n=r(9),i=r(36),s=r(17).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function p(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,u=0|this._e,f=0|this._f,m=0|this._g,y=0|this._h,g=0;g<16;++g)r[g]=e.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((t=r[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[g-7]+d(r[g-15])+r[g-16];for(var _=0;_<64;++_){var b=y+p(u)+c(u,f,m)+a[_]+r[_]|0,v=h(n)+l(n,i,s)|0;y=m,m=f,f=u,u=o+b|0,o=s,s=i,i=n,n=b+v|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0,this._f=f+this._f|0,this._g=m+this._g|0,this._h=y+this._h|0},u.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},function(e,t,r){var n=r(9),i=r(36),s=r(17).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,i.call(this,128,112)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function p(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,o=0|this._eh,u=0|this._fh,_=0|this._gh,b=0|this._hh,v=0|this._al,w=0|this._bl,S=0|this._cl,E=0|this._dl,T=0|this._el,x=0|this._fl,O=0|this._gl,A=0|this._hl,R=0;R<32;R+=2)t[R]=e.readInt32BE(4*R),t[R+1]=e.readInt32BE(4*R+4);for(;R<160;R+=2){var P=t[R-30],I=t[R-30+1],j=d(P,I),N=f(I,P),C=m(P=t[R-4],I=t[R-4+1]),k=y(I,P),D=t[R-14],M=t[R-14+1],F=t[R-32],L=t[R-32+1],q=N+M|0,B=j+D+g(q,N)|0;B=(B=B+C+g(q=q+k|0,k)|0)+F+g(q=q+L|0,L)|0,t[R]=B,t[R+1]=q}for(var U=0;U<160;U+=2){B=t[U],q=t[U+1];var H=l(r,n,i),z=l(v,w,S),V=h(r,v),Q=h(v,r),G=p(o,T),X=p(T,o),$=a[U],Y=a[U+1],W=c(o,u,_),J=c(T,x,O),K=A+X|0,Z=b+G+g(K,A)|0;Z=(Z=(Z=Z+W+g(K=K+J|0,J)|0)+$+g(K=K+Y|0,Y)|0)+B+g(K=K+q|0,q)|0;var ee=Q+z|0,te=V+H+g(ee,Q)|0;b=_,A=O,_=u,O=x,u=o,x=T,o=s+Z+g(T=E+K|0,E)|0,s=i,E=S,i=n,S=w,n=r,w=v,r=Z+te+g(v=K+ee|0,K)|0}this._al=this._al+v|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+T|0,this._fl=this._fl+x|0,this._gl=this._gl+O|0,this._hl=this._hl+A|0,this._ah=this._ah+r+g(this._al,v)|0,this._bh=this._bh+n+g(this._bl,w)|0,this._ch=this._ch+i+g(this._cl,S)|0,this._dh=this._dh+s+g(this._dl,E)|0,this._eh=this._eh+o+g(this._el,T)|0,this._fh=this._fh+u+g(this._fl,x)|0,this._gh=this._gh+_+g(this._gl,O)|0,this._hh=this._hh+b+g(this._hl,A)|0},u.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},function(e,t,r){var n=r(464),i=r(75),s=i;s.v1=n,s.v4=i,e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(16),s=r(54),a={term:(e,t)=>e,variable(e,t){const r=t.get(e.name);if(!r)throw new i.UnboundVariableError(e.name,t);return s.transformRDFTermUnsafe(r)}};t.AsyncRecursiveEvaluator=class{constructor(e){this.context=e,this.subEvaluators={[n.ExpressionType.Term]:a.term,[n.ExpressionType.Variable]:a.variable,[n.ExpressionType.Operator]:this.evalOperator,[n.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[n.ExpressionType.Named]:this.evalNamed,[n.ExpressionType.Existence]:this.evalExistence,[n.ExpressionType.Aggregate]:this.evalAggregate}}async evaluate(e,t){const r=this.subEvaluators[e.expressionType];if(!r)throw new i.InvalidExpressionType(e);return r.bind(this)(e,t)}async evalOperator(e,t){const r=e.args.map(e=>this.evaluate(e,t)),n=await Promise.all(r);return e.apply(n)}async evalSpecialOperator(e,t){const r=this.evaluate.bind(this),n={args:e.args,mapping:t,evaluate:r,context:{now:this.context.now,baseIRI:this.context.baseIRI,bnode:this.context.bnode}};return e.applyAsync(n)}async evalNamed(e,t){const r=e.args.map(e=>this.evaluate(e,t)),n=await Promise.all(r);return e.apply(n)}async evalExistence(e,t){if(!this.context.exists)throw new i.NoExistenceHook;return new n.BooleanLiteral(await this.context.exists(e.expression,t))}async evalAggregate(e,t){if(!this.context.aggregate)throw new i.NoExistenceHook;return s.transformRDFTermUnsafe(await this.context.aggregate(e.expression))}};t.SyncRecursiveEvaluator=class{constructor(e){this.context=e,this.subEvaluators={[n.ExpressionType.Term]:a.term,[n.ExpressionType.Variable]:a.variable,[n.ExpressionType.Operator]:this.evalOperator,[n.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[n.ExpressionType.Named]:this.evalNamed,[n.ExpressionType.Existence]:this.evalExistence,[n.ExpressionType.Aggregate]:this.evalAggregate}}evaluate(e,t){const r=this.subEvaluators[e.expressionType];if(!r)throw new i.InvalidExpressionType(e);return r.bind(this)(e,t)}evalOperator(e,t){const r=e.args.map(e=>this.evaluate(e,t));return e.apply(r)}evalSpecialOperator(e,t){const r=this.evaluate.bind(this),n={args:e.args,mapping:t,evaluate:r,context:{now:this.context.now,baseIRI:this.context.baseIRI,bnode:this.context.bnode}};return e.applySync(n)}evalNamed(e,t){const r=e.args.map(e=>this.evaluate(e,t));return e.apply(r)}evalExistence(e,t){if(!this.context.exists)throw new i.NoExistenceHook;return new n.BooleanLiteral(this.context.exists(e.expression,t))}evalAggregate(e,t){if(!this.context.aggregate)throw new i.NoAggregator;return s.transformRDFTermUnsafe(this.context.aggregate(e.expression))}};class o extends Error{constructor(e){super(`Operation '${e}' is unsupported in SimpleEvaluator`)}}t.UnsupportedOperation=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(54),i=r(182);t.SyncEvaluator=class{constructor(e,t={}){this.algExpr=e,this.config=t,this.expr=n.transformAlgebra(e);const r={now:t.now||new Date(Date.now()),baseIRI:t.baseIRI||void 0,exists:t.exists,aggregate:t.aggregate};this.evaluator=new i.SyncRecursiveEvaluator(r)}evaluate(e){return this.evaluator.evaluate(this.expr,e).toRDF()}evaluateAsEBV(e){return this.evaluator.evaluate(this.expr,e).coerceEBV()}evaluateAsInternal(e){return this.evaluator.evaluate(this.expr,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(469))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(470))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(471))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(473))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(475))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(476))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(477))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(479))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(480))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(482))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(2),s=r(4),a=r(5),o=r(8);class u extends n.ActorQueryOperationTypedMediated{constructor(e,t){super(e,"path"),this.predicateType=t}async testOperation(e,t){if(e.predicate.type!==this.predicateType)throw new Error("This Actor only supports "+this.predicateType+" Path operations.");return!0}generateBlankNode(e,t){return t?!e||e.subject.value!==t&&e.object.value!==t?i.blankNode(t):this.generateBlankNode(e,t+"b"):this.generateBlankNode(e,"b")}async ALPeval(e,t,r){const n=new s.BufferedIterator;return await this.ALP(e,t,r,{},n,{count:0}),n}async ALP(e,t,r,i,s,o){const c=a.termToString(e);if(i[c])return;s._push(e),i[c]=e;const l=this.generateBlankNode(),h=a.termToString(l),p=u.FACTORY.createPath(e,t,l),d=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:p,context:r}));o.count++,d.bindingsStream.on("data",async e=>{const n=e.get(h);await this.ALP(n,t,r,i,s,o)}),d.bindingsStream.on("end",()=>{0==--o.count&&s.close()})}}t.ActorAbstractPath=u,u.FACTORY=new o.Factory},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(483))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(484))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(485))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(486))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(487))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(488))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(489))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),r(39);const i=r(47),s=r(76);class a{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new s.FetchDocumentLoader,this.documentCache={},this.validate=!e.skipValidation,this.expandContentTypeToBase=e.expandContentTypeToBase}static isCompactIri(e){return e.indexOf(":")>=0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"==typeof e)return e;const t=e["@id"];return t||null}static expandTerm(e,t,r){a.assertNormalized(t);const n=t[e];if(null===n||n&&null===n["@id"])return null;if(n&&r){const t=this.getContextValueId(n);if(t&&t!==e)return t}const s=a.getPrefix(e,t);if(s){const r=this.getContextValueId(t[s]);if(r)return r+e.substr(s.length+1)}else{if(r&&t["@vocab"]&&"@"!==e.charAt(0)&&!a.isCompactIri(e))return t["@vocab"]+e;if(!r&&t["@base"]&&"@"!==e.charAt(0)&&!a.isCompactIri(e))return i.resolve(e,t["@base"])}return e}static compactIri(e,t,r){if(a.assertNormalized(t),r&&t["@vocab"]&&e.startsWith(t["@vocab"]))return e.substr(t["@vocab"].length);if(!r&&t["@base"]&&e.startsWith(t["@base"]))return e.substr(t["@base"].length);const n={prefix:"",suffix:e};for(const i in t){const s=t[i];if(s&&!i.startsWith("@")){const t=this.getContextValueId(s);if(e.startsWith(t)){const s=e.substr(t.length);if(s)s.length<n.suffix.length&&(n.prefix=i,n.suffix=s);else if(r)return i}}}return n.prefix?n.prefix+":"+n.suffix:e}static assertNormalized(e){if("string"==typeof e||Array.isArray(e)||e["@context"])throw new Error("The given context is not normalized. Make sure to call ContextParser.parse() first.")}static isPrefixValue(e){return e&&("string"==typeof e||e["@id"]||e["@type"])}static isValidIri(e){return a.IRI_REGEX.test(e)}static idifyReverseTerms(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"==typeof r&&r["@reverse"]&&!r["@id"]){if("string"!=typeof r["@reverse"])throw new Error(`Invalid @reverse value: '${r["@reverse"]}'`);r["@id"]=r["@reverse"],r["@reverse"]=!0}}return e}static expandPrefixedTerms(e,t){for(const r of Object.keys(e))if(a.EXPAND_KEYS_BLACKLIST.indexOf(r)<0){if("@"===r[0]&&a.ALIAS_KEYS_BLACKLIST.indexOf(r)>=0)throw new Error(`Keywords can not be aliased to something else.\nTried mapping ${r} to ${e[r]}`);for(;a.isPrefixValue(e[r]);){const n=e[r];let i=!1;if("string"==typeof n)e[r]=a.expandTerm(n,e,!0),i=i||n!==e[r];else{const s=n["@id"],o=n["@type"];s&&(e[r]["@id"]=a.expandTerm(s,e,!0),i=i||s!==e[r]["@id"]),o&&"@vocab"!==o&&(e[r]["@type"]=a.expandTerm(o,e,!0),t&&o===e[r]["@type"]&&(e[r]["@type"]=a.expandTerm(o,e,!1)),i=i||o!==e[r]["@type"])}if(!i)break}}return e}static normalize(e){for(const t of Object.keys(e))if("@language"===t&&"string"==typeof e[t])e[t]=e[t].toLowerCase();else{const r=e[t];r&&"object"==typeof r&&"string"==typeof r["@language"]&&(r["@language"]=r["@language"].toLowerCase())}return e}static validate(e){for(const t of Object.keys(e)){const r=e[t],n=typeof r;if("@"===t[0])switch(t.substr(1)){case"vocab":if(null!==r&&"string"!==n)throw new Error(`Found an invalid @vocab IRI: ${r}`);break;case"base":if(null!==r&&"string"!==n)throw new Error(`Found an invalid @base IRI: ${e[t]}`);break;case"language":if(null!==r&&"string"!==n)throw new Error(`Found an invalid @language string: ${r}`)}if(null!==r)switch(n){case"string":break;case"object":if(!(a.isCompactIri(t)||"@id"in r||("@id"===r["@type"]?e["@base"]:e["@vocab"])))throw new Error(`Missing @id in context entry: '${t}': '${JSON.stringify(r)}'`);for(const e of Object.keys(r)){const n=r[e];if(n)switch(e){case"@id":if("@"===n[0]&&"@type"!==n&&"@id"!==n)throw new Error(`Illegal keyword alias in term value, found: '${t}': '${JSON.stringify(r)}'`);break;case"@type":if("@id"!==n&&"@vocab"!==n&&("_"===n[0]||!a.isValidIri(n)))throw new Error(`A context @type must be an absolute IRI, found: '${t}': '${n}'`);break;case"@reverse":if("string"==typeof n&&r["@id"]&&r["@id"]!==n)throw new Error(`Found non-matching @id and @reverse term values in '${t}':'${n}' and '${r["@id"]}'`);break;case"@container":if("@list"===n&&r["@reverse"])throw new Error(`Term value can not be @container: @list and @reverse at the same time on '${t}'`);if(a.CONTAINERS.indexOf(n)<0)throw new Error(`Invalid term @container for '${t}' ('${n}'), must be one of ${a.CONTAINERS.join(", ")}`);break;case"@language":if(null!==n&&"string"!=typeof n)throw new Error(`Found an invalid term @language string in: '${t}': '${JSON.stringify(r)}'`)}}break;default:throw new Error(`Found an invalid term value: '${t}': '${r}'`)}}}static normalizeContextIri(e,t){if(!a.isValidIri(e)&&(e=i.resolve(e,t),!a.isValidIri(e)))throw new Error(`Invalid context IRI: ${e}`);return e}parse(e,{baseIri:t,parentContext:r,external:s}={}){return n(this,void 0,void 0,(function*(){if(null==e)return t?{"@base":t}:{};if("string"==typeof e)return this.parse(yield this.load(a.normalizeContextIri(e,t)),{baseIri:t,parentContext:r,external:!0});if(Array.isArray(e)){return(yield Promise.all(e.map(e=>"string"==typeof e?this.load(a.normalizeContextIri(e,t)):e))).reduce((e,r)=>e.then(e=>this.parse(r,{baseIri:e&&e["@base"]||t,external:s,parentContext:e})),Promise.resolve(r))}if("object"==typeof e){if(e["@context"])return yield this.parse(e["@context"],{baseIri:t,parentContext:r,external:s});e=JSON.parse(JSON.stringify(e));let n={};return s&&delete e["@base"],t&&("@base"in e?null===e["@base"]||a.isValidIri(e["@base"])||(e["@base"]=i.resolve(e["@base"],t)):e["@base"]=t),n=Object.assign({},n,r,e),a.idifyReverseTerms(n),a.expandPrefixedTerms(n,this.expandContentTypeToBase),a.normalize(n),this.validate&&a.validate(n),n}throw new Error(`Tried parsing a context that is not a string, array or object, but got ${e}`)}))}load(e){return n(this,void 0,void 0,(function*(){const t=this.documentCache[e];return t?Array.isArray(t)?t.slice():Object.assign({},t):this.documentCache[e]=(yield this.documentLoader.load(e))["@context"]}))}}a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language"],a.ALIAS_KEYS_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value"],a.CONTAINERS=["@list","@set","@index","@language"],t.ContextParser=a},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return c})),r.d(t,"Request",(function(){return y})),r.d(t,"Response",(function(){return _})),r.d(t,"DOMException",(function(){return v})),r.d(t,"fetch",(function(){return w}));var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function p(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,r,n=l(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=h(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=a(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[a(e)]},c.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},c.prototype.set=function(e,t){this.map[a(e)]=o(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var r,n,i=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},f.call(y.prototype),f.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];_.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var v=self.DOMException;try{new v}catch(e){(v=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),v.prototype.constructor=v}function w(e,t){return new Promise((function(r,i){var s=new y(e,t);if(s.signal&&s.signal.aborted)return i(new v("Aborted","AbortError"));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new v("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",o)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=c,self.Request=y,self.Response=_)},function(e,t,r){"use strict";function n(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!s(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!s(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map(e=>e.join("")).join("/")}function i(e,t){let r=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(r=t+3):"/"===e[0]&&"/"===e[1]&&(r=2);const i=e.indexOf("/",r);return i<0?e:e.substr(0,i)+n(e.substr(i))}function s(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=function(e,t){const r=(t=t||"").indexOf("#");if(r>0&&(t=t.substr(0,r)),!e.length)return t;if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length)return i(e,e.indexOf(":"));const s=e.indexOf(":");if(s>=0)return i(e,s);const a=t.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const o=t.substr(0,a+1);if(0===e.indexOf("//"))return o+i(e,s);let u;if(t.indexOf("//",a)===a+1){if(u=t.indexOf("/",a+3),u<0)return t.length>a+3?t+"/"+i(e,s):o+i(e,s)}else if(u=t.indexOf("/",a+1),u<0)return o+i(e,s);if(0===e.indexOf("/"))return t.substr(0,u)+n(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=n(e=c+e),t.substr(0,u)+e},t.removeDotSegments=n,t.removeDotSegmentsOfPath=i},function(e,t,r){var n=r(206),i=r(77),s=r(207),a=r(78),o=r(208),u=r(209);function c(){}c.namedNode=function(e){return new a(e)},c.blankNode=function(e){return new n(e)},c.literal=function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new s(e,t):new s(e,null,c.namedNode(t)):new s(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,r){return c.quad(e,t,r)},c.quad=function(e,t,r,n){return new o(e,t,r,n||c.defaultGraphInstance)},c.defaultGraphInstance=new i,e.exports=c},function(e,t){function r(e){this.value=e||"b"+ ++r.nextId}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="BlankNode",r.nextId=0,e.exports=r},function(e,t,r){var n=r(78);function i(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},function(e,t,r){var n=r(77);function i(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}i.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},e.exports=i},function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="Variable",e.exports=r},function(e,t,r){const n=new(r(81).LoggerVoid)({}),i=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),s=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/Bus/Http"}),a=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/Bus/RdfParse"}),o=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference/Bus/RdfDereference"}),u=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),c=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),l=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/Bus/RdfParseHtml"}),h=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/Bus/RdfResolveHypermedia"}),p=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/Bus/RdfMetadataExtract"}),d=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),f=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),m=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),y=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),g=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),_=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/Bus/RdfMetadata"}),b=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/Bus/RdfResolveHypermediaLinks"}),v=new(r(0).BusIndexed)({actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),w=new(r(217).ActorHttpSolidAuthFetch)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpFetcher",bus:s}),S=new(r(30).MediatorNumber)({field:"time",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#mediatorHttp",bus:s}),E=new(r(18).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseMediatypes",bus:a}),T=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseHandle",bus:a}),x=new(r(92).ActorRdfParseN3)({mediaTypes:{"application/n-quads":"1.0","application/trig":"0.95","application/n-triples":"0.8","text/turtle":"0.5","text/n3":"0.35"},priorityScale:"1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserN3",bus:a}),O=new(r(94).ActorRdfParseRdfXml)({mediaTypes:{"application/rdf+xml":"1.0"},priorityScale:"5.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserRdfXml",bus:a}),A=new(r(96).ActorRdfParseXmlRdfa)({mediaTypes:{"application/xml":"1.0","text/xml":"1.0","image/svg+xml":"1.0"},priorityScale:"3.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserXmlRdfa",bus:a}),R=new(r(18).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseMediatypes",bus:a}),P=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseHandle",bus:a}),I=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfDereference",bus:o}),j=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:u}),N=new(r(110).ActorRdfJoinSymmetricHash)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActor",bus:u}),C=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:c}),k=new(r(112).ActorRdfResolveQuadPatternRdfJsSource)({name:"config-sets:resolve-file.json#myRdfRdfJsSourceQuadPatternResolver",bus:c}),D=new(r(114).ActorRdfParseHtml)({busRdfParseHtml:l,mediaTypes:{"text/html":"1.0","application/xhtml+xml":"0.9"},priorityScale:"2.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtml",bus:a}),M=new(r(115).ActorRdfParseHtmlRdfa)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlRdfa",bus:l}),F=new(r(117).ActorRdfResolveHypermediaNone)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaNoneResolver",bus:h}),L=new(r(30).MediatorNumber)({field:"filterFactor",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermedia",bus:h}),q=new(r(119).ActorRdfMetadataExtractSparqlService)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#myRdfMetadataExtractSparqlService",bus:p}),B=new(r(18).MediatorCombineUnion)({field:"metadata",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadataExtract",bus:p}),U=new(r(127).ActorRdfMetadataExtractHydraControls)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraControls",bus:p}),H=new(r(128).ActorRdfMetadataExtractHydraCount)({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraCount",bus:p}),z=new(r(50).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:d}),V=new(r(129).ActorOptimizeQueryOperationJoinBgp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",bus:d}),Q=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:f}),G=new(r(131).ActorSparqlParseAlgebra)({prefixes:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dc:"http://purl.org/dc/terms/",dcterms:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",bus:f}),X=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:m}),$=new(r(18).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode248",bus:m}),Y=new(r(50).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:y}),W=new(r(133).MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:g}),J=new(r(134).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/Actor/RdfResolveQuadPattern/Hypermedia/httpInvalidator#default",bus:g}),K=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadata",bus:_}),Z=new(r(136).ActorRdfMetadataPrimaryTopic)({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataPrimaryTopic",bus:_}),ee=new(r(139).ActorRdfMetadataAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataAll",bus:_}),te=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermediaLinks",bus:b}),re=new(r(140).ActorRdfResolveHypermediaLinksNext)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaLinksNext",bus:b}),ne=new(r(30).MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:v}),ie=new(r(141).ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:v}),se=new(r(144).ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:v}),ae=new(r(145).ActorRdfParseJsonLd)({mediatorHttp:S,mediaTypes:{"application/ld+json":"1.0","application/json":"0.5"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserJsonLd",bus:a}),oe=new(r(148).ActorRdfResolveHypermediaSparql)({mediatorHttp:S,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlQuadPatternResolver",bus:h}),ue=new(r(149).ActorQueryOperationSparqlEndpoint)({mediatorHttp:S,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlEndpointResolver",bus:v}),ce=new(r(151).ActorRdfDereferenceHttpParse)({mediatorHttp:S,mediatorRdfParseMediatypes:E,mediatorRdfParseHandle:T,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,mediaMappings:{ttl:"text/turtle",turtle:"text/turtle",nt:"application/n-triples",ntriples:"application/n-triples",nq:"application/n-quads",nquads:"application/n-quads",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",trig:"application/trig",jsonld:"application/ld+json",json:"application/json",html:"text/html",htm:"text/html",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",svg:"image/svg+xml",svgz:"image/svg+xml"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencer",bus:o}),le=new(r(154).ActorRdfParseHtmlScript)({mediatorRdfParseMediatypes:R,mediatorRdfParseHandle:P,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlScript",bus:l}),he=new(r(155).ActorRdfJoinMultiSmallest)({mediatorJoin:j,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinMultiActor",bus:u}),pe=new(r(156).ActorRdfResolveQuadPatternFederated)({mediatorResolveQuadPattern:C,skipEmptyPatterns:!1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",bus:c}),de=new(r(157).ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:C,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:v}),fe=new(r(158).ActorRdfResolveHypermediaQpf)({mediatorMetadata:K,mediatorMetadataExtract:B,mediatorRdfDereference:I,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaQpfResolver",bus:h}),me=new(r(159).ActorRdfResolveQuadPatternHypermedia)({mediatorRdfDereference:I,mediatorMetadata:K,mediatorMetadataExtract:B,mediatorRdfResolveHypermedia:L,mediatorRdfResolveHypermediaLinks:te,cacheSize:100,httpInvalidator:J,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myQuadPatternHypermediaResolver",bus:c}),ye=new(r(161).ActorInitSparql)({mediatorOptimizeQueryOperation:z,mediatorQueryOperation:ne,mediatorSparqlParse:Q,mediatorSparqlSerialize:X,mediatorSparqlSerializeMediaTypeCombiner:$,mediatorContextPreprocess:Y,mediatorHttpInvalidate:W,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",baseIRI:"@comunica/actor-init-sparql:baseIRI",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime",queryTimestamp:"@comunica/actor-init-sparql:queryTimestamp",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",lenient:"@comunica/actor-init-sparql:lenient"},name:"urn:comunica:sparqlinit",bus:i});new(r(167).ActorQueryOperationAsk)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:v}),new(r(168).ActorQueryOperationService)({forceSparqlEndpoint:!1,mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:v}),new(r(169).ActorQueryOperationSlice)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:v}),new(r(170).ActorQueryOperationBgpSingle)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:v}),new(r(171).ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:v}),new(r(173).ActorQueryOperationConstruct)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:v}),new(r(174).ActorQueryOperationDescribeSubject)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:v}),new(r(175).ActorQueryOperationDistinctHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:v}),new(r(177).ActorQueryOperationExtend)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:v}),new(r(184).ActorQueryOperationReducedHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",cacheSize:100,mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:v}),new(r(185).ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:v}),new(r(186).ActorQueryOperationFromQuad)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:v}),new(r(187).ActorQueryOperationGroup)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myGroupQueryOperator",bus:v}),new(r(188).ActorQueryOperationJoin)({mediatorJoin:j,mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:v}),new(r(189).ActorQueryOperationLeftJoinNestedLoop)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:v}),new(r(190).ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:v}),new(r(191).ActorQueryOperationProject)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:v}),new(r(71).ActorQueryOperationUnion)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:v}),new(r(192).ActorQueryOperationMinus)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:v}),new(r(193).ActorQueryOperationPathAlt)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:v}),new(r(195).ActorQueryOperationPathInv)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:v}),new(r(196).ActorQueryOperationPathLink)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:v}),new(r(197).ActorQueryOperationPathNps)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:v}),new(r(198).ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:v}),new(r(199).ActorQueryOperationPathSeq)({mediatorJoin:j,mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:v}),new(r(200).ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:v}),new(r(201).ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:ne,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:v});e.exports=ye},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Logger{debug(e,t){}error(e,t){}fatal(e,t){}info(e,t){}trace(e,t){}warn(e,t){}}t.LoggerVoid=i},function(e,t){const r=Promise.resolve(null);window.setImmediate=function(e,...t){r.then(0===t.length?e:()=>e(...t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(82);class i extends n.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){const t=this.getActorIdentifier(e)||"_undefined_";let r=this.actorsIndex[t];r||(r=this.actorsIndex[t]=[]),r.push(e),super.subscribe(e)}unsubscribe(e){const t=this.getActorIdentifier(e)||"_undefined_",r=this.actorsIndex[t];if(r){const n=r.indexOf(e);n>=0&&r.splice(n,1),0===r.length&&delete this.actorsIndex[t]}return super.unsubscribe(e)}publish(e){const t=this.getActionIdentifier(e);if(t){return(this.actorsIndex[t]||[]).concat(this.actorsIndex._undefined_||[]).map(t=>({actor:t,reply:t.test(e)}))}return super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce((e,t)=>e[t],e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce((e,t)=>e[t],e)}}t.BusIndexed=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActionObserver=class{constructor(e){r(40)(this,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19),i=r(83);class s{constructor(e){this.beforeActors=[],r(40)(this,e),this.bus.subscribe(this),this.beforeActors.length&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e?e.get(i.KEY_CONTEXT_LOG):null}runObservable(e){const t=this.run(e);return this.bus.onRun(this,e,t),t}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,t){return t||(t={}),t.actor=this.name,t}logTrace(e,t,r){const n=s.getContextLogger(e);n&&n.trace(t,this.getDefaultLogData(e,r))}logDebug(e,t,r){const n=s.getContextLogger(e);n&&n.debug(t,this.getDefaultLogData(e,r))}logInfo(e,t,r){const n=s.getContextLogger(e);n&&n.info(t,this.getDefaultLogData(e,r))}logWarn(e,t,r){const n=s.getContextLogger(e);n&&n.warn(t,this.getDefaultLogData(e,r))}logError(e,t,r){const n=s.getContextLogger(e);n&&n.error(t,this.getDefaultLogData(e,r))}logFatal(e,t,r){const n=s.getContextLogger(e);n&&n.fatal(t,this.getDefaultLogData(e,r))}}function a(e){return n.Map(e)}t.Actor=s,t.ActionContext=a,t.ensureActionContext=function(e){return n.Map.isMap(e)?e:a(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Mediator=class{constructor(e){r(40)(this,e)}publish(e){const t=this.bus.publish(e);if(!t.length)throw new Error("No actors are able to reply to a message in the bus "+this.bus.name);return t}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(218))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24),i=r(46);class s extends n.ActorHttp{constructor(e){super(e)}async test(e){return{time:1/0}}run(e){return i.fetch(e.input,e.init)}}t.ActorHttpSolidAuthFetch=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}static toNodeReadable(e){return r(220)(e)?e:r(84).toNodeReadable(e)}}t.ActorHttp=i},function(e,t,r){"use strict";const n=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=n},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],o=n[1],u=new s(function(e,t,r){return 3*(t+r)/4-r}(0,a,o)),l=0,h=o>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===o&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===o&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(l(e,a,a+16383>o?o:a+16383));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=a.length;o<u;++o)n[o]=a[o],i[a.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,s,a=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,u=(1<<o)-1,c=u>>1,l=-7,h=r?i-1:0,p=r?-1:1,d=e[t+h];for(h+=p,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+e[t+h],h+=p,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=p,l-=8);if(0===s)s=1-c;else{if(s===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),s-=c}return(d?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(t*u-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&o,d+=f,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[r+d]=255&a,d+=f,a/=256,c-=8);e[r+d-f]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(12).Buffer,s=r(226).inspect,a=s&&s.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n,s=i.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,r=s,n=o,i.prototype.copy.call(t,r,n),o+=a.data.length,a=a.next;return s},t.consume=function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n},t._getBuffer=function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var s=r.data,a=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,a),0===(e-=a)){a===s.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=s.slice(a));break}++n}return this.length-=n,t},t[a]=function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t){},function(e,t,r){"use strict";(function(t){var r=new Set;e.exports.emitExperimentalWarning=t.emitWarning?function(e){if(!r.has(e)){var n=e+" is an experimental feature. This feature could change at any time";r.add(e),t.emitWarning(n,"ExperimentalWarning")}}:function(){}}).call(this,r(11))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(10))},function(e,t,r){var n=r(12),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a),s(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(58),a=Symbol("lastResolve"),o=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function d(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var r=e[p].read();null!==r&&(e[l]=null,e[a]=null,e[o]=null,t(d(r,!1)))}}function m(e){t.nextTick(f,e)}var y=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var e=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[u]?n(e[u]):r(d(void 0,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(d(void 0,!0)):t[h](r,n)}),n)}}(i,this));else{var s=this[p].read();if(null!==s)return Promise.resolve(d(s,!1));n=new Promise(this[h])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[p].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),n),y);e.exports=function(e){var t,r=Object.create(g,(i(t={},p,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[p].read();n?(r[l]=null,r[a]=null,r[o]=null,e(d(n,!1))):(r[a]=e,r[o]=t)},writable:!0}),t));return r[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[o];return null!==t&&(r[l]=null,r[a]=null,r[o]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[o]=null,n(d(void 0,!0))),r[c]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this,r(11))},function(e,t,r){"use strict";e.exports=i;var n=r(90);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(9)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(28).codes,s=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function u(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var p=t.map((function(e,i){var s=i<t.length-1;return function(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var o=!1;e.on("close",(function(){o=!0})),void 0===n&&(n=r(58)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);o=!0,s()}));var u=!1;return function(t){if(!o&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new a("pipe"))}}(e,s,i>0,(function(e){l||(l=e),e&&p.forEach(u),s||(p.forEach(u),h(l))}))}));return t.reduce(c)}},function(e,t,r){"use strict";var n=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,r){"use strict";(function(t){const n=r(1).Readable,i=r(91).ReadableStream;t.ReadableStream=t.ReadableStream||i;const s=r(235);class a extends n{constructor(e,t){super(t),this._webStream=e,this._reader=e.getReader(),this._reading=!1}_read(e){if(this._reading)return;this._reading=!0;const t=()=>{this._reader.read().then(r=>(this._doneReading&&(this._reading=!1,this._reader.releaseLock(),this._doneReading()),r.done?(this.push(null),this._reading=!1,void this._reader.releaseLock()):this.push(r.value)?t(e):(this._reading=!1,void this._reader.releaseLock())))};t()}_destroy(e,t){if(this._reading){new Promise(e=>{this._doneReading=e}).then(()=>this._handleDestroy(e,t))}else this._handleDestroy(e,t)}_handleDestroy(e,t){this._webStream.cancel(),super._destroy(e,t)}}e.exports={readable:{nodeToWeb:s,arrayToWeb:function(e){return new i({start(t){for(var r=0;r<e.length;r++)t.enqueue(e[r]);t.close()}})},webToNode:function(e){return new a(e)}}}}).call(this,r(10))},function(e,t){e.exports=function(t){if(!e.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var r=!1,n={};return new ReadableStream({start:function(e){for(var i in n.data=s,n.end=s,n.end=a,n.close=a,n.error=a,n)t.on(i,n[i]);function s(n){r||(e.enqueue(n),t.pause())}function a(i){if(!r){for(var s in r=!0,n)t.removeListener(s,n[s]);i?e.error(i):e.close()}}t.pause()},pull:function(){r||t.resume()},cancel:function(){for(var e in r=!0,n)t.removeListener(e,n[e]);t.push(null),t.pause(),t.destroy?t.destroy():t.close&&t.close()}})},e.exports.WEBSTREAM_SUPPORT="undefined"!=typeof ReadableStream},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case i.MIN:return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],1/0);return null!==n&&(isNaN(e[0])||e[0]>n)?[n,r]:e},[NaN,-1])[1];case i.MAX:return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],-1/0);return null!==n&&(isNaN(e[0])||e[0]<n)?[n,r]:e},[NaN,-1])[1]}throw new Error('No valid "type" value was given, must be either '+i.MIN+" or "+i.MAX+", but got: "+this.type)}getOrDefault(e,t){return void 0===e?t:e}async mediateWith(e,t){let r=t.map(({reply:e})=>e);const n=[];if(this.ignoreErrors){const e={};e[this.field]=null,r=r.map(t=>t.catch(t=>(n.push(t),e)))}const i=await Promise.all(r),s=this.indexPicker(i);if(s<0)throw new Error("All actors rejected their test in "+this.name+"\n"+n.map(e=>e.toString()).join("\n"));return t[s].actor}}i.MIN="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",i.MAX="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",t.MediatorNumber=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let t;try{t=this.publish(e)}catch(e){t=[]}await Promise.all(t.map(({reply:e})=>e));const r=await Promise.all(t.map(t=>t.actor.runObservable(e)));return this.combiner(r)}mediateWith(e,t){throw new Error("Method not supported.")}createCombiner(){return e=>{const t={};return t[this.field]=r(238).apply({},[{}].concat(e.map(e=>e[this.field]))),t}}}t.MediatorCombineUnion=i},function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",s="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function o(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var u=Object.prototype,c=u.hasOwnProperty,l=u.toString,h=u.propertyIsEnumerable,p=Math.max;function d(e,t){var r=v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&w(e)}(e)&&c.call(e,"callee")&&(!h.call(e,"callee")||l.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,s=!!i;for(var a in e)!t&&!c.call(e,a)||s&&("length"==a||_(a,i))||r.push(a);return r}function f(e,t,r,n){return void 0===e||b(e,u[r])&&!c.call(n,r)?t:e}function m(e,t,r){var n=e[t];c.call(e,t)&&b(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function y(e){if(!S(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t,r,n,i=(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||u,t===n),s=[];for(var a in e)("constructor"!=a||!i&&c.call(e,a))&&s.push(a);return s}function g(e,t){return t=p(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=p(r.length-t,0),s=Array(i);++n<i;)s[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=s,o(e,this,a)}}function _(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function b(e,t){return e===t||e!=e&&t!=t}var v=Array.isArray;function w(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=S(e)?l.call(e):"";return t==i||t==s}(e)}function S(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var E,T=(E=function(e,t,r,n){!function(e,t,r,n){r||(r={});for(var i=-1,s=t.length;++i<s;){var a=t[i],o=n?n(r[a],e[a],a,r,e):void 0;m(r,a,void 0===o?e[a]:o)}}(t,function(e){return w(e)?d(e,!0):y(e)}(t),e,n)},g((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,s=n>2?t[2]:void 0;for(i=E.length>3&&"function"==typeof i?(n--,i):void 0,s&&function(e,t,r){if(!S(r))return!1;var n=typeof t;return!!("number"==n?w(r)&&_(t,r.length):"string"==n&&t in r)&&b(r[t],e)}(t[0],t[1],s)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&E(e,a,r,i)}return e}))),x=g((function(e){return e.push(void 0,f),o(T,void 0,e)}));e.exports=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Mediator{constructor(e){super(e)}mediateWith(e,t){return new Promise((e,r)=>{const n=[];for(const i of t)i.reply.then(()=>{e(i.actor)}).catch(e=>{n.push(e),n.length===t.length&&r(new Error(this.name+" mediated over all rejecting actors:\n"+n.map(e=>e.toString()).join("\n")))})})}}t.MediatorRace=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(37);class s extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){e.input.on("error",e=>n.emit("error",e));const n=e.input.pipe(new i.StreamParser({baseIRI:e.baseIRI}));return{quads:n,triples:"text/turtle"===t||"application/n-triples"===t||"text/n3"===t}}}t.ActorRdfParseN3=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorRdfParse=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e);const t=this.priorityScale||0===this.priorityScale?this.priorityScale:1;this.mediaTypes=r(243)(this.mediaTypes,e=>e*t),this.mediaTypes=Object.freeze(this.mediaTypes)}async testHandle(e,t,r){if(!(t in this.mediaTypes))throw new Error("Unrecognized media type: "+t);return await this.testHandleChecked(e,r)}async testMediaType(e){return!0}async getMediaTypes(e){return this.mediaTypes}}t.ActorAbstractMediaTypedFixed=i},function(e,t,r){(function(e,r){var n=200,i="Expected a function",s="__lodash_hash_undefined__",a=1,o=2,u=1/0,c=9007199254740991,l="[object Arguments]",h="[object Array]",p="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Function]",y="[object GeneratorFunction]",g="[object Map]",_="[object Number]",b="[object Object]",v="[object RegExp]",w="[object Set]",S="[object String]",E="[object Symbol]",T="[object ArrayBuffer]",x="[object DataView]",O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,R=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,j=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[l]=C[h]=C[T]=C[p]=C[x]=C[d]=C[f]=C[m]=C[g]=C[_]=C[b]=C[v]=C[w]=C[S]=C["[object WeakMap]"]=!1;var k="object"==typeof e&&e&&e.Object===Object&&e,D="object"==typeof self&&self&&self.Object===Object&&self,M=k||D||Function("return this")(),F=t&&!t.nodeType&&t,L=F&&"object"==typeof r&&r&&!r.nodeType&&r,q=L&&L.exports===F&&k.process,B=function(){try{return q&&q.binding("util")}catch(e){}}(),U=B&&B.isTypedArray;function H(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var G,X,$,Y=Array.prototype,W=Function.prototype,J=Object.prototype,K=M["__core-js_shared__"],Z=(G=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",ee=W.toString,te=J.hasOwnProperty,re=J.toString,ne=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=M.Symbol,se=M.Uint8Array,ae=J.propertyIsEnumerable,oe=Y.splice,ue=(X=Object.keys,$=Object,function(e){return X($(e))}),ce=Ue(M,"DataView"),le=Ue(M,"Map"),he=Ue(M,"Promise"),pe=Ue(M,"Set"),de=Ue(M,"WeakMap"),fe=Ue(Object,"create"),me=Ye(ce),ye=Ye(le),ge=Ye(he),_e=Ye(pe),be=Ye(de),ve=ie?ie.prototype:void 0,we=ve?ve.valueOf:void 0,Se=ve?ve.toString:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){var t=-1,r=e?e.length:0;for(this.__data__=new xe;++t<r;)this.add(e[t])}function Ae(e){this.__data__=new Te(e)}function Re(e,t){var r=Ze(e)||Ke(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var s in e)!t&&!te.call(e,s)||i&&("length"==s||ze(s,n))||r.push(s);return r}function Pe(e,t){for(var r=e.length;r--;)if(Je(e[r][0],t))return r;return-1}Ee.prototype.clear=function(){this.__data__=fe?fe(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(fe){var r=t[e];return r===s?void 0:r}return te.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:te.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=fe&&void 0===t?s:t,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(e){var t=this.__data__,r=Pe(t,e);return!(r<0)&&(r==t.length-1?t.pop():oe.call(t,r,1),!0)},Te.prototype.get=function(e){var t=this.__data__,r=Pe(t,e);return r<0?void 0:t[r][1]},Te.prototype.has=function(e){return Pe(this.__data__,e)>-1},Te.prototype.set=function(e,t){var r=this.__data__,n=Pe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Ee,map:new(le||Te),string:new Ee}},xe.prototype.delete=function(e){return Be(this,e).delete(e)},xe.prototype.get=function(e){return Be(this,e).get(e)},xe.prototype.has=function(e){return Be(this,e).has(e)},xe.prototype.set=function(e,t){return Be(this,e).set(e,t),this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,s),this},Oe.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new Te},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Te){var i=r.__data__;if(!le||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new xe(i)}return r.set(e,t),this};var Ie,je=function(e,t,r){for(var n=-1,i=Object(e),s=r(e),a=s.length;a--;){var o=s[Ie?a:++n];if(!1===t(i[o],o,i))break}return e};function Ne(e,t){for(var r=0,n=(t=Ve(t,e)?[t]:Le(t)).length;null!=e&&r<n;)e=e[$e(t[r++])];return r&&r==n?e:void 0}function Ce(e,t){return null!=e&&t in Object(e)}function ke(e,t,r,n,i){return e===t||(null==e||null==t||!nt(e)&&!it(t)?e!=e&&t!=t:function(e,t,r,n,i,s){var u=Ze(e),c=Ze(t),m=h,y=h;u||(m=(m=He(e))==l?b:m);c||(y=(y=He(t))==l?b:y);var O=m==b&&!z(e),A=y==b&&!z(t),R=m==y;if(R&&!O)return s||(s=new Ae),u||at(e)?qe(e,t,r,n,i,s):function(e,t,r,n,i,s,u){switch(r){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!n(new se(e),new se(t)));case p:case d:case _:return Je(+e,+t);case f:return e.name==t.name&&e.message==t.message;case v:case S:return e==t+"";case g:var c=V;case w:var l=s&o;if(c||(c=Q),e.size!=t.size&&!l)return!1;var h=u.get(e);if(h)return h==t;s|=a,u.set(e,t);var m=qe(c(e),c(t),n,i,s,u);return u.delete(e),m;case E:if(we)return we.call(e)==we.call(t)}return!1}(e,t,m,r,n,i,s);if(!(i&o)){var P=O&&te.call(e,"__wrapped__"),I=A&&te.call(t,"__wrapped__");if(P||I){var j=P?e.value():e,N=I?t.value():t;return s||(s=new Ae),r(j,N,n,i,s)}}if(!R)return!1;return s||(s=new Ae),function(e,t,r,n,i,s){var a=i&o,u=ot(e),c=u.length,l=ot(t).length;if(c!=l&&!a)return!1;var h=c;for(;h--;){var p=u[h];if(!(a?p in t:te.call(t,p)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var f=!0;s.set(e,t),s.set(t,e);var m=a;for(;++h<c;){p=u[h];var y=e[p],g=t[p];if(n)var _=a?n(g,y,p,t,e,s):n(y,g,p,e,t,s);if(!(void 0===_?y===g||r(y,g,n,i,s):_)){f=!1;break}m||(m="constructor"==p)}if(f&&!m){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,r,n,i,s)}(e,t,ke,r,n,i))}function De(e){return!(!nt(e)||function(e){return!!Z&&Z in e}(e))&&(tt(e)||z(e)?ne:j).test(Ye(e))}function Me(e){return"function"==typeof e?e:null==e?ut:"object"==typeof e?Ze(e)?function(e,t){if(Ve(e)&&Qe(t))return Ge($e(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Ne(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=Ve(t,e)?[t]:Le(t);var n,i=-1,s=t.length;for(;++i<s;){var a=$e(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;return!!(s=e?e.length:0)&&rt(s)&&ze(a,s)&&(Ze(e)||Ke(e))}(e,t,Ce)}(r,e):ke(t,n,void 0,a|o)}}(e[0],e[1]):function(e){var t=function(e){var t=ot(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Qe(i)]}return t}(e);if(1==t.length&&t[0][2])return Ge(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,s=i,u=!n;if(null==e)return!s;for(e=Object(e);i--;){var c=r[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var l=(c=r[i])[0],h=e[l],p=c[1];if(u&&c[2]){if(void 0===h&&!(l in e))return!1}else{var d=new Ae;if(n)var f=n(h,p,l,e,t,d);if(!(void 0===f?ke(p,h,n,a|o,d):f))return!1}}return!0}(r,e,t)}}(e):Ve(t=e)?(r=$e(t),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return Ne(t,e)}}(t);var t,r}function Fe(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||J,t!==n)return ue(e);var t,r,n,i=[];for(var s in Object(e))te.call(e,s)&&"constructor"!=s&&i.push(s);return i}function Le(e){return Ze(e)?e:Xe(e)}function qe(e,t,r,n,i,s){var u=i&o,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var p=-1,d=!0,f=i&a?new Oe:void 0;for(s.set(e,t),s.set(t,e);++p<c;){var m=e[p],y=t[p];if(n)var g=u?n(y,m,p,t,e,s):n(m,y,p,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!H(t,(function(e,t){if(!f.has(t)&&(m===e||r(m,e,n,i,s)))return f.add(t)}))){d=!1;break}}else if(m!==y&&!r(m,y,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Be(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return De(r)?r:void 0}var He=function(e){return re.call(e)};function ze(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e,t){if(Ze(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!st(e))||(A.test(e)||!O.test(e)||null!=t&&e in Object(t))}function Qe(e){return e==e&&!nt(e)}function Ge(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(ce&&He(new ce(new ArrayBuffer(1)))!=x||le&&He(new le)!=g||he&&"[object Promise]"!=He(he.resolve())||pe&&He(new pe)!=w||de&&"[object WeakMap]"!=He(new de))&&(He=function(e){var t=re.call(e),r=t==b?e.constructor:void 0,n=r?Ye(r):void 0;if(n)switch(n){case me:return x;case ye:return g;case ge:return"[object Promise]";case _e:return w;case be:return"[object WeakMap]"}return t});var Xe=We((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(st(e))return Se?Se.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}(t);var r=[];return R.test(e)&&r.push(""),e.replace(P,(function(e,t,n,i){r.push(n?i.replace(I,"$1"):t||e)})),r}));function $e(e){if("string"==typeof e||st(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function Ye(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function We(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a),a};return r.cache=new(We.Cache||xe),r}function Je(e,t){return e===t||e!=e&&t!=t}function Ke(e){return function(e){return it(e)&&et(e)}(e)&&te.call(e,"callee")&&(!ae.call(e,"callee")||re.call(e)==l)}We.Cache=xe;var Ze=Array.isArray;function et(e){return null!=e&&rt(e.length)&&!tt(e)}function tt(e){var t=nt(e)?re.call(e):"";return t==m||t==y}function rt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function nt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function it(e){return!!e&&"object"==typeof e}function st(e){return"symbol"==typeof e||it(e)&&re.call(e)==E}var at=U?function(e){return function(t){return e(t)}}(U):function(e){return it(e)&&rt(e.length)&&!!C[re.call(e)]};function ot(e){return et(e)?Re(e):Fe(e)}function ut(e){return e}r.exports=function(e,t){var r={};return t=Me(t),function(e,t){e&&je(e,t,ot)}(e,(function(e,n,i){r[n]=t(e,n,i)})),r}}).call(this,r(10),r(49)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31);class i extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}t.ActorRdfParseFixedMediaTypes=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(246);class s extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){e.input.on("error",e=>n.emit("error",e));const n=e.input.pipe(new i.RdfXmlParser({baseIRI:e.baseIRI}));return{quads:n,triples:!0}}}t.ActorRdfParseRdfXml=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(247))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(47),i=r(95),s=r(1),a=r(248);class o extends s.Transform{constructor(e){super({objectMode:!0}),this.activeTagStack=[],this.nodeIds={},e&&(Object.assign(this,e),this.options=e),this.dataFactory||(this.dataFactory=r(2)),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.saxStream=i.createStream(this.strict,{xmlns:!1,position:this.trackPosition}),this.strict||(this.saxStream._parser.looseCase="toString"),this.attachSaxListeners()}static parseNamespace(e,t){const r={};let n=!1;for(const t in e.attributes)t.startsWith("xmlns")&&(5===t.length?(n=!0,r[""]=e.attributes[t]):":"===t.charAt(5)&&(n=!0,r[t.substr(6)]=e.attributes[t]));const i=t&&t.ns?t.ns:[o.DEFAULT_NS];return n?i.concat([r]):i}static expandPrefixedTerm(e,t,r){const n=e.indexOf(":");let i,s;n>=0?(i=e.substr(0,n),s=e.substr(n+1)):(i="",s=e);let o=null,u=null;for(let e=t.length-1;e>=0;e--){const r=t[e][i];if(r){o=r;break}u||(u=t[e][""])}if(!o){if(i&&"xmlns"!==i)throw new a.ParseError(r,`The prefix '${i}' in term '${e}' was not bound.`);o=u||""}return{prefix:i,local:s,uri:o}}static isValidIri(e){return o.IRI_REGEX.test(e)}import(e){const t=new s.PassThrough({objectMode:!0});e.on("error",e=>r.emit("error",e)),e.on("data",e=>t.write(e)),e.on("end",()=>t.emit("end"));const r=t.pipe(new o(this.options));return r}_transform(e,t,r){try{this.saxStream.write(e,t)}catch(e){return r(e)}r()}newParseError(e){return new a.ParseError(this,e)}valueToUri(e,t){return this.uriToNamedNode(n.resolve(e,t.baseIRI))}uriToNamedNode(e){if(!o.isValidIri(e))throw this.newParseError(`Invalid URI: ${e}`);return this.dataFactory.namedNode(e)}validateNcname(e){if(!o.NCNAME_MATCHER.test(e))throw this.newParseError(`Not a valid NCName: ${e}`)}attachSaxListeners(){this.saxStream.on("error",e=>this.emit("error",e)),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}onTag(e){const t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let r=u.RESOURCE;if(t&&(t.hadChildren=!0,r=t.childrenParseType),t&&t.childrenStringTags){const r=e.name;let n="";for(const t in e.attributes)n+=` ${t}="${e.attributes[t]}"`;const i=`<${`${r}${n}`}>`;t.childrenStringTags.push(i);const s={childrenStringTags:t.childrenStringTags};return s.childrenStringEmitClosingTag=`</${r}>`,void this.activeTagStack.push(s)}const n={};t?(n.language=t.language,n.baseIRI=t.baseIRI):n.baseIRI=this.baseIRI,this.activeTagStack.push(n),n.ns=o.parseNamespace(e,t),r===u.RESOURCE?this.onTagResource(e,n,t,!t):this.onTagProperty(e,n,t)}onTagResource(e,t,r,n){const i=o.expandPrefixedTerm(e.name,t.ns,this);t.childrenParseType=u.PROPERTY;let s=!0;if(i.uri===o.RDF){if(!n&&o.FORBIDDEN_NODE_ELEMENTS.indexOf(i.local)>=0)throw this.newParseError(`Illegal node element name: ${i.local}`);switch(i.local){case"RDF":t.childrenParseType=u.RESOURCE;case"Description":s=!1}}const a=[],c=[];let l=null,h=!1,p=!1,d=null;for(const n in e.attributes){const i=e.attributes[n],s=o.expandPrefixedTerm(n,t.ns,this);if(r&&s.uri===o.RDF)switch(s.local){case"about":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${l} where found.`);l=i;continue;case"ID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${l} where found.`);this.validateNcname(i),l="#"+i,h=!0;continue;case"nodeID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${l} where found.`);this.validateNcname(i),l=i,p=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":d=i;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(s.uri===o.XML){if("lang"===s.local){t.language=""===i?null:i.toLowerCase();continue}if("base"===s.local){t.baseIRI=i;continue}}"xml"!==s.prefix&&s.uri&&(a.push(this.uriToNamedNode(s.uri+s.local)),c.push(i))}if(null!==l&&(t.subject=p?this.dataFactory.blankNode(l):this.valueToUri(l,t),h&&this.claimNodeId(t.subject)),t.subject||(t.subject=this.dataFactory.blankNode()),s){const e=this.uriToNamedNode(i.uri+i.local);this.emitTriple(t.subject,this.dataFactory.namedNode(o.RDF+"type"),e,r?r.reifiedStatementId:null)}if(r){if(r.predicate)if(r.childrenCollectionSubject){const e=this.dataFactory.blankNode();this.emitTriple(r.childrenCollectionSubject,r.childrenCollectionPredicate,e,r.reifiedStatementId),this.emitTriple(e,this.dataFactory.namedNode(o.RDF+"first"),t.subject,t.reifiedStatementId),r.childrenCollectionSubject=e,r.childrenCollectionPredicate=this.dataFactory.namedNode(o.RDF+"rest")}else{this.emitTriple(r.subject,r.predicate,t.subject,r.reifiedStatementId);for(let e=0;e<r.predicateSubPredicates.length;e++)this.emitTriple(t.subject,r.predicateSubPredicates[e],r.predicateSubObjects[e],null);r.predicateSubPredicates=[],r.predicateSubObjects=[],r.predicateEmitted=!0}for(let e=0;e<a.length;e++){const n=this.dataFactory.literal(c[e],t.datatype||t.language);this.emitTriple(t.subject,a[e],n,r.reifiedStatementId)}d&&this.emitTriple(t.subject,this.dataFactory.namedNode(o.RDF+"type"),this.uriToNamedNode(d),null)}}onTagProperty(e,t,r){const n=o.expandPrefixedTerm(e.name,t.ns,this);if(t.childrenParseType=u.RESOURCE,t.subject=r.subject,n.uri===o.RDF&&"li"===n.local?(r.listItemCounter||(r.listItemCounter=1),t.predicate=this.uriToNamedNode(n.uri+"_"+r.listItemCounter++)):t.predicate=this.uriToNamedNode(n.uri+n.local),n.uri===o.RDF&&o.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(n.local)>=0)throw this.newParseError(`Illegal property element name: ${n.local}`);t.predicateSubPredicates=[],t.predicateSubObjects=[];let i=!1,s=!1,a=null,c=!0;const l=[],h=[];for(const r in e.attributes){const n=e.attributes[r],p=o.expandPrefixedTerm(r,t.ns,this);if(p.uri===o.RDF)switch(p.local){case"resource":if(a)throw this.newParseError(`Found both rdf:resource (${n}) and rdf:nodeID (${a}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${n})`);t.hadChildren=!0,a=n,c=!1;continue;case"datatype":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${n}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${n})`);t.datatype=this.valueToUri(n,t);continue;case"nodeID":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${n}).`);if(t.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${n}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${n})`);this.validateNcname(n),t.hadChildren=!0,a=n,c=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(s)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(t.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${t.datatype.value})`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${a})`);if("Resource"===n){i=!0,t.childrenParseType=u.PROPERTY;const e=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,e,t.reifiedStatementId),t.subject=e,t.predicate=null}else"Collection"===n?(i=!0,t.hadChildren=!0,t.childrenCollectionSubject=t.subject,t.childrenCollectionPredicate=t.predicate,c=!1):"Literal"===n&&(i=!0,t.childrenTagsToString=!0,t.childrenStringTags=[]);continue;case"ID":this.validateNcname(n),t.reifiedStatementId=this.valueToUri("#"+n,t),this.claimNodeId(t.reifiedStatementId);continue}else if(p.uri===o.XML&&"lang"===p.local){t.language=""===n?null:n.toLowerCase();continue}if("xml"!==p.prefix&&p.uri){if(i||t.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${n}`);t.hadChildren=!0,s=!0,l.push(this.uriToNamedNode(p.uri+p.local)),h.push(this.dataFactory.literal(n,t.datatype||t.language))}}if(null!==a){const e=t.subject;t.subject=c?this.dataFactory.blankNode(a):this.valueToUri(a,t),this.emitTriple(e,t.predicate,t.subject,t.reifiedStatementId);for(let e=0;e<l.length;e++)this.emitTriple(t.subject,l[e],h[e],null);t.predicateEmitted=!0}else c&&(t.predicateSubPredicates=l,t.predicateSubObjects=h,t.predicateEmitted=!1)}emitTriple(e,t,r,n){this.push(this.dataFactory.quad(e,t,r,this.defaultGraph)),n&&(this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(o.RDF+"type"),this.dataFactory.namedNode(o.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(o.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(o.RDF+"predicate"),t,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(o.RDF+"object"),r,this.defaultGraph)))}claimNodeId(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${e.value}'.`);this.nodeIds[e.value]=!0}}onText(e){const t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;t&&(t.childrenStringTags?t.childrenStringTags.push(e):t.predicate&&(t.text=e))}onCloseTag(){const e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(o.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(o.RDF+"nil"),e.reifiedStatementId);else if(e.predicate)if(e.hadChildren||e.childrenParseType===u.PROPERTY){if(!e.predicateEmitted){const t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId);for(let r=0;r<e.predicateSubPredicates.length;r++)this.emitTriple(t,e.predicateSubPredicates[r],e.predicateSubObjects[r],null)}}else this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId)}onDoctype(e){e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(e,t,r)=>(this.saxStream._parser.ENTITIES[t]=r,""))}}var u;o.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,o.MIME_TYPE="application/rdf+xml",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XML="http://www.w3.org/XML/1998/namespace",o.XMLNS="http://www.w3.org/2000/xmlns/",o.DEFAULT_NS={xml:o.XML},o.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],o.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],o.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,t.RdfXmlParser=o,function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"}(u=t.ParseType||(t.ParseType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t){const r=e.saxStream._parser;super(e.trackPosition?`Line ${r.line+1} column ${r.column+1}: ${t}`:t)}}t.ParseError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(97);class s extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){const n=e.headers?e.headers.get("content-language"):null;e.input.on("error",e=>s.emit("error",e));const s=e.input.pipe(new i.RdfaParser({baseIRI:e.baseIRI,profile:"xml",language:n}));return{quads:s,triples:!0}}}t.ActorRdfParseXmlRdfa=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(98),i=r(1),s=r(264),a=r(265),o=r(62),u=r(109);class c extends i.Transform{constructor(e){super({objectMode:!0}),this.activeTagStack=[],e=e||{},this.options=e,this.util=new u.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph();const t=e.contentType?u.Util.contentTypeToProfile(e.contentType):e.profile||"";this.features=e.features||o.RDFA_FEATURES[t],this.htmlParseListener=e.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser("xml"===t),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:e.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign({},a["@context"],this.features.xhtmlInitialContext?s["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:e.vocab})}import(e){const t=new i.PassThrough({objectMode:!0});e.on("error",e=>r.emit("error",e)),e.on("data",e=>t.write(e)),e.on("end",()=>t.emit("end"));const r=t.pipe(new c(this.options));return r}_transform(e,t,r){this.parser.write(e),r()}_flush(e){this.parser.end(),e()}onTagOpen(e,t){let r=this.activeTagStack.length-1;for(;r>0&&this.activeTagStack[r].skipElement;)r--;let n=this.activeTagStack[r];r!==this.activeTagStack.length-1&&(n=Object.assign({},n,{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const i={collectChildTags:n.collectChildTags,incompleteTriples:[],inlist:"inlist"in t,listMapping:[],listMappingLocal:n.listMapping,localBaseIRI:n.localBaseIRI,name:e,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(i),i.collectChildTags){for(const e of Object.keys(n.prefixesCustom).sort()){const r=n.prefixesCustom[e],i=""===e?"xmlns":"xmlns:"+e;i in t||(t[i]=r)}const r=Object.keys(t).map(e=>`${e}="${t[e]}"`).join(" ");if(i.text=[`<${e}${r?" "+r:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let s,a,o,c=!0,l=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in t&&"rel"in t&&(c=!1,t.rel.indexOf(":")<0&&delete t.rel),"property"in t&&"rev"in t&&(l=!1,t.rev.indexOf(":")<0&&delete t.rev)),this.features.copyRdfaPatterns){if(n.collectedPatternTag){const r={attributes:t,children:[],name:e,referenced:!1,rootPattern:!1,text:[]};return n.collectedPatternTag.children.push(r),void(i.collectedPatternTag=r)}if("rdfa:Pattern"===t.typeof)return void(i.collectedPatternTag={attributes:t,children:[],name:e,parentTag:n,referenced:!1,rootPattern:!0,text:[]});if("rdfa:copy"===t.property){const e=t.resource||t.href||t.src;return void(this.rdfaPatterns[e]?this.emitPatternCopy(n,this.rdfaPatterns[e],e):(this.pendingRdfaPatternCopies[e]||(this.pendingRdfaPatternCopies[e]=[]),this.pendingRdfaPatternCopies[e].push(n)))}}if(this.features.baseTag&&"base"===e&&t.href&&(this.util.baseIRI=this.util.getBaseIRI(t.href)),this.features.xmlBase&&t["xml:base"]&&(i.localBaseIRI=this.util.getBaseIRI(t["xml:base"])),this.features.timeTag&&"time"===e&&!t.datatype&&(i.interpretObjectAsTime=!0),"vocab"in t?t.vocab?(i.vocab=t.vocab,this.emitTriple(this.util.getBaseIriTerm(i),this.util.dataFactory.namedNode(u.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(i.vocab))):i.vocab=this.activeTagStack[0].vocab:i.vocab=n.vocab,i.prefixesCustom=u.Util.parsePrefixes(t,n.prefixesCustom,this.features.xmlnsPrefixMappings),i.prefixesAll=Object.keys(i.prefixesCustom).length>0?Object.assign({},n.prefixesAll,i.prefixesCustom):n.prefixesAll,this.features.roleAttribute&&t.role){const e=t.id?this.util.createIri("#"+t.id,i,!1,!1,!1):this.util.createBlankNode(),r=i.vocab;i.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const r of this.util.createVocabIris(t.role,i,!0,!1))this.emitTriple(e,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),r);i.vocab=r}"xml:lang"in t||this.features.langAttribute&&"lang"in t?i.language=t["xml:lang"]||t.lang:i.language=n.language;const h=2===this.activeTagStack.length;if("rel"in t||"rev"in t?("about"in t?(s=this.util.createIri(t.about,i,!1,!0,!0),i.explicitNewSubject=!!s,"typeof"in t&&(o=s)):h?s=!0:n.object&&(s=n.object),"resource"in t&&(a=this.util.createIri(t.resource,i,!1,!0,!0)),a||("href"in t||"src"in t?a=this.util.createIri(t.href||t.src,i,!1,!1,!0):!("typeof"in t)||"about"in t||this.isInheritSubjectInHeadBody(e)||(a=this.util.createBlankNode())),"typeof"in t&&!("about"in t)&&(o=this.isInheritSubjectInHeadBody(e)?s:a)):!("property"in t)||"content"in t||"datatype"in t?(("about"in t||"resource"in t)&&(s=this.util.createIri(t.about||t.resource,i,!1,!0,!0),i.explicitNewSubject=!!s),!s&&("href"in t||"src"in t)&&(s=this.util.createIri(t.href||t.src,i,!1,!1,!0),i.explicitNewSubject=!!s),s||(h?s=!0:this.isInheritSubjectInHeadBody(e)?s=n.object:"typeof"in t?(s=this.util.createBlankNode(),i.explicitNewSubject=!0):n.object&&(s=n.object,"property"in t||(i.skipElement=!0))),"typeof"in t&&(o=s)):("about"in t?(s=this.util.createIri(t.about,i,!1,!0,!0),i.explicitNewSubject=!!s):h?s=!0:n.object&&(s=n.object),"typeof"in t&&("about"in t&&(o=this.util.createIri(t.about,i,!1,!0,!0)),!o&&h&&(o=!0),!o&&"resource"in t&&(o=this.util.createIri(t.resource,i,!1,!0,!0)),!o&&("href"in t||"src"in t)&&(o=this.util.createIri(t.href||t.src,i,!1,!1,!0)),!o&&this.isInheritSubjectInHeadBody(e)&&(o=s),o||(o=this.util.createBlankNode()),a=o)),o)for(const e of this.util.createVocabIris(t.typeof,i,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(o,i),this.util.dataFactory.namedNode(u.Util.RDF+"type"),e);if(s&&(i.listMapping={}),a){if("rel"in t&&"inlist"in t)for(const e of this.util.createVocabIris(t.rel,i,c,!1))this.addListMapping(i,s,e,a);if(!("rel"in t&&"inlist"in t)){if("rel"in t)for(const e of this.util.createVocabIris(t.rel,i,c,!1))this.emitTriple(this.util.getResourceOrBaseIri(s,i),e,this.util.getResourceOrBaseIri(a,i));if("rev"in t)for(const e of this.util.createVocabIris(t.rev,i,l,!1))this.emitTriple(this.util.getResourceOrBaseIri(a,i),e,this.util.getResourceOrBaseIri(s,i))}}if(!a){if("rel"in t)if("inlist"in t)for(const e of this.util.createVocabIris(t.rel,i,c,!1))this.addListMapping(i,s,e,null),i.incompleteTriples.push({predicate:e,reverse:!1,list:!0});else for(const e of this.util.createVocabIris(t.rel,i,c,!1))i.incompleteTriples.push({predicate:e,reverse:!1});if("rev"in t)for(const e of this.util.createVocabIris(t.rev,i,l,!1))i.incompleteTriples.push({predicate:e,reverse:!0});i.incompleteTriples.length>0&&(a=this.util.createBlankNode())}if("property"in t){let e;if(i.predicates=this.util.createVocabIris(t.property,i,!0,!1),"datatype"in t?(i.datatype=this.util.createIri(t.datatype,i,!0,!0,!1),i.datatype&&(i.datatype.value===u.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&i.datatype.value===u.Util.RDF+"HTML")&&(i.collectChildTags=!0)):("rev"in t||"rel"in t||"content"in t||("resource"in t&&(e=this.util.createIri(t.resource,i,!1,!0,!0)),!e&&"href"in t&&(e=this.util.createIri(t.href,i,!1,!1,!0)),!e&&"src"in t&&(e=this.util.createIri(t.src,i,!1,!1,!0))),"typeof"in t&&!("about"in t)&&(e=o)),"content"in t){const e=this.util.createLiteral(t.content,i);if("inlist"in t)for(const t of i.predicates)this.addListMapping(i,s,t,e);else{const t=this.util.getResourceOrBaseIri(s,i);for(const r of i.predicates)this.emitTriple(t,r,e)}i.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in t){i.interpretObjectAsTime=!0;const e=this.util.createLiteral(t.datetime,i);if("inlist"in t)for(const t of i.predicates)this.addListMapping(i,s,t,e);else{const t=this.util.getResourceOrBaseIri(s,i);for(const r of i.predicates)this.emitTriple(t,r,e)}i.predicates=null}else if(e){const r=this.util.getResourceOrBaseIri(e,i);if("inlist"in t)for(const e of i.predicates)this.addListMapping(i,s,e,r);else{const e=this.util.getResourceOrBaseIri(s,i);for(const t of i.predicates)this.emitTriple(e,t,r)}i.predicates=null}}let p=!1;if(!i.skipElement&&s&&n.incompleteTriples.length>0){p=!0;const e=this.util.getResourceOrBaseIri(n.subject,i),t=this.util.getResourceOrBaseIri(s,i);for(const r of n.incompleteTriples)if(r.reverse)this.emitTriple(t,r.predicate,e);else if(r.list){let e=null;for(let t=this.activeTagStack.length-1;t>=0;t--)if(this.activeTagStack[t].inlist){e=this.activeTagStack[t];break}this.addListMapping(e,s,r.predicate,t)}else this.emitTriple(e,r.predicate,t)}!p&&n.incompleteTriples.length>0&&(i.incompleteTriples=i.incompleteTriples.concat(n.incompleteTriples)),i.subject=s||n.subject,i.object=a||s}onText(e){const t=this.activeTagStack[this.activeTagStack.length-1];this.features.copyRdfaPatterns&&t.collectedPatternTag?t.collectedPatternTag.text.push(e):(t.text||(t.text=[]),t.text.push(e))}onTagClose(){const e=this.activeTagStack[this.activeTagStack.length-1],t=this.activeTagStack[this.activeTagStack.length-2];if(!(e.collectChildTags&&t.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&e.collectedPatternTag&&e.collectedPatternTag.rootPattern){const t=e.collectedPatternTag.attributes.resource;if(delete e.collectedPatternTag.attributes.resource,delete e.collectedPatternTag.attributes.typeof,this.rdfaPatterns[t]=e.collectedPatternTag,this.pendingRdfaPatternCopies[t]){for(const r of this.pendingRdfaPatternCopies[t])this.emitPatternCopy(r,e.collectedPatternTag,t);delete this.pendingRdfaPatternCopies[t]}return void this.activeTagStack.pop()}if(e.predicates){const r=this.util.getResourceOrBaseIri(e.subject,e);let n=e.text||[];e.collectChildTags&&t.collectChildTags&&(n=n.slice(1));const i=this.util.createLiteral(n.join(""),e);if(e.inlist)for(const t of e.predicates)this.addListMapping(e,r,t,i);else for(const t of e.predicates)this.emitTriple(r,t,i);t.predicates||(e.text=null)}if(e.object&&Object.keys(e.listMapping).length>0){const t=this.util.getResourceOrBaseIri(e.object,e);for(const r in e.listMapping){const n=this.util.dataFactory.namedNode(r),i=e.listMapping[r];if(i.length>0){const r=i.map(()=>this.util.createBlankNode());for(let t=0;t<i.length;t++){const n=this.util.getResourceOrBaseIri(i[t],e);this.emitTriple(r[t],this.util.dataFactory.namedNode(u.Util.RDF+"first"),n),this.emitTriple(r[t],this.util.dataFactory.namedNode(u.Util.RDF+"rest"),t<i.length-1?r[t+1]:this.util.dataFactory.namedNode(u.Util.RDF+"nil"))}this.emitTriple(t,n,r[0])}else this.emitTriple(t,n,this.util.dataFactory.namedNode(u.Util.RDF+"nil"))}}}this.activeTagStack.pop(),e.collectChildTags&&e.text&&e.text.push(`</${e.name}>`),e.text&&t&&(t.text?t.text=t.text.concat(e.text):t.text=e.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const e in this.rdfaPatterns){const t=this.rdfaPatterns[e];t.referenced||(t.attributes.typeof="rdfa:Pattern",t.attributes.resource=e,this.emitPatternCopy(t.parentTag,t,e),t.referenced=!1,delete t.attributes.typeof,delete t.attributes.resource)}for(const e in this.pendingRdfaPatternCopies)for(const t of this.pendingRdfaPatternCopies[e])this.activeTagStack.push(t),this.onTagOpen("link",{property:"rdfa:copy",href:e}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(e){return this.features.inheritSubjectInHeadBody&&("head"===e||"body"===e)}addListMapping(e,t,r,n){if(e.explicitNewSubject){const i=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(t,e),r,i),this.emitTriple(i,this.util.dataFactory.namedNode(u.Util.RDF+"first"),this.util.getResourceOrBaseIri(n,e)),this.emitTriple(i,this.util.dataFactory.namedNode(u.Util.RDF+"rest"),this.util.dataFactory.namedNode(u.Util.RDF+"nil"))}else{let t=e.listMappingLocal[r.value];t||(e.listMappingLocal[r.value]=t=[]),n&&t.push(n)}}emitTriple(e,t,r){"NamedNode"===e.termType&&e.value.indexOf(":")<0||"NamedNode"===t.termType&&t.value.indexOf(":")<0||"NamedNode"===r.termType&&r.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(e,t,r,this.defaultGraph))}emitPatternCopy(e,t,r){if(this.activeTagStack.push(e),t.referenced=!0,t.constructedBlankNodes){let e=0;this.util.blankNodeFactory=()=>t.constructedBlankNodes[e++]}else t.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const e=this.util.dataFactory.blankNode();return t.constructedBlankNodes.push(e),e};this.emitPatternCopyAbsolute(t,!0,r),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(e,t,r){if(t||"rdfa:copy"!==e.attributes.property||e.attributes.href!==r){this.onTagOpen(e.name,e.attributes);for(const t of e.text)this.onText(t);for(const t of e.children)this.emitPatternCopyAbsolute(t,!1,r);this.onTagClose()}}initializeParser(e){return new n.Parser({onclosetag:()=>{try{this.onTagClose()}catch(e){this.emit("error",e)}this.htmlParseListener&&this.htmlParseListener.onTagClose()},onend:()=>{try{this.onEnd()}catch(e){this.emit("error",e)}this.htmlParseListener&&this.htmlParseListener.onEnd()},onopentag:(e,t)=>{try{this.onTagOpen(e,t)}catch(e){this.emit("error",e)}this.htmlParseListener&&this.htmlParseListener.onTagOpen(e,t)},ontext:e=>{try{this.onText(e)}catch(e){this.emit("error",e)}this.htmlParseListener&&this.htmlParseListener.onText(e)}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}}t.RdfaParser=c},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),a=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return s.get(this.type)||1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent||null},set:function(e){this.parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev||null},set:function(e){this.prev=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next||null},set:function(e){this.next=e},enumerable:!0,configurable:!0}),e}();t.Node=a;var o=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!0,configurable:!0}),t}(a);t.DataNode=o;var u=function(e){function t(t,r){var n=e.call(this,"directive",r)||this;return n.name=t,n}return i(t,e),t}(o);t.ProcessingInstruction=u;var c=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!0,configurable:!0}),t}(a);t.NodeWithChildren=c;var l=function(e){function t(t,r){var n=e.call(this,"script"===t?"script":"style"===t?"style":"tag",[])||this;return n.name=t,n.attribs=r,n.attribs=r,n}return i(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!0,configurable:!0}),t}(c);t.Element=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(43),s=n(r(254));t.getOuterHTML=s.default,t.getInnerHTML=function(e,r){return i.hasChildren(e)?e.children.map((function(e){return t.getOuterHTML(e,r)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):i.isTag(t)?"br"===t.name?"\n":e(t.children):i.isCDATA(t)?e(t.children):i.isText(t)?t.data:""}},function(e,t,r){var n=r(61),i=r(255),s=r(256);s.elementNames.__proto__=null,s.attributeNames.__proto__=null;var a={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},u=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var r="",i=0;i<e.length;i++){var s=e[i];"root"===s.type?r+=u(s.children,t):n.isTag(s)?r+=l(s,t):s.type===n.Directive?r+=h(s):s.type===n.Comment?r+=f(s):s.type===n.CDATA?r+=d(s):r+=p(s,t)}return r},c=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function l(e,t){"foreign"===t.xmlMode&&(e.name=s.elementNames[e.name]||e.name,e.parent&&c.indexOf(e.parent.name)>=0&&(t=Object.assign({},t,{xmlMode:!1}))),!t.xmlMode&&["svg","math"].indexOf(e.name)>=0&&(t=Object.assign({},t,{xmlMode:"foreign"}));var r="<"+e.name,n=function(e,t){if(e){var r,n="";for(var a in e)r=e[a],n&&(n+=" "),"foreign"===t.xmlMode&&(a=s.attributeNames[a]||a),n+=a,(null!==r&&""!==r||t.xmlMode)&&(n+='="'+(t.decodeEntities?i.encodeXML(r):r.replace(/\"/g,"&quot;"))+'"');return n}}(e.attribs,t);return n&&(r+=" "+n),!t.xmlMode||e.children&&0!==e.children.length?(r+=">",e.children&&(r+=u(e.children,t)),o[e.name]&&!t.xmlMode||(r+="</"+e.name+">")):r+="/>",r}function h(e){return"<"+e.data+">"}function p(e,t){var r=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in a||(r=i.encodeXML(r)),r}function d(e){return"<![CDATA["+e.children[0].data+"]]>"}function f(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(106),i=r(107);t.decode=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?i.encodeXML:i.encodeHTML)(e)};var s=r(107);t.encodeXML=s.encodeXML,t.encodeHTML=s.encodeHTML,t.escape=s.escape,t.encodeHTML4=s.encodeHTML,t.encodeHTML5=s.encodeHTML;var a=r(106);t.decodeXML=a.decodeXML,t.decodeHTML=a.decodeHTML,t.decodeHTMLStrict=a.decodeHTMLStrict,t.decodeHTML4=a.decodeHTML,t.decodeHTML5=a.decodeHTML,t.decodeHTML4Strict=a.decodeHTMLStrict,t.decodeHTML5Strict=a.decodeHTMLStrict,t.decodeXMLStrict=a.decodeXML},function(e){e.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},function(e,t,r){"use strict";function n(e){return e.children||null}function i(e){return e.parent||null}function s(e,t){return e.attribs&&e.attribs[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getChildren=n,t.getParent=i,t.getSiblings=function(e){var t=i(e);return t?n(t):[e]},t.getAttributeValue=s,t.hasAttrib=function(e,t){return!!s(e,t)},t.getName=function(e){return e.name}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var i=t.parent=e.parent;if(i){var s=i.children;s[s.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var r=e.children[e.children.length-2];r.next=t,t.prev=r,t.next=null}},t.append=function(e,t){var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var i=r.children;i.splice(i.lastIndexOf(n),0,t)}}else r&&r.children.push(t)},t.prepend=function(e,t){var r=e.parent;if(r){var n=r.children;n.splice(n.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(108),i=r(43);function s(e){return"text"===e.type}var a={tag_name:function(e){return"function"==typeof e?function(t){return i.isTag(t)&&e(t.name)}:"*"===e?i.isTag:function(t){return i.isTag(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return s(t)&&e(t.data)}:function(t){return s(t)&&t.data===e}}};function o(e,t){return"function"==typeof t?function(r){return i.isTag(r)&&t(r.attribs[e])}:function(r){return i.isTag(r)&&r.attribs[e]===t}}function u(e,t){return function(r){return e(r)||t(r)}}function c(e){var t=Object.keys(e).map((function(t){var r=e[t];return t in a?a[t](r):o(t,r)}));return 0===t.length?null:t.reduce(u)}t.testElement=function(e,t){var r=c(e);return!r||r(t)},t.getElements=function(e,t,r,i){void 0===i&&(i=1/0);var s=c(e);return s?n.filter(s,t,r,i):[]},t.getElementById=function(e,t,r){return void 0===r&&(r=!0),Array.isArray(t)||(t=[t]),n.findOne(o("id",e),t,r)},t.getElementsByTagName=function(e,t,r,i){return void 0===i&&(i=1/0),n.filter(a.tag_name(e),t,r,i)},t.getElementsByTagType=function(e,t,r,i){return void 0===r&&(r=!0),void 0===i&&(i=1/0),n.filter(a.tag_type(e),t,r,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);function i(e,t){var r=[],i=[];if(e===t)return 0;for(var s=n.hasChildren(e)?e:e.parent;s;)r.unshift(s),s=s.parent;for(s=n.hasChildren(t)?t:t.parent;s;)i.unshift(s),s=s.parent;for(var a=0;r[a]===i[a];)a++;if(0===a)return 1;var o=r[a-1],u=o.children,c=r[a],l=i[a];return u.indexOf(c)>u.indexOf(l)?o===t?20:4:o===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0)e.splice(t,1);else for(var n=r.parent;n;n=n.parent)if(e.indexOf(n)>-1){e.splice(t,1);break}}return e},t.compareDocumentPosition=i,t.uniqueSort=function(e){return(e=e.filter((function(e,t,r){return!r.includes(e,t+1)}))).sort((function(e,t){var r=i(e,t);return 2&r?-1:4&r?1:0})),e}},function(e,t){},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,(function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];r.events.push([e].concat(n)),r._cbs[e]&&(t=r._cbs)[e].apply(t,n)}))||this;return r._cbs=t,r.events=[],r}return i(t,e),t.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},t.prototype.restart=function(){var e;this._cbs.onreset&&this._cbs.onreset();for(var t=0;t<this.events.length;t++){var r=this.events[t],n=r[0],i=r.slice(1);this._cbs[n]&&(e=this._cbs)[n].apply(e,i)}},t}(s(r(263)).default);t.CollectingHandler=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._func=e}return e.prototype.onattribute=function(e,t){this._func("onattribute",e,t)},e.prototype.oncdatastart=function(){this._func("oncdatastart")},e.prototype.oncdataend=function(){this._func("oncdataend")},e.prototype.ontext=function(e){this._func("ontext",e)},e.prototype.onprocessinginstruction=function(e,t){this._func("onprocessinginstruction",e,t)},e.prototype.oncomment=function(e){this._func("oncomment",e)},e.prototype.oncommentend=function(){this._func("oncommentend")},e.prototype.onclosetag=function(e){this._func("onclosetag",e)},e.prototype.onopentag=function(e,t){this._func("onopentag",e,t)},e.prototype.onopentagname=function(e){this._func("onopentagname",e)},e.prototype.onerror=function(e){this._func("onerror",e)},e.prototype.onend=function(){this._func("onend")},e.prototype.onparserinit=function(e){this._func("onparserinit",e)},e.prototype.onreset=function(){this._func("onreset")},e}();t.default=n},function(e){e.exports=JSON.parse('{"@context":{"alternate":"http://www.w3.org/1999/xhtml/vocab#alternate","appendix":"http://www.w3.org/1999/xhtml/vocab#appendix","cite":"http://www.w3.org/1999/xhtml/vocab#cite","bookmark":"http://www.w3.org/1999/xhtml/vocab#bookmark","contents":"http://www.w3.org/1999/xhtml/vocab#contents","chapter":"http://www.w3.org/1999/xhtml/vocab#chapter","copyright":"http://www.w3.org/1999/xhtml/vocab#copyright","first":"http://www.w3.org/1999/xhtml/vocab#first","glossary":"http://www.w3.org/1999/xhtml/vocab#glossary","help":"http://www.w3.org/1999/xhtml/vocab#help","icon":"http://www.w3.org/1999/xhtml/vocab#icon","index":"http://www.w3.org/1999/xhtml/vocab#index","last":"http://www.w3.org/1999/xhtml/vocab#last","license":"http://www.w3.org/1999/xhtml/vocab#license","meta":"http://www.w3.org/1999/xhtml/vocab#meta","next":"http://www.w3.org/1999/xhtml/vocab#next","prev":"http://www.w3.org/1999/xhtml/vocab#prev","previous":"http://www.w3.org/1999/xhtml/vocab#previous","section":"http://www.w3.org/1999/xhtml/vocab#section","start":"http://www.w3.org/1999/xhtml/vocab#start","stylesheet":"http://www.w3.org/1999/xhtml/vocab#stylesheet","subsection":"http://www.w3.org/1999/xhtml/vocab#subsection","top":"http://www.w3.org/1999/xhtml/vocab#top","up":"http://www.w3.org/1999/xhtml/vocab#up","p3pv1":"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}')},function(e){e.exports=JSON.parse('{"@context":{"as":"https://www.w3.org/ns/activitystreams#","cat":"http://www.w3.org/ns/dcat#","cc":"http://creativecommons.org/ns#","cnt":"http://www.w3.org/2008/content#","csvw":"http://www.w3.org/ns/csvw#","ctag":"http://commontag.org/ns#","dc":"http://purl.org/dc/terms/","dc11":"http://purl.org/dc/elements/1.1/","dcat":"http://www.w3.org/ns/dcat#","dcterms":"http://purl.org/dc/terms/","dqv":"http://www.w3.org/ns/dqv#","duv":"https://www.w3.org/TR/vocab-duv#","earl":"http://www.w3.org/ns/earl#","foaf":"http://xmlns.com/foaf/0.1/","gldp":"http://www.w3.org/ns/people#","gr":"http://purl.org/goodrelations/v1#","grddl":"http://www.w3.org/2003/g/data-view#","ht":"http://www.w3.org/2006/http#","ical":"http://www.w3.org/2002/12/cal/icaltzd#","ldp":"http://www.w3.org/ns/ldp#","ma":"http://www.w3.org/ns/ma-ont#","oa":"http://www.w3.org/ns/oa#","odrl":"http://www.w3.org/ns/odrl/2/","og":"http://ogp.me/ns#","org":"http://www.w3.org/ns/org#","owl":"http://www.w3.org/2002/07/owl#","prov":"http://www.w3.org/ns/prov#","ptr":"http://www.w3.org/2009/pointers#","qb":"http://purl.org/linked-data/cube#","rev":"http://purl.org/stuff/rev#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfa":"http://www.w3.org/ns/rdfa#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","rif":"http://www.w3.org/2007/rif#","rr":"http://www.w3.org/ns/r2rml#","schema":"http://schema.org/","sd":"http://www.w3.org/ns/sparql-service-description#","sioc":"http://rdfs.org/sioc/ns#","skos":"http://www.w3.org/2004/02/skos/core#","skosxl":"http://www.w3.org/2008/05/skos-xl#","ssn":"http://www.w3.org/ns/ssn/","sosa":"http://www.w3.org/ns/sosa/","time":"http://www.w3.org/2006/time#","v":"http://rdf.data-vocabulary.org/#","vcard":"http://www.w3.org/2006/vcard/ns#","void":"http://rdfs.org/ns/void#","wdr":"http://www.w3.org/2007/05/powder#","wdrs":"http://www.w3.org/2007/05/powder-s#","xhv":"http://www.w3.org/1999/xhtml/vocab#","xml":"http://www.w3.org/XML/1998/namespace","xsd":"http://www.w3.org/2001/XMLSchema#","describedby":"http://www.w3.org/2007/05/powder-s#describedby","license":"http://www.w3.org/1999/xhtml/vocab#license","role":"http://www.w3.org/1999/xhtml/vocab#role"}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(63),i=r(269);class s extends n.ActorRdfJoin{constructor(e){super(e,2)}static hash(e,t){return t.map(t=>e.get(t)).join("")}async getOutput(e){const t=n.ActorRdfJoin.overlappingVariables(e);return{type:"bindings",bindingsStream:new i.SymmetricHashJoin(e.entries[0].bindingsStream,e.entries[1].bindingsStream,e=>s.hash(e,t),n.ActorRdfJoin.join),variables:n.ActorRdfJoin.joinVariables(e)}}async getIterations(e){return(await e.entries[0].metadata()).totalItems+(await e.entries[1].metadata()).totalItems}}t.ActorRdfJoinSymmetricHash=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(4);class s extends n.Actor{constructor(e,t,r){super(e),this.limitEntries=t,this.limitEntriesMin=r}static overlappingVariables(e){return r(268).apply(this,e.entries.map(e=>e.variables))}static joinVariables(e){return r(111).apply(this,e.entries.map(e=>e.variables))}static join(...e){try{return e.reduce((e,t)=>e.mergeWith((e,t)=>{if(!e.equals(t))throw new Error;return e},t))}catch(e){return null}}static async iteratorsHaveMetadata(e,t){return Promise.all(e.entries.map(async e=>{if(!(await e.metadata()).hasOwnProperty(t))throw new Error})).then(()=>!0).catch(()=>!1)}async test(e){if(e.entries.length<=1)return{iterations:0};if(this.limitEntries&&(this.limitEntriesMin?e.entries.length<this.limitEntries:e.entries.length>this.limitEntries))throw new Error(this.name+" requires "+this.limitEntries+" sources at "+(this.limitEntriesMin?"least":"most")+". The input contained "+e.entries.length+".");for(const t of e.entries)if("bindings"!==t.type)throw new Error("Invalid type of a join entry: Expected 'bindings' but got '"+t.type+"'");return await s.iteratorsHaveMetadata(e,"totalItems")?{iterations:await this.getIterations(e)}:{iterations:1/0}}async run(e){if(0===e.entries.length)return{bindingsStream:new i.EmptyIterator,metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:[]};if(1===e.entries.length)return e.entries[0];const t=this.getOutput(e);if(await s.iteratorsHaveMetadata(e,"totalItems")){const r=()=>Promise.all(e.entries.map(e=>e.metadata())).then(e=>e.reduce((e,t)=>e*t.totalItems,1)),n=await t;if(n.metadata){const e=n.metadata;n.metadata=()=>e().then(async e=>(e.hasOwnProperty("totalItems")||(e.totalItems=await r()),e))}else n.metadata=()=>r().then(e=>({totalItems:e}));return n}return t}}t.ActorRdfJoin=s},function(e,t,r){(function(t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Function]",s="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,o="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=o||u||Function("return this")();function l(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function h(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,s=r+(n?1:-1);for(;n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}(e,f,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function p(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function d(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function f(e){return e!=e}function m(e){return function(t){return e(t)}}function y(e,t){return e.has(t)}var g,_=Array.prototype,b=Function.prototype,v=Object.prototype,w=c["__core-js_shared__"],S=(g=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",E=b.toString,T=v.hasOwnProperty,x=v.toString,O=RegExp("^"+E.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=_.splice,R=Math.max,P=Math.min,I=B(c,"Map"),j=B(Object,"create");function N(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e){var t=-1,r=e?e.length:0;for(this.__data__=new k;++t<r;)this.add(e[t])}function M(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function F(e){return!(!Q(e)||(t=e,S&&S in t))&&(V(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?O:a).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function L(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!V(e)}(e)}(e)?e:[]}function q(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function B(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return F(r)?r:void 0}N.prototype.clear=function(){this.__data__=j?j(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(j){var n=t[e];return n===r?void 0:n}return T.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:T.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?r:t,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(e){var t=this.__data__,r=M(t,e);return!(r<0)&&(r==t.length-1?t.pop():A.call(t,r,1),!0)},C.prototype.get=function(e){var t=this.__data__,r=M(t,e);return r<0?void 0:t[r][1]},C.prototype.has=function(e){return M(this.__data__,e)>-1},C.prototype.set=function(e,t){var r=this.__data__,n=M(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},k.prototype.clear=function(){this.__data__={hash:new N,map:new(I||C),string:new N}},k.prototype.delete=function(e){return q(this,e).delete(e)},k.prototype.get=function(e){return q(this,e).get(e)},k.prototype.has=function(e){return q(this,e).has(e)},k.prototype.set=function(e,t){return q(this,e).set(e,t),this},D.prototype.add=D.prototype.push=function(e){return this.__data__.set(e,r),this},D.prototype.has=function(e){return this.__data__.has(e)};var U,H,z=(U=function(e){var t=d(e,L);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?p:h,i=e[0].length,s=e.length,a=s,o=Array(s),u=1/0,c=[];a--;){var l=e[a];a&&t&&(l=d(l,m(t))),u=P(l.length,u),o[a]=!r&&(t||i>=120&&l.length>=120)?new D(a&&l):void 0}l=e[0];var f=-1,g=o[0];e:for(;++f<i&&c.length<u;){var _=l[f],b=t?t(_):_;if(_=r||0!==_?_:0,!(g?y(g,b):n(c,b,r))){for(a=s;--a;){var v=o[a];if(!(v?y(v,b):n(e[a],b,r)))continue e}g&&g.push(b),c.push(_)}}return c}(t):[]},H=R(void 0===H?U.length-1:H,0),function(){for(var e=arguments,t=-1,r=R(e.length-H,0),n=Array(r);++t<r;)n[t]=e[H+t];t=-1;for(var i=Array(H+1);++t<H;)i[t]=e[t];return i[H]=n,l(U,this,i)});function V(e){var t=Q(e)?x.call(e):"";return t==i||t==s}function Q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=z}).call(this,r(10))},function(e,t,r){const n=r(270),i=r(271),s=r(272),a=r(273),o=r(274);e.exports={DynamicNestedLoopJoin:n,HashJoin:i,NestedLoopJoin:s,SymmetricHashJoin:a,MergeStream:o}},function(e,t,r){let n=r(4),i=n.MultiTransformIterator,s=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r){super(e),this.funRight=t,this.funJoin=r}_createTransformer(e){return new s(this.funRight(e),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},function(e,t,r){let n=r(4);e.exports=class extends n{constructor(e,t,r,n){super(t),this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.readable=!1,this.left.on("end",function(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}.bind(this)),this.left.on("data",function(e){let t=this.funHash(e);this.leftMap.has(t)||this.leftMap.set(t,[]);this.leftMap.get(t).push(e)}.bind(this))}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.funJoin(e,this.match);if(null!==t)return t}if(this.hasResults()||this._end(),this.match=this.right.read(),null===this.match)return this.readable=!1,null;let e=this.funHash(this.match);return this.matches=this.leftMap.get(e)||[],this.matchIdx=0,this.read()}}},function(e,t,r){let n=r(4),i=n.MultiTransformIterator,s=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r){super(e),this.right=t,this.funJoin=r,this.on("end",()=>this.right.close())}close(){super.close(),this.right.close()}_createTransformer(e){return new s(this.right.clone(),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},function(e,t,r){let n=r(4);e.exports=class extends n{constructor(e,t,r,n){super(),this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.usedLeft?this.funJoin(this.match,e):this.funJoin(e,this.match);if(null!==t)return t}this.hasResults()||this._end();let e=null;for(let t=0;t<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,null===e);++t);if(null===e)return this.readable=!1,null;let t=this.funHash(e),r=this.usedLeft?this.leftMap:this.rightMap;return r.has(t)||r.set(t,[]),r.get(t).push(e),this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(t)||[],this.matchIdx=0,this.read()}}},function(e,t,r){let n=r(4);e.exports=class extends n{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let t of e)t.on("readable",()=>this.emit("readable")),t.on("end",()=>this._removeStream(t));0===this.streams.length&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let t=this.streams.indexOf(e);t<0||(this.streams.splice(t,1),this.idx>=this.streams.length&&--this.idx,0===this.streams.length&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let e=this.streams[this.idx].read();if(null!==e)return e}return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20);class i extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e)}async test(e){if(!this.hasContextSingleSourceOfType("rdfjsSource",e.context))throw new Error(this.name+" requires a single source with an rdfjsSource to be present in the context.");const t=this.getContextSource(e.context);if("string"==typeof t||!t.value.match)throw new Error(this.name+" received an invalid rdfjsSource.");return!0}getMetadata(e,t,r,n){return()=>Promise.resolve({})}async getSource(e){return this.getContextSource(e).value}}t.ActorRdfResolveQuadPatternRdfJsSource=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(113);class s extends i.ActorRdfResolveQuadPattern{constructor(e){super(e)}static variableToNull(e){return e&&"Variable"===e.termType?null:e}static cachifyMetadata(e){let t=null;return()=>t||(t=e())}async test(e){return!0}async run(e){const t=await this.getSource(e.context,e.pattern);return await this.getOutput(t,e.pattern,e.context)}getMetadata(e,t,r,n){return()=>new Promise((e,t)=>{n.on("error",t),n.on("end",()=>e({})),n.on("metadata",t=>{e(t)})})}async getOutput(e,t,r){let i;return i=e.matchLazy?e.matchLazy(s.variableToNull(t.subject),s.variableToNull(t.predicate),s.variableToNull(t.object),s.variableToNull(t.graph)):n.AsyncIterator.wrap(e.match(s.variableToNull(t.subject),s.variableToNull(t.predicate),s.variableToNull(t.object),s.variableToNull(t.graph))),{data:i,metadata:s.cachifyMetadata(this.getMetadata(e,t,r,i))}}}t.ActorRdfResolveQuadPatternSource=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(98),s=r(1);class a extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){const n=new s.Readable({objectMode:!0});return n._read=async()=>{n._read=null;let t=1;const s=e=>n.emit("error",e),a=()=>{0==--t&&n.push(null)},o={baseIRI:e.baseIRI,context:r,emit:e=>n.emit("data",e),end:a,error:s,headers:e.headers};Promise.all(this.busRdfParseHtml.publish(o)).then(async r=>{t+=r.length;const n=[];for(const e of r){const{htmlParseListener:t}=await e.actor.run(o);n.push(t)}const u=new i.Parser({onclosetag:()=>{for(const e of n)e.onTagClose()},onend:()=>{for(const e of n)e.onEnd();a()},onopentag:(e,t)=>{for(const r of n)r.onTagOpen(e,t)},ontext:e=>{for(const t of n)t.onText(e)}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1});e.input.on("error",s),e.input.pipe(u)})},{quads:n}}}t.ActorRdfParseHtml=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(116),i=r(97);class s extends n.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const t=e.headers?e.headers.get("content-type"):null,r=e.headers?e.headers.get("content-language"):null,n=t&&t.indexOf("xml")>=0?"xhtml":"html",s=new i.RdfaParser({baseIRI:e.baseIRI,profile:n,language:r});s.on("error",e.error),s.on("data",e.emit);const a=s.onEnd;return s.onEnd=()=>{a.call(s),e.end()},{htmlParseListener:s}}}t.ActorRdfParseHtmlRdfa=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfParseHtml=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64),i=r(118),s=r(282);class a extends n.ActorRdfResolveHypermedia{constructor(e){super(e,"file")}async testMetadata(e){return{filterFactor:0}}async run(e){return this.logInfo(e.context,`Identified as file source: ${e.url}`),{source:new s.RdfSourceMetadata(await i.storeStream(e.quads))}}}t.ActorRdfResolveHypermediaNone=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e,t){super(e),this.sourceType=t}async test(e){if(e.forceSourceType&&this.sourceType!==e.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${e.forceSourceType}.`);return this.testMetadata(e)}}t.ActorRdfResolveHypermedia=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.RdfSourceMetadata=class{constructor(e){this.source=e}match(e,t,r,i){const s=new n.Readable({objectMode:!0});return s._read=()=>{s._read=()=>{};const n=this.source.match(e,t,r,i);let a=0;n.on("error",e=>{s.emit("error",e)}),n.on("data",e=>{a++,s.push(e)}),n.on("end",()=>{s.emit("metadata",{totalItems:a}),s.push(null)})},s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(65);class i extends n.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return new Promise((t,r)=>{e.metadata.on("error",r),e.metadata.on("data",r=>{"http://www.w3.org/ns/sparql-service-description#endpoint"===r.predicate.value&&r.subject.value===e.url&&t({metadata:{sparqlService:r.object.value}})}),e.metadata.on("end",()=>{t({metadata:{}})})})}}t.ActorRdfMetadataExtractSparqlService=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(285),i=r(118),s=r(120),a=r(125);class o extends s.ActorRdfMetadataExtract{constructor(e,t,r){super(r),this.graphqlClient=new n.Client({context:e,queryEngine:new a.GraphQlQueryEngine(this.queryEngine)}),this.sparqlOperation=this.graphqlClient.graphQlToSparql({query:t})}async queryData(e,t){const r=await i.storeStream(e),{data:n}=await this.graphqlClient.query(Object.assign(Object.assign({},await this.sparqlOperation),{queryEngineOptions:{source:{type:"rdfjsSource",value:r},initialBindings:t}}));return n}}t.ActorRdfMetadataExtractQuery=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(286))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(66),s=r(15),a=r(121);t.Client=class{constructor(e){this.context=(e.contextParser||new s.ContextParser).parse(e.context,{baseIri:e.baseIri}),this.queryEngine=e.queryEngine,this.graphqlToSparqlConverter=e.graphqlToSparqlConverter||new i.Converter({dataFactory:e.dataFactory,requireContext:!0}),this.sparqlJsonToTreeConverter=e.sparqlJsonToTreeConverter||new a.Converter({dataFactory:e.dataFactory,materializeRdfJsTerms:!0})}query(e){return n(this,void 0,void 0,(function*(){const{sparqlAlgebra:t,singularizeVariables:r}="query"in e?yield this.graphQlToSparql({query:e.query,variables:e.variables}):e,n=yield this.queryEngine.query(t,e.queryEngineOptions);return{data:this.sparqlJsonToTreeConverter.sparqlJsonResultsToTree(n,{singularizeVariables:r})}}))}graphQlToSparql({query:e,variables:t}){return n(this,void 0,void 0,(function*(){const t={},r={singularizeVariables:t,variablesDict:{}};return{sparqlAlgebra:yield this.graphqlToSparqlConverter.graphqlToSparqlAlgebra(e,yield this.context,r),singularizeVariables:t}}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(288),i=r(67);class s{constructor(e){(e=e||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new i.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,t,r,n,i,a){const o=t[0],u=n?n+a+o:o,c=i.singularizeVariables[u];if(1===t.length)c?e[o]||(e[o]=r):(e[o]||(e[o]=[]),e[o].push(r));else{let n;c?(e[o]||(e[o]={}),n=e[o]):(e[o]||(e[o]=[{}]),n=e[o][0]),s.addValueToTree(n,t.slice(1),r,u,i,a)}}static mergeTrees(e,t){if(typeof e!=typeof t)throw new Error(`Two incompatible tree nodes were found: ${typeof e} and ${typeof t}`);if(Array.isArray(e)!==Array.isArray(t))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(e)} and Array?${Array.isArray(t)}`);if("object"==typeof e&&"object"==typeof t){if(e.termType&&t.termType)return e.equals(t)?{valid:!0,result:e}:{valid:!1,result:e};if(Array.isArray(e)&&Array.isArray(t)){if(e.length>0){const r=[];let n=!1;for(let i=0;i<e.length;i++){const a=s.mergeTrees(e[i],t[0]);a.valid?(n=!0,r.push(a.result)):r.push(e[i])}if(n)return{valid:!0,result:r}}return{valid:!0,result:e.concat(t)}}{const r={};for(const e in t)r[e]=t[e];for(const t in e)if(r[t]){const n=s.mergeTrees(e[t],r[t]);if(!n.valid)return{valid:!1,result:e};r[t]=n.result}else r[t]=e[t];return{valid:!0,result:r}}}throw new Error(`Unmergable tree types: ${typeof e} and ${typeof t}`)}static materializeTree(e){if(e.termType)return n.getTermRaw(e);if(Array.isArray(e))return e.map(s.materializeTree);{const t={};for(const r in e)t[r]=s.materializeTree(e[r]);return t}}sparqlJsonResultsToTree(e,t){return this.bindingsToTree(this.parser.parseJsonResults(e),t||{singularizeVariables:{}})}bindingsToTree(e,t){const r=t&&t.singularizeVariables[""];let n=r?{}:[];for(const i of e){const e=r?{}:[{}];for(const n in i){const a=n.split(this.delimiter),o=i[n];s.addValueToTree(r?e:e[0],a,o,"",t,this.delimiter)}n=s.mergeTrees(n,e).result}return this.materializeRdfJsTerms&&(n=s.materializeTree(n)),n}}t.Converter=s},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const i=r(2),s=r(122),a=r(44);n(r(122)),n(r(44));const o=new a.Translator;function u(e,t){return o.fromRdf(e,t)}o.registerHandler(new s.TypeHandlerString,s.TypeHandlerString.TYPES.map(i.namedNode),["string"]),o.registerHandler(new s.TypeHandlerBoolean,[s.TypeHandlerBoolean.TYPE].map(i.namedNode),["boolean"]),o.registerHandler(new s.TypeHandlerNumberDouble,s.TypeHandlerNumberDouble.TYPES.map(i.namedNode),["number"]),o.registerHandler(new s.TypeHandlerNumberInteger,s.TypeHandlerNumberInteger.TYPES.map(i.namedNode),["number"]),t.fromRdf=u,t.toRdf=function(e,t){return o.toRdf(e,t||i)},t.getTermRaw=function(e,t){return"Literal"===e.termType?u(e,t):e.value},t.getSupportedRdfDatatypes=function(){return o.getSupportedRdfDatatypes()},t.getSupportedJavaScriptPrimitives=function(){return o.getSupportedJavaScriptPrimitives()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44);class i{fromRdf(e,t){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return t&&n.Translator.incorrectRdfDataType(e),!1}toRdf(e,t){return t.literal(e?"true":"false",t.namedNode(i.TYPE))}}i.TYPE="http://www.w3.org/2001/XMLSchema#boolean",t.TypeHandlerBoolean=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44);class i{fromRdf(e,t){const r=parseFloat(e.value);return t&&isNaN(r)&&n.Translator.incorrectRdfDataType(e),r}toRdf(e,t){return isNaN(e)?t.literal("NaN",t.namedNode(i.TYPES[0])):isFinite(e)?e%1==0?null:t.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.namedNode(i.TYPES[0])):t.literal(e>0?"INF":"-INF",t.namedNode(i.TYPES[0]))}}i.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],t.TypeHandlerNumberDouble=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44);class i{fromRdf(e,t){const r=parseInt(e.value,10);return t&&(isNaN(r)||e.value.indexOf(".")>=0)&&n.Translator.incorrectRdfDataType(e),r}toRdf(e,t){return t.literal(String(e),e<=i.MAX_INT&&e>=i.MIN_INT?t.namedNode(i.TYPES[0]):t.namedNode(i.TYPES[1]))}}i.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],i.MAX_INT=2147483647,i.MIN_INT=-2147483648,t.TypeHandlerNumberInteger=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{fromRdf(e){return e.value}toRdf(e,t){return t.literal(e)}}n.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"],t.TypeHandlerString=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(123);t.SparqlJsonParser=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||n,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseJsonResults(e){return e.results.bindings.map(e=>this.parseJsonBindings(e))}parseJsonResultsStream(e){e.on("error",e=>n.emit("error",e));const t=[];e.pipe(r(68).parse("head.vars.*")).on("data",e=>t.push(this.dataFactory.variable(e))).on("end",()=>n.emit("variables",t));const n=e.pipe(r(68).parse("results.bindings.*")).pipe(new i.SparqlJsonBindingsTransformer(this));return n}parseJsonBindings(e){const t={};for(const r in e){const n=e[r];let i=null;switch(n.type){case"bnode":i=this.dataFactory.blankNode(n.value);break;case"literal":i=n["xml:lang"]?this.dataFactory.literal(n.value,n["xml:lang"]):n.datatype?this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype)):this.dataFactory.literal(n.value);break;case"typed-literal":i=this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype));break;default:i=this.dataFactory.namedNode(n.value)}t[this.prefixVariableQuestionMark?"?"+r:r]=i}return t}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((t,n)=>{e.on("error",n),e.pipe(r(68).parse("boolean")).on("data",t).on("end",()=>n(new Error("No valid ASK response was found.")))})}}},function(e,t,r){(function(t){var n=r(1);function i(e,r,i){e=e||function(e){this.queue(e)},r=r||function(){this.queue(null)};var s=!1,a=!1,o=[],u=!1,c=new n;function l(){for(;o.length&&!c.paused;){var e=o.shift();if(null===e)return c.emit("end");c.emit("data",e)}}function h(){c.writable=!1,r.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(i&&!1===i.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return u?c:(null===e&&(u=!0),o.push(e),l(),c)},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&t.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!s)return s=!0,arguments.length&&c.write(e),h(),c},c.destroy=function(){if(!a)return a=!0,s=!0,o.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}e.exports=i,i.through=i}).call(this,r(11))},function(e,t,r){(function(t){!function(){var r;r="object"==typeof window&&window?window:t,e.exports?e.exports=r.Promise?r.Promise:a:r.Promise||(r.Promise=a);var n=r.setImmediate||function(e){setTimeout(e,1)};function i(e,t){return function(){e.apply(t,arguments)}}var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],p(e,i(u,this),i(c,this))}function o(e){var t=this;null!==this._state?n((function(){var r=t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void e.reject(t)}e.resolve(n)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function u(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void p(i(t,e),i(u,this),i(c,this))}this._state=!0,this._value=e,l.call(this)}catch(e){c.call(this,e)}}function c(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function h(e,t,r,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n}function p(e,t,r){var n=!1;try{e((function(e){n||(n=!0,t(e))}),(function(e){n||(n=!0,r(e))}))}catch(e){if(n)return;n=!0,r(e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=this;return new a((function(n,i){o.call(r,new h(e,t,n,i))}))},a.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new a((function(t,r){if(0===e.length)return t([]);var n=e.length;function i(s,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var o=a.then;if("function"==typeof o)return void o.call(a,(function(e){i(s,e)}),r)}e[s]=a,0==--n&&t(e)}catch(e){r(e)}}for(var s=0;s<e.length;s++)i(s,e[s])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,r){r(e)}))},a.race=function(e){return new a((function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)}))}}()}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(65),i=r(297);class s extends n.ActorRdfMetadataExtract{constructor(e){super(e),this.parsedUriTemplateCache={}}async test(e){return!0}getLinks(e,t){return s.LINK_TYPES.reduce((r,n)=>{const i=t[n]||t[n+"Page"],s=i&&i[e];return r[n]=s&&s.length>0?s[0]:null,r},{})}parseUriTemplateCached(e){const t=this.parsedUriTemplateCache[e];return t||(this.parsedUriTemplateCache[e]=i.parse(e))}getSearchForms(e){const t=e.search,r=[];if(t)for(const n in t)for(const i of t[n]){const t=(e.template||{})[i]||[];if(1!==t.length)throw new Error("Expected 1 hydra:template for "+i);const s=t[0],a=this.parseUriTemplateCached(s),o=((e.mapping||{})[i]||[]).reduce((t,r)=>{const n=((e.variable||{})[r]||[])[0],i=((e.property||{})[r]||[])[0];if(!n)throw new Error("Expected a hydra:variable for "+r);if(!i)throw new Error("Expected a hydra:property for "+r);return t[i]=n,t},{}),u=e=>a.expand(Object.keys(e).reduce((t,r)=>(t[o[r]]=e[r],t),{}));r.push({dataset:n,template:s,mappings:o,getUri:u})}return{values:r}}getHydraProperties(e){return new Promise((t,r)=>{e.on("error",r);const n={};e.on("data",e=>{if(e.predicate.value.startsWith(s.HYDRA)){const t=e.predicate.value.substr(s.HYDRA.length),r=n[t]||(n[t]={});(r[e.subject.value]||(r[e.subject.value]=[])).push(e.object.value)}}),e.on("end",()=>t(n))})}async run(e){const t={},n=await this.getHydraProperties(e.metadata);return r(40)(t,this.getLinks(e.url,n)),t.searchForms=this.getSearchForms(n),{metadata:t}}}t.ActorRdfMetadataExtractHydraControls=s,s.HYDRA="http://www.w3.org/ns/hydra/core#",s.LINK_TYPES=["first","next","previous","last"]},function(e,t,r){!function(t){"use strict";var r=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),n=function(){function e(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;var r,n;for(n in Object.freeze(t),t)t.hasOwnProperty(n)&&"object"==typeof(r=t[n])&&e(r);return t}(t):t}return{isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){var r,n="",i=!0;for(r=0;r<e.length;r+=1)i?i=!1:n+=t,n+=e[r];return n},map:function(e,t){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r},filter:function(e,t){for(var r=[],n=0;n<e.length;n+=1)t(e[n])&&r.push(e[n]);return r},deepFreeze:e}}(),i=function(){function e(e){return e>="0"&&e<="9"}return{isAlpha:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||t>="a"&&t<="f"||t>="A"&&t<="F"}}}(),s=function(){var e={encode:function(e){return unescape(encodeURIComponent(e))},numBytes:function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},isValidFollowingCharCode:function(e){return 128<=e&&e<=191}};function t(e,t){return"%"===e.charAt(t)&&i.isHexDigit(e.charAt(t+1))&&i.isHexDigit(e.charAt(t+2))}function r(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(t){var r,n,i="",s=e.encode(t);for(n=0;n<s.length;n+=1)i+="%"+((r=s.charCodeAt(n))<16?"0":"")+r.toString(16).toUpperCase();return i},isPctEncoded:function(n){if(!t(n,0))return!1;var i=r(n,1),s=e.numBytes(i);if(0===s)return!1;for(var a=1;a<s;a+=1)if(!t(n,3*a)||!e.isValidFollowingCharCode(r(n,3*a+1)))return!1;return!0},pctCharAt:function(n,i){var s=n.charAt(i);if(!t(n,i))return s;var a=r(n,i+1),o=e.numBytes(a);if(0===o)return s;for(var u=1;u<o;u+=1)if(!t(n,i+3*u)||!e.isValidFollowingCharCode(r(n,i+3*u+1)))return s;return n.substr(i,3*o)}}}(),a={isVarchar:function(e){return i.isAlpha(e)||i.isDigit(e)||"_"===e||s.isPctEncoded(e)},isUnreserved:function(e){return i.isAlpha(e)||i.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},isReserved:function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}},o=function(){function e(e,t){var r,n="",i="";for("number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),r=0;r<e.length;r+=i.length)i=e.charAt(r),n+=a.isUnreserved(i)||t&&a.isReserved(i)?i:s.encodeCharacter(i);return n}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(e){var t,r="",n="";for(t=0;t<e.length;t+=n.length)(n=s.pctCharAt(e,t)).length>1?r+=n:r+=a.isReserved(n)||a.isUnreserved(n)?n:s.encodeCharacter(n);return r},encodeLiteralCharacter:function(e,t){var r=s.pctCharAt(e,t);return r.length>1?r:a.isReserved(r)||a.isUnreserved(r)?r:s.encodeCharacter(r)}}}(),u=function(){var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?o.encodePassReserved:o.encode,toString:function(){return this.symbol}}}return t(""),t("+"),t("#"),t("."),t("/"),t(";"),t("?"),t("&"),{valueOf:function(t){return e[t]?e[t]:"=,!@|".indexOf(t)>=0?null:e[""]}}}();function c(e){var t;if(null==e)return!1;if(n.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(t in e)if(e.hasOwnProperty(t)&&c(e[t]))return!0;return!1}var l=function(){function e(e){this.literal=o.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),h=function(){function e(e){var t,n,o=[],c=null,l=null,h=null,d="";function f(){var t=e.substring(l,n);if(0===t.length)throw new r({expressionText:e,message:"a varname must be specified",position:n});c={varname:t,exploded:!1,maxLength:null},l=null}function m(){if(h===n)throw new r({expressionText:e,message:"after a ':' you have to specify the length",position:n});c.maxLength=parseInt(e.substring(h,n),10),h=null}for(t=function(t){var i=u.valueOf(t);if(null===i)throw new r({expressionText:e,message:"illegal use of reserved operator",position:n,operator:t});return i}(e.charAt(0)),n=t.symbol.length,l=n;n<e.length;n+=d.length){if(d=s.pctCharAt(e,n),null!==l){if("."===d){if(l===n)throw new r({expressionText:e,message:"a varname MUST NOT start with a dot",position:n});continue}if(a.isVarchar(d))continue;f()}if(null!==h){if(n===h&&"0"===d)throw new r({expressionText:e,message:"A :prefix must not start with digit 0",position:n});if(i.isDigit(d)){if(n-h>=4)throw new r({expressionText:e,message:"A :prefix must have max 4 digits",position:n});continue}m()}if(":"!==d)if("*"!==d){if(","!==d)throw new r({expressionText:e,message:"illegal character",character:d,position:n});o.push(c),c=null,l=n+1}else{if(null===c)throw new r({expressionText:e,message:"exploded without varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"exploded twice",position:n});if(c.maxLength)throw new r({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:n});c.exploded=!0}else{if(null!==c.maxLength)throw new r({expressionText:e,message:"only one :maxLength is allowed per varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:n});h=n+1}}return null!==l&&f(),null!==h&&m(),o.push(c),new p(e,t,o)}return function(t){var n,i,s=[],a=null,o=0;for(n=0;n<t.length;n+=1)if(i=t.charAt(n),null===o){if(null===a)throw new Error("reached unreachable code");if("{"===i)throw new r({templateText:t,message:"brace already opened",position:n});if("}"===i){if(a+1===n)throw new r({templateText:t,message:"empty braces",position:a});try{s.push(e(t.substring(a+1,n)))}catch(e){if(e.prototype===r.prototype)throw new r({templateText:t,message:e.options.message,position:a+e.options.position,details:e.options});throw e}a=null,o=n+1}}else{if("}"===i)throw new r({templateText:t,message:"unopened brace closed",position:n});"{"===i&&(o<n&&s.push(new l(t.substring(o,n))),o=null,a=n)}if(null!==a)throw new r({templateText:t,message:"unclosed brace",position:a});return o<t.length&&s.push(new l(t.substr(o))),new d(t,s)}}(),p=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function t(e){if(!c(e))return!0;if(n.isString(e))return""===e;if(n.isNumber(e)||n.isBoolean(e))return!1;if(n.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push({name:t,value:e[t]});return r}function i(e,t,r){this.templateText=e,this.operator=t,this.varspecs=r}function s(e,t,r){var n="";if(r=r.toString(),t.named){if(n+=o.encodeLiteral(e.varname),""===r)return n+=t.ifEmpty;n+="="}return null!==e.maxLength&&(r=r.substr(0,e.maxLength)),n+=t.encode(r)}function a(e){return c(e.value)}function u(e,i,s){var u=[],l="";if(i.named){if(l+=o.encodeLiteral(e.varname),t(s))return l+=i.ifEmpty;l+="="}return n.isArray(s)?(u=s,u=n.filter(u,c),u=n.map(u,i.encode),l+=n.join(u,",")):(u=r(s),u=n.filter(u,a),u=n.map(u,(function(e){return i.encode(e.name)+","+i.encode(e.value)})),l+=n.join(u,",")),l}function l(e,i,s){var u=[];return n.isArray(s)?(u=s,u=n.filter(u,c),u=n.map(u,(function(r){var n=o.encodeLiteral(e.varname);return t(r)?n+=i.ifEmpty:n+="="+i.encode(r),n}))):(u=r(s),u=n.filter(u,a),u=n.map(u,(function(e){var r=o.encodeLiteral(e.name);return t(e.value)?r+=i.ifEmpty:r+="="+i.encode(e.value),r}))),n.join(u,i.separator)}function h(e,t){var i=[],s="";return n.isArray(t)?(i=t,i=n.filter(i,c),i=n.map(i,e.encode),s+=n.join(i,e.separator)):(i=r(t),i=n.filter(i,(function(e){return c(e.value)})),i=n.map(i,(function(t){return e.encode(t.name)+"="+e.encode(t.value)})),s+=n.join(i,e.separator)),s}return i.prototype.toString=function(){return this.templateText},i.prototype.expand=function(r){var i,a,o,p=[],d=this.operator;for(i=0;i<this.varspecs.length;i+=1)if(null!=(o=r[(a=this.varspecs[i]).varname]))if(a.exploded&&!0,n.isArray(o),"string"==typeof o||"number"==typeof o||"boolean"==typeof o)p.push(s(a,d,o));else{if(a.maxLength&&c(o))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(o));a.exploded?c(o)&&(d.named?p.push(l(a,d,o)):p.push(h(d,o))):!d.named&&t(o)||p.push(u(a,d,o))}return 0===p.length?"":d.first+n.join(p,d.separator)},i}(),d=function(){function e(e,t){this.templateText=e,this.expressions=t,n.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,r="";for(t=0;t<this.expressions.length;t+=1)r+=this.expressions[t].expand(e);return r},e.parse=h,e.UriTemplateError=r,e}();!function(t){e.exports=t}(d)}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(65);class i extends n.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}run(e){return new Promise((t,r)=>{e.metadata.on("error",r),e.metadata.on("data",e=>{this.predicates.indexOf(e.predicate.value)>=0&&t({metadata:{totalItems:parseInt(e.object.value,10)}})}),e.metadata.on("end",()=>{t({metadata:{totalItems:1/0}})})})}}t.ActorRdfMetadataExtractHydraCount=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Mediator{constructor(e){super(e)}async mediate(e){let t;try{t=this.publish(e)}catch(t){return e}await Promise.all(t.map(({reply:e})=>e));let r=e;for(const e of t.map(e=>e.actor))r=await e.runObservable(r);return r}mediateWith(e,t){throw new Error("Method not supported.")}}t.MediatorCombinePipeline=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(301),i=r(8);class s extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return!0}async run(e){return{operation:i.Util.mapOperation(e.operation,{join:(e,t)=>"bgp"===e.left.type&&"bgp"===e.right.type?{recurse:!1,result:t.createBgp(e.left.patterns.concat(e.right.patterns))}:{recurse:!1,result:e}})}}}t.ActorOptimizeQueryOperationJoinBgp=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(302))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorOptimizeQueryOperation=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(51),i=r(52),s=r(69),a=r(309),o=r(5),u=r(32).Parser,c=n.types;let l,h=new Set,p=0,d=!1;function f(e,t,r){if(h=new Set,p=0,d=t,"query"!==e.type)throw new Error("Translate only works on complete query objects.");let n={type:"group",patterns:e.where||[]},i=new Set(Object.keys(function e(t){let r={};if(m(t))r[o.termToString(t)]=!0,h.add(t);else if(n=t,null!==n&&"object"==typeof n)if("bind"===t.type)e(t.expression),Object.assign(r,e(t.variable));else if("SELECT"===t.queryType){let n=e(t.where);for(let i of t.variables)s.default.isWildcard(i)?Object.assign(r,n):i.variable?Object.assign(r,e(i.variable)):Object.assign(r,e(i));if(t.group)for(let n of t.group)Object.assign(r,e(n))}else for(let n of Object.keys(t))Object.assign(r,e(t[n]));var n;return r}(n)).map(l.createTerm.bind(l))),a=y(n);return a=function(e,t,r){let n=[],i={};if(e.variables=O(e.variables,i),e.having=O(e.having,i),e.order=O(e.order,i),e.group||Object.keys(i).length>0){let r=Object.keys(i).map(e=>(function(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: "+JSON.stringify(e));let r=g(e);return r.variable=t,r})(i[e],l.createTerm(e))),n=[];if(e.group)for(let r of e.group)if(r.expression.type){const e=r.variable?r.variable:v();t=l.createExtend(t,e,g(r.expression)),n.push(e)}else n.push(r.expression);t=l.createGroup(t,n,r)}if(e.having)for(let r of e.having)t=l.createFilter(t,g(r));e.values&&(t=l.createJoin(t,x(e)));let a=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some(e=>e&&s.default.isWildcard(e)))a=r;else for(let t of e.variables)m(t)||!t.variable?a.add(t):t.variable&&(a.add(t.variable),n.push(t));for(let e of n)t=l.createExtend(t,e.variable,g(e.expression));e.order&&(t=l.createOrderBy(t,e.order.map(e=>{let t=g(e.expression);return e.descending&&(t=l.createOperatorExpression(c.DESC,[t])),t})));"SELECT"===e.queryType&&(t=l.createProject(t,Array.from(a)));e.distinct&&(t=l.createDistinct(t));e.reduced&&(t=l.createReduced(t));(e.offset||e.limit)&&(t=l.createSlice(t,e.offset,e.limit));"CONSTRUCT"===e.queryType?t=l.createConstruct(t,e.template.map(w)):"ASK"===e.queryType?t=l.createAsk(t):"DESCRIBE"===e.queryType&&(t=l.createDescribe(t,Array.from(a)));e.from&&(t=l.createFrom(t,e.from.default,e.from.named));return t}(e,a,i),r&&(a=function e(t,r){const n={},i=Array.from(r).reduce((e,t)=>(e[t.value]=!0,e),{});return s.default.mapOperation(t,{path:(e,t)=>({result:t.createPath(a(e.subject),e.predicate,a(e.object),a(e.graph)),recurse:!1}),pattern:(e,t)=>({result:t.createPattern(a(e.subject),a(e.predicate),a(e.object),a(e.graph)),recurse:!1}),construct:t=>({result:l.createConstruct(e(t.input,r),t.template),recurse:!1})});function a(e){if("BlankNode"===e.termType){let t=n[e.value];return t||(t=s.default.createUniqueVariable(e.value,i,l.dataFactory),i[t.value]=!0,n[e.value]=t),t}return e}}(a,i)),a}function m(e){return e&&"Variable"===e.termType}function y(e){let t,r=[],n=[];if(e.patterns)for(let t of e.patterns)("filter"===t.type?r:n).push(t);if("bgp"===e.type)return function(e){let t=[],r=[];for(let n of e.triples)if("path"===n.predicate.type){let e=_(n);for(let n of e)n.type===c.PATH?(t.length>0&&r.push(l.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(w(n));t.length>0&&r.push(l.createBgp(t));return 1===r.length?r[0]:r.reduce((e,t)=>l.createJoin(e,t))}(e);if("union"===e.type)t=n.map(e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),y(e))).reduce((e,t)=>l.createUnion(e,t));else{if("graph"===e.type)return function(e){e.type="group";let t=y(e);t=d?function e(t,r){if(t.type===c.BGP)t.patterns=t.patterns.map(e=>(e.graph=r,e));else if(t.type===c.PATH)t.graph=r;else for(let n of Object.keys(t))Array.isArray(t[n])?t[n]=t[n].map(t=>e(t,r)):S.indexOf(t[n].type)>=0&&(t[n]=e(t[n],r));return t}(t,e.name):l.createGraph(t,e.name);return t}(e);if("group"===e.type)t=n.reduce(E,l.createBgp([]));else if("values"===e.type)t=x(e);else{if("query"!==e.type)throw new Error("Unexpected type: "+e.type);t=f(e,d,!1)}}if(r.length>0){let e=r.map(e=>g(e.expression));e.length>0&&(t=l.createFilter(t,e.reduce((e,t)=>l.createOperatorExpression("&&",[e,t]))))}return t}function g(e){if(s.default.isTerm(e))return l.createTermExpression(e);if(s.default.isWildcard(e))return l.createWildcardExpression();if(e.aggregation)return l.createAggregateExpression(e.aggregation,g(e.expression),e.distinct,e.separator);if(e.function)return l.createNamedExpression(e.function,e.args.map(g));if(e.operator)return"exists"===e.operator||"notexists"===e.operator?l.createExistenceExpression("notexists"===e.operator,y(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),l.createOperatorExpression(e.operator,e.args.map(g)));throw new Error("Unknown expression: "+JSON.stringify(e))}function _(e){return function e(t,r,n){if(r.type===c.LINK)return[l.createPattern(t,r.iri,n)];if(r.type===c.INV)return e(n,r.path,t);if(r.type===c.SEQ){let i=v(),s=e(t,r.left,i),a=e(i,r.right,n);return s.concat(a)}return[l.createPath(t,r,n)]}(e.subject,b(e.predicate),e.object)}function b(e){if(s.default.isTerm(e)&&"NamedNode"===e.termType)return l.createLink(e);if("^"===e.pathType)return l.createInv(b(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="path"===e.items[0].type&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(s.default.isTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: "+JSON.stringify(e));n.push(e.items[0])}let i=l.createNps(r),a=l.createInv(l.createNps(n));return 0===n.length?i:0===r.length?a:l.createAlt(i,a)}if("/"===e.pathType)return e.items.map(b).reduce((e,t)=>l.createSeq(e,t));if("|"===e.pathType)return e.items.map(b).reduce((e,t)=>l.createAlt(e,t));if("*"===e.pathType)return l.createZeroOrMorePath(b(e.items[0]));if("+"===e.pathType)return l.createOneOrMorePath(b(e.items[0]));if("?"===e.pathType)return l.createZeroOrOnePath(b(e.items[0]));throw new Error("Unable to translate path expression "+JSON.stringify(e))}function v(){let e="?var"+p++;return h.has(e)?v():(h.add(e),l.createTerm(e))}function w(e){return l.createPattern(e.subject,e.predicate,e.object)}t.default=function(e,t){if(t=t||{},l=new i.default(t.dataFactory),"string"==typeof e){let r=new u(t);r._resetBlanks(),e=r.parse(e)}return f(e,t.quads,t.blankToVariable)};let S=Object.keys(c).map(e=>c[e]);function E(e,t){if("optional"===t.type){let r=y({type:"group",patterns:t.patterns});if(r.type===c.FILTER){let t=r;e=l.createLeftJoin(e,t.input,t.expression)}else e=l.createLeftJoin(e,r)}else if("minus"===t.type){let r=y({type:"group",patterns:t.patterns});e=l.createMinus(e,r)}else if("bind"===t.type)e=l.createExtend(e,t.variable,g(t.expression));else if("service"===t.type){t.type="group",e=T(e,l.createService(y(t),t.name,t.silent))}else{e=T(e,y(t))}return e}function T(e,t){return e.type===c.BGP&&t.type===c.BGP?e=l.createBgp([].concat(e.patterns,t.patterns)):e.type===c.BGP&&0===e.patterns.length?e=t:t.type===c.BGP&&0===t.patterns.length||(e=l.createJoin(e,t)),e}function x(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(l.createTerm.bind(l)),r=e.values.map(e=>{let t=Object.keys(e);t=t.filter(t=>void 0!==e[t]);let r={};for(let n of t)r[n]=e[n];return r});return l.createValues(t,r)}function O(e,t){if(!e)return e;if("aggregate"===e.type){let r,n=!1;for(let i of Object.keys(t))if(a(t[i],e)){r=l.createTerm(i),n=!0;break}return n||(r=v(),t[o.termToString(r)]=e),r}return e.expression?e.expression=O(e.expression,t):e.args?O(e.args,t):Array.isArray(e)&&e.forEach((r,n)=>e[n]=O(r,t)),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);function i(e){if(!e)return null;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function s(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function a(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function o(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function u(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':const r=o(e),n=t.namedNode(a(e));return t.literal(s(e),r||n);default:return t.namedNode(e)}}t.termToString=i,t.getLiteralValue=s,t.getLiteralType=a,t.getLiteralLanguage=o,t.stringToTerm=u,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(u(e.subject,t),u(e.predicate,t),u(e.object,t),u(e.graph,t))}},function(e,t,r){(function(e,n){var i=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,15,28,40,49,54,105,115,118,120,121,130,131,136,301,302,303,304,305],n=[2,200],i=[105,115,118,120,121,130,131,136,301,302,303,304,305],s=[1,20],a=[1,29],o=[6,89],u=[44,45,57],c=[44,57],l=[1,58],h=[1,60],p=[1,56],d=[1,59],f=[1,65],m=[1,66],y=[26,34,35],g=[13,16,291],_=[117,139,299,306],b=[13,16,117,139,291],v=[1,88],w=[1,92],S=[1,94],E=[117,139,299,300,306],T=[13,16,117,139,291,300],x=[1,100],O=[2,242],A=[1,99],R=[13,16,34,35,86,92,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291],P=[6,44,45,57,67,74,77,85,87,89],I=[6,13,16,34,44,45,57,67,74,77,85,87,89,291],j=[6,13,16,26,34,35,37,38,44,45,47,57,67,74,77,85,86,87,89,92,98,114,117,130,131,133,138,165,166,168,171,172,189,193,214,219,221,222,224,225,229,233,237,252,257,274,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307,309,310,312,313,314,315,316,317,318,319],N=[34,35,44,45,57],C=[13,16,34,35,86,254,255,256,258,260,261,263,264,267,269,278,279,280,281,282,283,284,285,286,287,288,289,290,291,319,320,321,322,323,324],k=[2,415],D=[1,121],M=[1,122],F=[1,123],L=[6,13,16,34,35,45,47,86,89,92,117,165,166,168,171,172,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307],q=[2,301],B=[1,140],U=[1,138],H=[6,189],z=[2,318],V=[2,306],Q=[44,133],G=[6,47,77,85,87,89],X=[2,246],$=[1,154],Y=[1,156],W=[6,47,74,77,85,87,89],J=[2,244],K=[1,162],Z=[1,170],ee=[1,176],te=[1,179],re=[1,175],ne=[1,177],ie=[1,173],se=[1,174],ae=[1,180],oe=[1,181],ue=[1,184],ce=[1,185],le=[1,186],he=[1,187],pe=[1,188],de=[1,189],fe=[1,190],me=[1,191],ye=[1,192],ge=[1,193],_e=[1,194],be=[6,67,74,77,85,87,89],ve=[37,38,189,229,257],we=[37,38,189,229,233,257],Se=[37,38,189,229,233,237,252,257,274,285,286,287,288,289,290,313,314,315,316,317,318,319],Ee=[26,37,38,189,229,233,237,252,257,274,285,286,287,288,289,290,310,313,314,315,316,317,318,319],Te=[1,219],xe=[1,220],Oe=[1,222],Ae=[1,223],Re=[1,224],Pe=[1,225],Ie=[1,227],je=[1,228],Ne=[2,422],Ce=[1,230],ke=[1,231],De=[1,232],Me=[1,238],Fe=[1,233],Le=[1,234],qe=[1,235],Be=[1,236],Ue=[1,237],He=[13,16,47,86,98,278,279,280,281,282,283,284,285,286,287,288,289,290,291],ze=[47,92],Ve=[34,38],Qe=[6,114,189],Ge=[47,117],Xe=[6,47,85,87,89],$e=[2,330],Ye=[2,322],We=[1,283],Je=[1,285],Ke=[47,117,307],Ze=[13,16,34,35,38,45,47,86,89,92,117,165,166,168,171,172,189,193,214,219,221,222,224,225,257,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307],et=[13,16,26,34,35,37,38,45,47,86,89,92,98,117,165,166,168,171,172,189,193,214,219,221,222,224,225,229,233,237,252,257,274,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307,310,313,314,315,316,317,318,319],tt=[13,16,26,34,35,37,38,45,47,86,89,92,98,117,165,166,168,171,172,189,193,214,219,221,222,224,225,229,233,237,252,257,274,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307,310,313,314,315,316,317,318,319],rt=[13,16,34,35,86,214,252,254,255,256,258,260,261,263,264,267,269,278,279,280,281,282,283,284,285,286,287,288,289,290,291,313,319,320,321,322,323,324],nt=[1,312],it=[1,313],st=[1,315],at=[1,314],ot=[6,13,16,26,34,35,37,38,45,47,74,77,80,82,85,86,87,89,92,117,165,166,168,171,172,189,221,224,225,229,233,237,252,254,255,256,257,258,260,261,263,264,267,269,274,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307,310,313,314,315,316,317,318,319,320,321,322,323,324],ut=[1,323],ct=[1,322],lt=[35,92],ht=[1,335],pt=[1,348],dt=[6,47,89],ft=[6,13,16,35,47,77,85,87,89,254,255,256,258,260,261,263,264,267,269,291,319,320,321,322,323,324],mt=[6,13,16,34,35,45,47,77,80,82,85,86,87,89,92,117,165,166,168,171,172,221,224,225,254,255,256,258,260,261,263,264,267,269,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307,319,320,321,322,323,324],yt=[45,47,89,117,165,166,168,171,172],gt=[1,365],_t=[1,366],bt=[1,372],vt=[1,371],wt=[47,117,189,222,307],St=[2,360],Et=[13,16,34,35,38,86,92,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291],Tt=[13,16,34,35,38,45,47,86,89,92,117,165,166,168,171,172,189,221,222,224,225,257,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307],xt=[13,16,26,34,35,86,214,252,254,255,256,258,260,261,263,264,267,269,278,279,280,281,282,283,284,285,286,287,288,289,290,291,313,319,320,321,322,323,324],Ot=[13,16,38,47,86,98,278,279,280,281,282,283,284,285,286,287,288,289,290,291],At=[35,47],Rt=[2,321],Pt=[1,421],It=[1,418],jt=[1,419],Nt=[6,13,16,26,34,35,37,38,45,47,67,74,77,80,82,85,86,87,89,92,117,165,166,168,171,172,189,221,224,225,229,233,237,252,254,255,256,257,258,260,261,263,264,267,269,274,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307,308,310,313,314,315,316,317,318,319,320,321,322,323,324],Ct=[13,16,35,193,214,219,291],kt=[2,372],Dt=[1,439],Mt=[45,47,89,117,165,166,168,171,172,307],Ft=[6,13,16,34,35,47,74,77,85,87,89,254,255,256,258,260,261,263,264,267,269,291,319,320,321,322,323,324],Lt=[13,16,34,35,38,45,47,86,89,92,117,165,166,168,171,172,189,193,221,222,224,225,257,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307],qt=[6,13,16,34,35,47,80,82,85,87,89,254,255,256,258,260,261,263,264,267,269,291,319,320,321,322,323,324],Bt=[13,16,34,35,45,47,86,89,92,117,165,166,168,171,172,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291],Ut=[13,16,34,291],Ht=[13,16,34,35,45,47,86,89,92,117,165,166,168,171,172,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307],zt=[2,333],Vt=[45,47,89,117,165,166,168,171,172,189,222,307],Qt=[2,328],Gt=[13,16,35,193,214,291],Xt=[13,16,38,86,98,278,279,280,281,282,283,284,285,286,287,288,289,290,291],$t=[13,16,34,35,47,86,92,117,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291],Yt=[13,16,34,35,38,86,92,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291,309,310],Wt=[13,16,26,34,35,38,86,92,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291,309,310,312,313],Jt=[1,573],Kt=[1,574],Zt=[2,316],er=[13,16,38,193,219,291],tr={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,ConstructQuery:39,CONSTRUCT:40,ConstructTemplate:41,ConstructQuery_repetition0:42,ConstructQuery_repetition1:43,WHERE:44,"{":45,ConstructQuery_option0:46,"}":47,DescribeQuery:48,DESCRIBE:49,DescribeQuery_group0:50,DescribeQuery_repetition0:51,DescribeQuery_option0:52,AskQuery:53,ASK:54,AskQuery_repetition0:55,DatasetClause:56,FROM:57,DatasetClause_option0:58,iri:59,WhereClause_option0:60,GroupGraphPattern:61,SolutionModifier_option0:62,SolutionModifierNoGroup_option0:63,SolutionModifierNoGroup_option1:64,SolutionModifierNoGroup_option2:65,GroupClause:66,GROUP:67,BY:68,GroupClause_repetition_plus0:69,GroupCondition:70,BuiltInCall:71,FunctionCall:72,HavingClause:73,HAVING:74,HavingClause_repetition_plus0:75,OrderClause:76,ORDER:77,OrderClause_repetition_plus0:78,OrderCondition:79,ASC:80,BrackettedExpression:81,DESC:82,Constraint:83,LimitOffsetClauses:84,LIMIT:85,INTEGER:86,OFFSET:87,ValuesClause:88,VALUES:89,InlineData:90,InlineData_repetition0:91,NIL:92,InlineData_repetition1:93,InlineData_repetition_plus2:94,InlineData_repetition3:95,DataBlockValue:96,Literal:97,UNDEF:98,DataBlockValueList:99,DataBlockValueList_repetition_plus0:100,Update:101,Update_repetition0:102,Update1:103,Update_option0:104,LOAD:105,Update1_option0:106,Update1_option1:107,Update1_group0:108,Update1_option2:109,GraphRefAll:110,Update1_group1:111,Update1_option3:112,GraphOrDefault:113,TO:114,CREATE:115,Update1_option4:116,GRAPH:117,INSERTDATA:118,QuadPattern:119,DELETEDATA:120,DELETEWHERE:121,Update1_option5:122,InsertClause:123,Update1_option6:124,Update1_repetition0:125,Update1_option7:126,DeleteClause:127,Update1_option8:128,Update1_repetition1:129,DELETE:130,INSERT:131,UsingClause:132,USING:133,UsingClause_option0:134,WithClause:135,WITH:136,IntoGraphClause:137,INTO:138,DEFAULT:139,GraphOrDefault_option0:140,GraphRefAll_group0:141,QuadPattern_option0:142,QuadPattern_repetition0:143,QuadsNotTriples:144,QuadsNotTriples_group0:145,QuadsNotTriples_option0:146,QuadsNotTriples_option1:147,QuadsNotTriples_option2:148,TriplesTemplate:149,TriplesTemplate_repetition0:150,TriplesSameSubject:151,TriplesTemplate_option0:152,GroupGraphPatternSub:153,GroupGraphPatternSub_option0:154,GroupGraphPatternSub_repetition0:155,GroupGraphPatternSubTail:156,GraphPatternNotTriples:157,GroupGraphPatternSubTail_option0:158,GroupGraphPatternSubTail_option1:159,TriplesBlock:160,TriplesBlock_repetition0:161,TriplesSameSubjectPath:162,TriplesBlock_option0:163,GraphPatternNotTriples_repetition0:164,OPTIONAL:165,MINUS:166,GraphPatternNotTriples_group0:167,SERVICE:168,GraphPatternNotTriples_option0:169,GraphPatternNotTriples_group1:170,FILTER:171,BIND:172,FunctionCall_option0:173,FunctionCall_repetition0:174,ExpressionList:175,ExpressionList_repetition0:176,ConstructTemplate_option0:177,ConstructTriples:178,ConstructTriples_repetition0:179,ConstructTriples_option0:180,VarOrTerm:181,PropertyListNotEmpty:182,TriplesNode:183,PropertyList:184,PropertyList_option0:185,VerbObjectList:186,PropertyListNotEmpty_repetition0:187,SemiOptionalVerbObjectList:188,";":189,SemiOptionalVerbObjectList_option0:190,Verb:191,ObjectList:192,a:193,ObjectList_repetition0:194,GraphNode:195,PropertyListPathNotEmpty:196,TriplesNodePath:197,TriplesSameSubjectPath_option0:198,PropertyListPathNotEmpty_group0:199,PropertyListPathNotEmpty_repetition0:200,GraphNodePath:201,PropertyListPathNotEmpty_repetition1:202,PropertyListPathNotEmptyTail:203,PropertyListPathNotEmptyTail_group0:204,Path:205,Path_repetition0:206,PathSequence:207,PathSequence_repetition0:208,PathEltOrInverse:209,PathElt:210,PathPrimary:211,PathElt_option0:212,PathEltOrInverse_option0:213,"!":214,PathNegatedPropertySet:215,PathOneInPropertySet:216,PathNegatedPropertySet_repetition0:217,PathNegatedPropertySet_option0:218,"^":219,TriplesNode_repetition_plus0:220,"[":221,"]":222,TriplesNodePath_repetition_plus0:223,BLANK_NODE_LABEL:224,ANON:225,ConditionalAndExpression:226,Expression_repetition0:227,ExpressionTail:228,"||":229,RelationalExpression:230,ConditionalAndExpression_repetition0:231,ConditionalAndExpressionTail:232,"&&":233,AdditiveExpression:234,RelationalExpression_group0:235,RelationalExpression_option0:236,IN:237,MultiplicativeExpression:238,AdditiveExpression_repetition0:239,AdditiveExpressionTail:240,AdditiveExpressionTail_group0:241,NumericLiteralPositive:242,AdditiveExpressionTail_repetition0:243,NumericLiteralNegative:244,AdditiveExpressionTail_repetition1:245,UnaryExpression:246,MultiplicativeExpression_repetition0:247,MultiplicativeExpressionTail:248,MultiplicativeExpressionTail_group0:249,UnaryExpression_option0:250,PrimaryExpression:251,"-":252,Aggregate:253,FUNC_ARITY0:254,FUNC_ARITY1:255,FUNC_ARITY2:256,",":257,IF:258,BuiltInCall_group0:259,BOUND:260,BNODE:261,BuiltInCall_option0:262,EXISTS:263,COUNT:264,Aggregate_option0:265,Aggregate_group0:266,FUNC_AGGREGATE:267,Aggregate_option1:268,GROUP_CONCAT:269,Aggregate_option2:270,Aggregate_option3:271,GroupConcatSeparator:272,SEPARATOR:273,"=":274,String:275,LANGTAG:276,"^^":277,DECIMAL:278,DOUBLE:279,BOOLEAN:280,STRING_LITERAL1:281,STRING_LITERAL2:282,STRING_LITERAL_LONG1:283,STRING_LITERAL_LONG2:284,INTEGER_POSITIVE:285,DECIMAL_POSITIVE:286,DOUBLE_POSITIVE:287,INTEGER_NEGATIVE:288,DECIMAL_NEGATIVE:289,DOUBLE_NEGATIVE:290,PNAME_LN:291,QueryOrUpdate_group0_option0:292,Prologue_repetition0_group0:293,SelectClauseBase_option0_group0:294,DISTINCT:295,REDUCED:296,DescribeQuery_group0_repetition_plus0_group0:297,DescribeQuery_group0_repetition_plus0:298,NAMED:299,SILENT:300,CLEAR:301,DROP:302,ADD:303,MOVE:304,COPY:305,ALL:306,".":307,UNION:308,"|":309,"/":310,PathElt_option0_group0:311,"?":312,"+":313,"!=":314,"<":315,">":316,"<=":317,">=":318,NOT:319,CONCAT:320,COALESCE:321,SUBSTR:322,REGEX:323,REPLACE:324,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",40:"CONSTRUCT",44:"WHERE",45:"{",47:"}",49:"DESCRIBE",54:"ASK",57:"FROM",67:"GROUP",68:"BY",74:"HAVING",77:"ORDER",80:"ASC",82:"DESC",85:"LIMIT",86:"INTEGER",87:"OFFSET",89:"VALUES",92:"NIL",98:"UNDEF",105:"LOAD",114:"TO",115:"CREATE",117:"GRAPH",118:"INSERTDATA",120:"DELETEDATA",121:"DELETEWHERE",130:"DELETE",131:"INSERT",133:"USING",136:"WITH",138:"INTO",139:"DEFAULT",165:"OPTIONAL",166:"MINUS",168:"SERVICE",171:"FILTER",172:"BIND",189:";",193:"a",214:"!",219:"^",221:"[",222:"]",224:"BLANK_NODE_LABEL",225:"ANON",229:"||",233:"&&",237:"IN",252:"-",254:"FUNC_ARITY0",255:"FUNC_ARITY1",256:"FUNC_ARITY2",257:",",258:"IF",260:"BOUND",261:"BNODE",263:"EXISTS",264:"COUNT",267:"FUNC_AGGREGATE",269:"GROUP_CONCAT",273:"SEPARATOR",274:"=",276:"LANGTAG",277:"^^",278:"DECIMAL",279:"DOUBLE",280:"BOOLEAN",281:"STRING_LITERAL1",282:"STRING_LITERAL2",283:"STRING_LITERAL_LONG1",284:"STRING_LITERAL_LONG2",285:"INTEGER_POSITIVE",286:"DECIMAL_POSITIVE",287:"DOUBLE_POSITIVE",288:"INTEGER_NEGATIVE",289:"DECIMAL_NEGATIVE",290:"DOUBLE_NEGATIVE",291:"PNAME_LN",295:"DISTINCT",296:"REDUCED",299:"NAMED",300:"SILENT",301:"CLEAR",302:"DROP",303:"ADD",304:"MOVE",305:"COPY",306:"ALL",307:".",308:"UNION",309:"|",310:"/",312:"?",313:"+",314:"!=",315:"<",316:">",317:"<=",318:">=",319:"NOT",320:"CONCAT",321:"COALESCE",322:"SUBSTR",323:"REGEX",324:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[39,5],[39,7],[48,5],[53,4],[56,3],[20,2],[24,2],[21,3],[66,3],[70,1],[70,1],[70,3],[70,5],[70,1],[73,2],[76,3],[79,2],[79,2],[79,1],[79,1],[84,2],[84,2],[84,4],[84,4],[88,2],[90,4],[90,4],[90,6],[96,1],[96,1],[96,1],[99,3],[101,3],[103,4],[103,3],[103,5],[103,4],[103,2],[103,2],[103,2],[103,6],[103,6],[127,2],[123,2],[132,3],[135,2],[137,3],[113,1],[113,2],[110,2],[110,1],[119,4],[144,7],[149,3],[61,3],[61,3],[153,2],[156,3],[160,3],[157,2],[157,2],[157,2],[157,3],[157,4],[157,2],[157,6],[157,1],[83,1],[83,1],[83,1],[72,2],[72,6],[175,1],[175,4],[41,3],[178,3],[151,2],[151,2],[184,1],[182,2],[188,2],[186,2],[191,1],[191,1],[191,1],[192,2],[162,2],[162,2],[196,4],[203,1],[203,3],[205,2],[207,2],[210,2],[209,2],[211,1],[211,1],[211,2],[211,3],[215,1],[215,1],[215,4],[216,1],[216,1],[216,2],[216,2],[183,3],[183,3],[197,3],[197,3],[195,1],[195,1],[201,1],[201,1],[181,1],[181,1],[181,1],[181,1],[181,1],[181,1],[36,2],[228,2],[226,2],[232,2],[230,1],[230,3],[230,4],[234,2],[240,2],[240,2],[240,2],[238,2],[248,2],[246,2],[246,2],[246,2],[251,1],[251,1],[251,1],[251,1],[251,1],[251,1],[81,3],[71,1],[71,2],[71,4],[71,6],[71,8],[71,2],[71,4],[71,2],[71,4],[71,3],[253,5],[253,5],[253,6],[272,4],[97,1],[97,2],[97,3],[97,1],[97,1],[97,1],[97,1],[97,1],[97,1],[275,1],[275,1],[275,1],[275,1],[242,1],[242,1],[242,1],[244,1],[244,1],[244,1],[59,1],[59,1],[59,1],[292,0],[292,1],[5,1],[5,1],[293,1],[293,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[294,1],[294,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[42,0],[42,2],[43,0],[43,2],[46,0],[46,1],[297,1],[297,1],[298,1],[298,2],[50,1],[50,1],[51,0],[51,2],[52,0],[52,1],[55,0],[55,2],[58,0],[58,1],[60,0],[60,1],[62,0],[62,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[69,1],[69,2],[75,1],[75,2],[78,1],[78,2],[91,0],[91,2],[93,0],[93,2],[94,1],[94,2],[95,0],[95,2],[100,1],[100,2],[102,0],[102,4],[104,0],[104,2],[106,0],[106,1],[107,0],[107,1],[108,1],[108,1],[109,0],[109,1],[111,1],[111,1],[111,1],[112,0],[112,1],[116,0],[116,1],[122,0],[122,1],[124,0],[124,1],[125,0],[125,2],[126,0],[126,1],[128,0],[128,1],[129,0],[129,2],[134,0],[134,1],[140,0],[140,1],[141,1],[141,1],[141,1],[142,0],[142,1],[143,0],[143,2],[145,1],[145,1],[146,0],[146,1],[147,0],[147,1],[148,0],[148,1],[150,0],[150,3],[152,0],[152,1],[154,0],[154,1],[155,0],[155,2],[158,0],[158,1],[159,0],[159,1],[161,0],[161,3],[163,0],[163,1],[164,0],[164,3],[167,1],[167,1],[169,0],[169,1],[170,1],[170,1],[173,0],[173,1],[174,0],[174,3],[176,0],[176,3],[177,0],[177,1],[179,0],[179,3],[180,0],[180,1],[185,0],[185,1],[187,0],[187,2],[190,0],[190,1],[194,0],[194,3],[198,0],[198,1],[199,1],[199,1],[200,0],[200,3],[202,0],[202,2],[204,1],[204,1],[206,0],[206,3],[208,0],[208,3],[311,1],[311,1],[311,1],[212,0],[212,1],[213,0],[213,1],[217,0],[217,3],[218,0],[218,1],[220,1],[220,2],[223,1],[223,2],[227,0],[227,2],[231,0],[231,2],[235,1],[235,1],[235,1],[235,1],[235,1],[235,1],[236,0],[236,1],[239,0],[239,2],[241,1],[241,1],[243,0],[243,2],[245,0],[245,2],[247,0],[247,2],[249,1],[249,1],[250,0],[250,1],[259,1],[259,1],[259,1],[259,1],[259,1],[262,0],[262,1],[265,0],[265,1],[266,1],[266,1],[268,0],[268,1],[270,0],[270,1],[271,0],[271,1]],performAction:function(e,t,r,n,i,s,a){var o,u,c,l,h=s.length-1;switch(i){case 1:return s[h-1]=s[h-1]||{},Br.base&&(s[h-1].base=Br.base),Br.base=dr=fr=mr="",s[h-1].prefixes=Br.prefixes,Br.prefixes=null,s[h-1];case 3:this.$=br(s[h-1],s[h],{type:"query"});break;case 4:Br.base=wr(s[h]),dr=fr=mr="";break;case 5:Br.prefixes||(Br.prefixes={}),s[h-1]=s[h-1].substr(0,s[h-1].length-1),s[h]=wr(s[h]),Br.prefixes[s[h-1]]=s[h];break;case 6:case 7:this.$=br(s[h-3],Ar(s[h-2]),s[h-1],s[h]);break;case 8:this.$=br(s[h-1],{variables:[new rr]});break;case 9:this.$=br(s[h-1],{variables:s[h]});break;case 10:this.$=br({queryType:"SELECT"},s[h]&&(s[h-1]=yr(s[h]),s[h]={},s[h][s[h-1]]=!0,s[h]));break;case 11:case 12:this.$=br(s[h-3],s[h-2],s[h-1],s[h],{type:"query"});break;case 13:case 97:case 129:case 156:this.$=Sr(s[h]);break;case 14:case 27:this.$=Tr(s[h-3],{variable:Sr(s[h-1])});break;case 15:this.$=br({queryType:"CONSTRUCT",template:s[h-3]},Ar(s[h-2]),s[h-1],s[h]);break;case 16:this.$=br({queryType:"CONSTRUCT",template:s[h-2]=s[h-2]?s[h-2].triples:[]},Ar(s[h-5]),{where:[{type:"bgp",triples:_r([],s[h-2])}]},s[h]);break;case 17:this.$=br({queryType:"DESCRIBE",variables:"*"===s[h-3]?[new rr]:s[h-3].map(Sr)},Ar(s[h-2]),s[h-1],s[h]);break;case 18:this.$=br({queryType:"ASK"},Ar(s[h-2]),s[h-1],s[h]);break;case 19:case 59:this.$={iri:s[h],named:!!s[h-1]};break;case 20:this.$={where:s[h].patterns};break;case 21:this.$=br(s[h-1],s[h]);break;case 22:this.$=br(s[h-2],s[h-1],s[h]);break;case 23:this.$={group:s[h]};break;case 24:case 25:case 31:case 33:this.$=Tr(s[h]);break;case 26:this.$=Tr(s[h-1]);break;case 28:case 34:this.$=Tr(Sr(s[h]));break;case 29:this.$={having:s[h]};break;case 30:this.$={order:s[h]};break;case 32:this.$=Tr(s[h],{descending:!0});break;case 35:this.$={limit:Rr(s[h])};break;case 36:this.$={offset:Rr(s[h])};break;case 37:this.$={limit:Rr(s[h-2]),offset:Rr(s[h])};break;case 38:this.$={limit:Rr(s[h]),offset:Rr(s[h-2])};break;case 39:this.$={type:"values",values:s[h]};break;case 40:this.$=s[h-1].map((function(e){var t={};return t[s[h-3]]=e,t}));break;case 41:this.$=s[h-1].map((function(){return{}}));break;case 42:var p=s[h-4].length;s[h-4]=s[h-4].map(Sr),this.$=s[h-1].map((function(e){if(e.length!==p)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<p;r++)t["?"+s[h-4][r].value]=e[r];return t}));break;case 45:this.$=void 0;break;case 46:case 89:case 113:case 157:this.$=s[h-1];break;case 47:this.$={type:"update",updates:gr(s[h-2],s[h-1])};break;case 48:this.$=br({type:"load",silent:!!s[h-2],source:s[h-1]},s[h]&&{destination:s[h]});break;case 49:this.$={type:yr(s[h-2]),silent:!!s[h-1],graph:s[h]};break;case 50:this.$={type:yr(s[h-4]),silent:!!s[h-3],source:s[h-2],destination:s[h]};break;case 51:this.$={type:"create",silent:!!s[h-2],graph:{type:"graph",name:s[h]}};break;case 52:this.$={updateType:"insert",insert:s[h]};break;case 53:this.$={updateType:"delete",delete:s[h]};break;case 54:this.$={updateType:"deletewhere",delete:s[h]};break;case 55:this.$=br({updateType:"insertdelete"},s[h-5],{insert:s[h-4]||[]},{delete:s[h-3]||[]},Ar(s[h-2],"using"),{where:s[h].patterns});break;case 56:this.$=br({updateType:"insertdelete"},s[h-5],{delete:s[h-4]||[]},{insert:s[h-3]||[]},Ar(s[h-2],"using"),{where:s[h].patterns});break;case 57:case 58:case 61:case 148:case 171:this.$=s[h];break;case 60:this.$={graph:s[h]};break;case 62:this.$={type:"graph",default:!0};break;case 63:case 64:this.$={type:"graph",name:s[h]};break;case 65:this.$={},this.$[yr(s[h])]=!0;break;case 66:this.$=s[h-2]?vr(s[h-1],[s[h-2]]):vr(s[h-1]);break;case 67:var d=br(s[h-3]||{triples:[]},{type:"graph",name:Sr(s[h-5])});this.$=s[h]?[d,s[h]]:[d];break;case 68:case 73:this.$={type:"bgp",triples:vr(s[h-2],[s[h-1]])};break;case 69:this.$={type:"group",patterns:[s[h-1]]};break;case 70:this.$={type:"group",patterns:s[h-1]};break;case 71:this.$=s[h-1]?vr([s[h-1]],s[h]):vr(s[h]);break;case 72:this.$=s[h]?[s[h-2],s[h]]:s[h-2];break;case 74:s[h-1].length?this.$={type:"union",patterns:vr(s[h-1].map(Pr),[Pr(s[h])])}:this.$=s[h];break;case 75:this.$=br(s[h],{type:"optional"});break;case 76:this.$=br(s[h],{type:"minus"});break;case 77:this.$=br(s[h],{type:"graph",name:Sr(s[h-1])});break;case 78:this.$=br(s[h],{type:"service",name:Sr(s[h-1]),silent:!!s[h-2]});break;case 79:this.$={type:"filter",expression:s[h]};break;case 80:this.$={type:"bind",variable:Sr(s[h-1]),expression:s[h-3]};break;case 85:this.$={type:"functionCall",function:s[h-1],args:[]};break;case 86:this.$={type:"functionCall",function:s[h-5],args:gr(s[h-2],s[h-1]),distinct:!!s[h-3]};break;case 87:case 104:case 115:case 200:case 208:case 210:case 222:case 224:case 234:case 238:case 258:case 260:case 264:case 268:case 291:case 297:case 308:case 318:case 324:case 330:case 334:case 344:case 346:case 350:case 356:case 360:case 366:case 368:case 372:case 374:case 383:case 391:case 393:case 403:case 407:case 409:case 411:this.$=[];break;case 88:this.$=gr(s[h-2],s[h-1]);break;case 90:this.$=vr(s[h-2],[s[h-1]]);break;case 91:case 101:this.$=s[h].map((function(e){return br(jr(s[h-1]),e)}));break;case 92:this.$=_r(s[h].map((function(e){return br(jr(s[h-1].entity),e)})),s[h-1].triples);break;case 94:this.$=vr([s[h-1]],s[h]);break;case 95:this.$=vr(s[h]);break;case 96:this.$=Lr(s[h-1],s[h]);break;case 99:case 111:case 118:this.$=Br.factory.namedNode(ir);break;case 100:this.$=gr(s[h-1],s[h]);break;case 102:this.$=s[h]?_r(s[h].map((function(e){return br(jr(s[h-1].entity),e)})),s[h-1].triples):s[h-1].triples;break;case 103:this.$=Lr(Sr(s[h-3]),gr(s[h-2],s[h-1]),s[h]);break;case 105:this.$=Lr(Sr(s[h-1]),s[h]);break;case 106:this.$=s[h-1].length?xr("|",gr(s[h-1],s[h])):s[h];break;case 107:this.$=s[h-1].length?xr("/",gr(s[h-1],s[h])):s[h];break;case 108:this.$=s[h]?xr(s[h],[s[h-1]]):s[h-1];break;case 109:this.$=s[h-1]?xr(s[h-1],[s[h]]):s[h];break;case 112:case 119:this.$=xr(s[h-1],[s[h]]);break;case 116:this.$=xr("|",gr(s[h-2],s[h-1]));break;case 120:this.$=xr(s[h-1],[Br.factory.namedNode(ir)]);break;case 121:case 123:this.$=function(e){var t=Nr(),r=t,n=[],i=[];e.forEach((function(e){n.push(e.entity),_r(i,e.triples)}));for(var s=0,a=0,o=n.length,u=Array(2*o);s<o;)u[a++]=jr(r,Br.factory.namedNode(sr),n[s]),u[a++]=jr(r,Br.factory.namedNode(ar),r=++s<o?Nr():Br.factory.namedNode(or));return{entity:t,triples:_r(u,i)}}(s[h-1]);break;case 122:case 124:this.$=(c=s[h-1],{entity:l=Nr(),triples:c.map((function(e){return br(jr(l),e)}))});break;case 125:case 127:this.$={entity:s[h],triples:[]};break;case 132:this.$=Nr(s[h].replace(/^(_:)/,""));break;case 133:this.$=Nr();break;case 134:this.$=Br.factory.namedNode(or);break;case 135:case 137:case 142:case 146:this.$=Or(s[h-1],s[h]);break;case 136:this.$=["||",s[h]];break;case 138:this.$=["&&",s[h]];break;case 140:this.$=Er(s[h-1],[s[h-2],s[h]]);break;case 141:this.$=Er(s[h-2]?"notin":"in",[s[h-3],s[h]]);break;case 143:case 147:this.$=[s[h-1],s[h]];break;case 144:this.$=["+",Or(s[h-1],s[h])];break;case 145:this.$=["-",Or(s[h-1].replace("-",""),s[h])];break;case 149:this.$=Er(s[h-1],[s[h]]);break;case 150:this.$=Er("UMINUS",[s[h]]);break;case 159:this.$=Er(yr(s[h-1]));break;case 160:this.$=Er(yr(s[h-3]),[s[h-1]]);break;case 161:this.$=Er(yr(s[h-5]),[s[h-3],s[h-1]]);break;case 162:this.$=Er(yr(s[h-7]),[s[h-5],s[h-3],s[h-1]]);break;case 163:this.$=Er(yr(s[h-1]),s[h]);break;case 164:this.$=Er("bound",[Sr(s[h-1])]);break;case 165:this.$=Er(s[h-1],[]);break;case 166:this.$=Er(s[h-3],[s[h-1]]);break;case 167:this.$=Er(s[h-2]?"notexists":"exists",[Pr(s[h])]);break;case 168:case 169:this.$=Tr(s[h-1],{type:"aggregate",aggregation:yr(s[h-4]),distinct:!!s[h-2]});break;case 170:this.$=Tr(s[h-2],{type:"aggregate",aggregation:yr(s[h-5]),distinct:!!s[h-3],separator:s[h-1]||" "});break;case 172:this.$=Ir(s[h]);break;case 173:this.$=(o=s[h-1],u=yr(s[h].substr(1)),Br.factory.literal(o,u));break;case 174:this.$=Ir(s[h-2],s[h]);break;case 175:case 188:this.$=Ir(s[h],cr);break;case 176:case 189:this.$=Ir(s[h],lr);break;case 177:case 190:this.$=Ir(yr(s[h]),hr);break;case 180:this.$=Ir(s[h],pr);break;case 181:case 182:this.$=Fr(s[h],1);break;case 183:case 184:this.$=Fr(s[h],3);break;case 185:this.$=Ir(s[h].substr(1),cr);break;case 186:this.$=Ir(s[h].substr(1),lr);break;case 187:this.$=Ir(s[h].substr(1).toLowerCase(),hr);break;case 191:this.$=Br.factory.namedNode(wr(s[h]));break;case 192:var f=s[h].indexOf(":"),m=s[h].substr(0,f),y=Br.prefixes[m];if(!y)throw new Error("Unknown prefix: "+m);var g=wr(y+s[h].substr(f+1));this.$=Br.factory.namedNode(g);break;case 193:if(s[h]=s[h].substr(0,s[h].length-1),!(s[h]in Br.prefixes))throw new Error("Unknown prefix: "+s[h]);g=wr(Br.prefixes[s[h]]);this.$=Br.factory.namedNode(g);break;case 201:case 209:case 211:case 213:case 223:case 225:case 231:case 235:case 239:case 253:case 255:case 257:case 259:case 261:case 263:case 265:case 267:case 292:case 298:case 309:case 325:case 357:case 369:case 388:case 390:case 392:case 394:case 404:case 408:case 410:case 412:s[h-1].push(s[h]);break;case 212:case 230:case 252:case 254:case 256:case 262:case 266:case 387:case 389:this.$=[s[h]];break;case 269:s[h-3].push(s[h-2]);break;case 319:case 331:case 335:case 345:case 347:case 351:case 361:case 367:case 373:case 375:case 384:s[h-2].push(s[h-1])}},table:[e(t,n,{3:1,4:2,7:3}),{1:[3]},e(i,[2,268],{5:4,8:5,292:6,9:7,101:8,17:9,39:10,48:11,53:12,102:13,18:14,22:15,25:19,6:[2,194],28:s,40:[1,16],49:[1,17],54:[1,18]}),e([6,28,40,49,54,105,115,118,120,121,130,131,136,301,302,303,304,305],[2,2],{293:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,196]},{6:[2,197]},{6:[2,206],10:27,88:28,89:a},{6:[2,195]},e(o,[2,202]),e(o,[2,203]),e(o,[2,204]),e(o,[2,205]),{103:30,105:[1,31],108:32,111:33,115:[1,34],118:[1,35],120:[1,36],121:[1,37],122:38,126:39,130:[2,293],131:[2,287],135:45,136:[1,46],301:[1,40],302:[1,41],303:[1,42],304:[1,43],305:[1,44]},e(u,[2,208],{19:47}),e(u,[2,210],{23:48}),e(c,[2,224],{41:49,43:50,45:[1,51]}),{13:l,16:h,26:[1,54],34:p,50:52,59:57,291:d,297:55,298:53},e(u,[2,238],{55:61}),{26:[1,62],27:63,33:64,34:f,35:m},e(y,[2,216],{29:67,294:68,295:[1,69],296:[1,70]}),e(t,[2,201]),e(t,[2,198]),e(t,[2,199]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,207]},{34:[1,74],35:[1,76],90:73,92:[1,75]},{6:[2,270],104:77,189:[1,78]},e(g,[2,272],{106:79,300:[1,80]}),e(_,[2,278],{109:81,300:[1,82]}),e(b,[2,283],{112:83,300:[1,84]}),{116:85,117:[2,285],300:[1,86]},{45:v,119:87},{45:v,119:89},{45:v,119:90},{123:91,131:w},{127:93,130:S},e(E,[2,276]),e(E,[2,277]),e(T,[2,280]),e(T,[2,281]),e(T,[2,282]),{130:[2,294],131:[2,288]},{13:l,16:h,59:95,291:d},{20:96,44:x,45:O,56:97,57:A,60:98},{20:101,44:x,45:O,56:102,57:A,60:98},e(u,[2,222],{42:103}),{44:[1,104],56:105,57:A},e(R,[2,350],{177:106,178:107,179:108,47:[2,348]}),e(P,[2,234],{51:109}),e(P,[2,232],{59:57,297:110,13:l,16:h,34:p,291:d}),e(P,[2,233]),e(I,[2,230]),e(I,[2,228]),e(I,[2,229]),e(j,[2,191]),e(j,[2,192]),e(j,[2,193]),{20:111,44:x,45:O,56:112,57:A,60:98},e(u,[2,8]),e(u,[2,9],{33:113,34:f,35:m}),e(N,[2,212]),e(N,[2,13]),e(C,k,{36:114,226:115,230:116,234:117,238:118,246:119,250:120,214:D,252:M,313:F}),e(y,[2,10]),e(y,[2,217]),e(y,[2,214]),e(y,[2,215]),e(t,[2,4]),{13:[1,124]},e(L,[2,39]),{45:[1,125]},{45:[1,126]},{34:[1,128],94:127},{6:[2,47]},e(t,n,{7:3,4:129}),{13:l,16:h,59:130,291:d},e(g,[2,273]),{110:131,117:[1,132],139:[1,134],141:133,299:[1,135],306:[1,136]},e(_,[2,279]),e(g,q,{113:137,140:139,117:B,139:U}),e(b,[2,284]),{117:[1,141]},{117:[2,286]},e(H,[2,52]),e(R,z,{142:142,149:143,150:144,47:V,117:V}),e(H,[2,53]),e(H,[2,54]),e(Q,[2,289],{124:145,127:146,130:S}),{45:v,119:147},e(Q,[2,295],{128:148,123:149,131:w}),{45:v,119:150},e([130,131],[2,60]),e(G,X,{21:151,63:152,73:153,74:$}),e(u,[2,209]),{45:Y,61:155},e(g,[2,240],{58:157,299:[1,158]}),{45:[2,243]},e(W,J,{24:159,62:160,66:161,67:K}),e(u,[2,211]),{20:163,44:x,45:O,56:164,57:A,60:98},{45:[1,165]},e(c,[2,225]),{47:[1,166]},{47:[2,349]},{13:l,16:h,34:Z,35:ee,59:171,86:te,92:re,97:172,151:167,181:168,183:169,221:ne,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(be,[2,236],{60:98,52:195,56:196,20:197,44:x,45:O,57:A}),e(I,[2,231]),e(W,J,{62:160,66:161,24:198,67:K}),e(u,[2,239]),e(N,[2,213]),{37:[1,199]},e(ve,[2,391],{227:200}),e(we,[2,393],{231:201}),e(we,[2,139],{235:202,236:203,237:[2,401],274:[1,204],314:[1,205],315:[1,206],316:[1,207],317:[1,208],318:[1,209],319:[1,210]}),e(Se,[2,403],{239:211}),e(Ee,[2,411],{247:212}),{13:l,16:h,34:Te,35:xe,59:216,71:215,72:217,81:214,86:te,97:218,242:182,244:183,251:213,253:221,254:Oe,255:Ae,256:Re,258:Pe,259:226,260:Ie,261:je,262:229,263:Ne,264:Ce,267:ke,269:De,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue},{13:l,16:h,34:Te,35:xe,59:216,71:215,72:217,81:214,86:te,97:218,242:182,244:183,251:239,253:221,254:Oe,255:Ae,256:Re,258:Pe,259:226,260:Ie,261:je,262:229,263:Ne,264:Ce,267:ke,269:De,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue},{13:l,16:h,34:Te,35:xe,59:216,71:215,72:217,81:214,86:te,97:218,242:182,244:183,251:240,253:221,254:Oe,255:Ae,256:Re,258:Pe,259:226,260:Ie,261:je,262:229,263:Ne,264:Ce,267:ke,269:De,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue},e(C,[2,416]),e(t,[2,5]),e(He,[2,258],{91:241}),e(ze,[2,260],{93:242}),{34:[1,244],38:[1,243]},e(Ve,[2,262]),e(i,[2,269],{6:[2,271]}),e(H,[2,274],{107:245,137:246,138:[1,247]}),e(H,[2,49]),{13:l,16:h,59:248,291:d},e(H,[2,65]),e(H,[2,303]),e(H,[2,304]),e(H,[2,305]),{114:[1,249]},e(Qe,[2,62]),{13:l,16:h,59:250,291:d},e(g,[2,302]),{13:l,16:h,59:251,291:d},e(Ge,[2,308],{143:252}),e(Ge,[2,307]),{13:l,16:h,34:Z,35:ee,59:171,86:te,92:re,97:172,151:253,181:168,183:169,221:ne,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(Q,[2,291],{125:254}),e(Q,[2,290]),e([44,130,133],[2,58]),e(Q,[2,297],{129:255}),e(Q,[2,296]),e([44,131,133],[2,57]),e(o,[2,6]),e(Xe,[2,248],{64:256,76:257,77:[1,258]}),e(G,[2,247]),{13:l,16:h,35:xe,59:264,71:262,72:263,75:259,81:261,83:260,253:221,254:Oe,255:Ae,256:Re,258:Pe,259:226,260:Ie,261:je,262:229,263:Ne,264:Ce,267:ke,269:De,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue},e([6,47,67,74,77,85,87,89],[2,20]),e(R,$e,{25:19,30:265,153:266,18:267,22:268,154:269,160:270,161:271,28:s,45:Ye,47:Ye,89:Ye,117:Ye,165:Ye,166:Ye,168:Ye,171:Ye,172:Ye}),{13:l,16:h,59:272,291:d},e(g,[2,241]),e(o,[2,7]),e(G,X,{63:152,73:153,21:273,74:$}),e(W,[2,245]),{68:[1,274]},e(W,J,{62:160,66:161,24:275,67:K}),e(u,[2,223]),e(R,z,{150:144,46:276,149:277,47:[2,226]}),e(u,[2,89]),{47:[2,352],180:278,307:[1,279]},{13:l,16:h,34:We,59:284,182:280,186:281,191:282,193:Je,291:d},e(Ke,[2,354],{186:281,191:282,59:284,184:286,185:287,182:288,13:l,16:h,34:We,193:Je,291:d}),e(Ze,[2,129]),e(Ze,[2,130]),e(Ze,[2,131]),e(Ze,[2,132]),e(Ze,[2,133]),e(Ze,[2,134]),{13:l,16:h,34:Z,35:ee,59:171,86:te,92:re,97:172,181:291,183:292,195:290,220:289,221:ne,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},{13:l,16:h,34:We,59:284,182:293,186:281,191:282,193:Je,291:d},e(et,[2,172],{276:[1,294],277:[1,295]}),e(et,[2,175]),e(et,[2,176]),e(et,[2,177]),e(et,[2,178]),e(et,[2,179]),e(et,[2,180]),e(tt,[2,181]),e(tt,[2,182]),e(tt,[2,183]),e(tt,[2,184]),e(et,[2,185]),e(et,[2,186]),e(et,[2,187]),e(et,[2,188]),e(et,[2,189]),e(et,[2,190]),e(W,J,{62:160,66:161,24:296,67:K}),e(P,[2,235]),e(be,[2,237]),e(o,[2,18]),{34:[1,297]},e([37,38,189,257],[2,135],{228:298,229:[1,299]}),e(ve,[2,137],{232:300,233:[1,301]}),e(C,k,{238:118,246:119,250:120,234:302,214:D,252:M,313:F}),{237:[1,303]},e(rt,[2,395]),e(rt,[2,396]),e(rt,[2,397]),e(rt,[2,398]),e(rt,[2,399]),e(rt,[2,400]),{237:[2,402]},e([37,38,189,229,233,237,257,274,314,315,316,317,318,319],[2,142],{240:304,241:305,242:306,244:307,252:[1,309],285:de,286:fe,287:me,288:ye,289:ge,290:_e,313:[1,308]}),e(Se,[2,146],{248:310,249:311,26:nt,310:it}),e(Ee,[2,148]),e(Ee,[2,151]),e(Ee,[2,152]),e(Ee,[2,153],{35:st,92:at}),e(Ee,[2,154]),e(Ee,[2,155]),e(Ee,[2,156]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:316,214:D,252:M,313:F}),e(ot,[2,158]),{92:[1,317]},{35:[1,318]},{35:[1,319]},{35:[1,320]},{35:ut,92:ct,175:321},{35:[1,324]},{35:[1,326],92:[1,325]},{263:[1,327]},{35:[1,328]},{35:[1,329]},{35:[1,330]},e(lt,[2,417]),e(lt,[2,418]),e(lt,[2,419]),e(lt,[2,420]),e(lt,[2,421]),{263:[2,423]},e(Ee,[2,149]),e(Ee,[2,150]),{13:l,16:h,47:[1,331],59:333,86:te,96:332,97:334,98:ht,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},{47:[1,336],92:[1,337]},{45:[1,338]},e(Ve,[2,263]),e(H,[2,48]),e(H,[2,275]),{117:[1,339]},e(H,[2,64]),e(g,q,{140:139,113:340,117:B,139:U}),e(Qe,[2,63]),e(H,[2,51]),{47:[1,341],117:[1,343],144:342},e(Ge,[2,320],{152:344,307:[1,345]}),{44:[1,346],132:347,133:pt},{44:[1,349],132:350,133:pt},e(dt,[2,250],{65:351,84:352,85:[1,353],87:[1,354]}),e(Xe,[2,249]),{68:[1,355]},e(G,[2,29],{253:221,259:226,262:229,81:261,71:262,72:263,59:264,83:356,13:l,16:h,35:xe,254:Oe,255:Ae,256:Re,258:Pe,260:Ie,261:je,263:Ne,264:Ce,267:ke,269:De,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue}),e(ft,[2,254]),e(mt,[2,82]),e(mt,[2,83]),e(mt,[2,84]),{35:st,92:at},{47:[1,357]},{47:[1,358]},{20:359,44:x,45:O,60:98},{20:360,44:x,45:O,60:98},e(yt,[2,324],{155:361}),e(yt,[2,323]),{13:l,16:h,34:Z,35:gt,59:171,86:te,92:re,97:172,162:362,181:363,197:364,221:_t,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(P,[2,19]),e(dt,[2,21]),{13:l,16:h,34:bt,35:vt,59:264,69:367,70:368,71:369,72:370,253:221,254:Oe,255:Ae,256:Re,258:Pe,259:226,260:Ie,261:je,262:229,263:Ne,264:Ce,267:ke,269:De,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue},e(o,[2,15]),{47:[1,373]},{47:[2,227]},{47:[2,90]},e(R,[2,351],{47:[2,353]}),e(Ke,[2,91]),e(wt,[2,356],{187:374}),e(R,St,{192:375,194:376}),e(R,[2,97]),e(R,[2,98]),e(R,[2,99]),e(Ke,[2,92]),e(Ke,[2,93]),e(Ke,[2,355]),{13:l,16:h,34:Z,35:ee,38:[1,377],59:171,86:te,92:re,97:172,181:291,183:292,195:378,221:ne,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(Et,[2,387]),e(Tt,[2,125]),e(Tt,[2,126]),{222:[1,379]},e(et,[2,173]),{13:l,16:h,59:380,291:d},e(o,[2,17]),{38:[1,381]},e(ve,[2,392]),e(C,k,{230:116,234:117,238:118,246:119,250:120,226:382,214:D,252:M,313:F}),e(we,[2,394]),e(C,k,{234:117,238:118,246:119,250:120,230:383,214:D,252:M,313:F}),e(we,[2,140]),{35:ut,92:ct,175:384},e(Se,[2,404]),e(C,k,{246:119,250:120,238:385,214:D,252:M,313:F}),e(Ee,[2,407],{243:386}),e(Ee,[2,409],{245:387}),e(rt,[2,405]),e(rt,[2,406]),e(Ee,[2,412]),e(C,k,{250:120,246:388,214:D,252:M,313:F}),e(rt,[2,413]),e(rt,[2,414]),e(ot,[2,85]),e(rt,[2,342],{173:389,295:[1,390]}),{38:[1,391]},e(ot,[2,159]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:392,214:D,252:M,313:F}),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:393,214:D,252:M,313:F}),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:394,214:D,252:M,313:F}),e(ot,[2,163]),e(ot,[2,87]),e(rt,[2,346],{176:395}),{34:[1,396]},e(ot,[2,165]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:397,214:D,252:M,313:F}),{45:Y,61:398},e(xt,[2,424],{265:399,295:[1,400]}),e(rt,[2,428],{268:401,295:[1,402]}),e(rt,[2,430],{270:403,295:[1,404]}),e(L,[2,40]),e(He,[2,259]),e(Ot,[2,43]),e(Ot,[2,44]),e(Ot,[2,45]),e(L,[2,41]),e(ze,[2,261]),e(At,[2,264],{95:405}),{13:l,16:h,59:406,291:d},e(H,[2,50]),e([6,44,130,131,133,189],[2,66]),e(Ge,[2,309]),{13:l,16:h,34:[1,408],59:409,145:407,291:d},e(Ge,[2,68]),e(R,[2,319],{47:Rt,117:Rt}),{45:Y,61:410},e(Q,[2,292]),e(g,[2,299],{134:411,299:[1,412]}),{45:Y,61:413},e(Q,[2,298]),e(dt,[2,22]),e(dt,[2,251]),{86:[1,414]},{86:[1,415]},{13:l,16:h,34:Pt,35:xe,59:264,71:262,72:263,78:416,79:417,80:It,81:261,82:jt,83:420,253:221,254:Oe,255:Ae,256:Re,258:Pe,259:226,260:Ie,261:je,262:229,263:Ne,264:Ce,267:ke,269:De,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue},e(ft,[2,255]),e(Nt,[2,69]),e(Nt,[2,70]),e(G,X,{63:152,73:153,21:422,74:$}),e(W,J,{62:160,66:161,24:423,67:K}),{45:[2,334],47:[2,71],88:433,89:a,117:[1,429],156:424,157:425,164:426,165:[1,427],166:[1,428],168:[1,430],171:[1,431],172:[1,432]},e(yt,[2,332],{163:434,307:[1,435]}),e(Ct,kt,{196:436,199:437,205:438,206:440,34:Dt}),e(Mt,[2,362],{199:437,205:438,206:440,198:441,196:442,13:kt,16:kt,35:kt,193:kt,214:kt,219:kt,291:kt,34:Dt}),{13:l,16:h,34:Z,35:gt,59:171,86:te,92:re,97:172,181:445,197:446,201:444,221:_t,223:443,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(Ct,kt,{199:437,205:438,206:440,196:447,34:Dt}),e(W,[2,23],{253:221,259:226,262:229,59:264,71:369,72:370,70:448,13:l,16:h,34:bt,35:vt,254:Oe,255:Ae,256:Re,258:Pe,260:Ie,261:je,263:Ne,264:Ce,267:ke,269:De,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue}),e(Ft,[2,252]),e(Ft,[2,24]),e(Ft,[2,25]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:449,214:D,252:M,313:F}),e(Ft,[2,28]),e(W,J,{62:160,66:161,24:450,67:K}),e([47,117,222,307],[2,94],{188:451,189:[1,452]}),e(wt,[2,96]),{13:l,16:h,34:Z,35:ee,59:171,86:te,92:re,97:172,181:291,183:292,195:453,221:ne,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(Lt,[2,121]),e(Et,[2,388]),e(Lt,[2,122]),e(et,[2,174]),e(N,[2,14]),e(ve,[2,136]),e(we,[2,138]),e(we,[2,141]),e(Se,[2,143]),e(Se,[2,144],{249:311,248:454,26:nt,310:it}),e(Se,[2,145],{249:311,248:455,26:nt,310:it}),e(Ee,[2,147]),e(rt,[2,344],{174:456}),e(rt,[2,343]),e([6,13,16,26,34,35,37,38,45,47,77,80,82,85,86,87,89,92,117,165,166,168,171,172,189,221,224,225,229,233,237,252,254,255,256,257,258,260,261,263,264,267,269,274,278,279,280,281,282,283,284,285,286,287,288,289,290,291,307,310,313,314,315,316,317,318,319,320,321,322,323,324],[2,157]),{38:[1,457]},{257:[1,458]},{257:[1,459]},e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:460,214:D,252:M,313:F}),{38:[1,461]},{38:[1,462]},e(ot,[2,167]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,266:463,36:465,26:[1,464],214:D,252:M,313:F}),e(xt,[2,425]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:466,214:D,252:M,313:F}),e(rt,[2,429]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:467,214:D,252:M,313:F}),e(rt,[2,431]),{35:[1,470],47:[1,468],99:469},e(H,[2,61]),{45:[1,471]},{45:[2,310]},{45:[2,311]},e(H,[2,55]),{13:l,16:h,59:472,291:d},e(g,[2,300]),e(H,[2,56]),e(dt,[2,35],{87:[1,473]}),e(dt,[2,36],{85:[1,474]}),e(Xe,[2,30],{253:221,259:226,262:229,81:261,71:262,72:263,59:264,83:420,79:475,13:l,16:h,34:Pt,35:xe,80:It,82:jt,254:Oe,255:Ae,256:Re,258:Pe,260:Ie,261:je,263:Ne,264:Ce,267:ke,269:De,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue}),e(qt,[2,256]),{35:xe,81:476},{35:xe,81:477},e(qt,[2,33]),e(qt,[2,34]),{31:478,47:[2,218],88:479,89:a},{32:480,47:[2,220],88:481,89:a},e(yt,[2,325]),e(Bt,[2,326],{158:482,307:[1,483]}),{45:Y,61:484},{45:Y,61:485},{45:Y,61:486},{13:l,16:h,34:[1,488],59:489,167:487,291:d},e(Ut,[2,338],{169:490,300:[1,491]}),{13:l,16:h,35:xe,59:264,71:262,72:263,81:261,83:492,253:221,254:Oe,255:Ae,256:Re,258:Pe,259:226,260:Ie,261:je,262:229,263:Ne,264:Ce,267:ke,269:De,291:d,319:Me,320:Fe,321:Le,322:qe,323:Be,324:Ue},{35:[1,493]},e(Ht,[2,81]),e(yt,[2,73]),e(R,[2,331],{45:zt,47:zt,89:zt,117:zt,165:zt,166:zt,168:zt,171:zt,172:zt}),e(Mt,[2,101]),e(R,[2,366],{200:494}),e(R,[2,364]),e(R,[2,365]),e(Ct,[2,374],{207:495,208:496}),e(Mt,[2,102]),e(Mt,[2,363]),{13:l,16:h,34:Z,35:gt,38:[1,497],59:171,86:te,92:re,97:172,181:445,197:446,201:498,221:_t,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(Et,[2,389]),e(Tt,[2,127]),e(Tt,[2,128]),{222:[1,499]},e(Ft,[2,253]),{37:[1,501],38:[1,500]},e(o,[2,16]),e(wt,[2,357]),e(wt,[2,358],{191:282,59:284,190:502,186:503,13:l,16:h,34:We,193:Je,291:d}),e(Vt,[2,100],{257:[1,504]}),e(Ee,[2,408]),e(Ee,[2,410]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:505,214:D,252:M,313:F}),e(ot,[2,160]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:506,214:D,252:M,313:F}),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:507,214:D,252:M,313:F}),{38:[1,508],257:[1,509]},e(ot,[2,164]),e(ot,[2,166]),{38:[1,510]},{38:[2,426]},{38:[2,427]},{38:[1,511]},{38:[2,432],189:[1,514],271:512,272:513},e(L,[2,42]),e(At,[2,265]),{13:l,16:h,59:333,86:te,96:516,97:334,98:ht,100:515,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(R,z,{150:144,146:517,149:518,47:[2,312]}),e(Q,[2,59]),{86:[1,519]},{86:[1,520]},e(qt,[2,257]),e(qt,[2,31]),e(qt,[2,32]),{47:[2,11]},{47:[2,219]},{47:[2,12]},{47:[2,221]},e(R,$e,{161:271,159:521,160:522,45:Qt,47:Qt,89:Qt,117:Qt,165:Qt,166:Qt,168:Qt,171:Qt,172:Qt}),e(Bt,[2,327]),e(Ht,[2,74],{308:[1,523]}),e(Ht,[2,75]),e(Ht,[2,76]),{45:Y,61:524},{45:[2,336]},{45:[2,337]},{13:l,16:h,34:[1,526],59:527,170:525,291:d},e(Ut,[2,339]),e(Ht,[2,79]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:528,214:D,252:M,313:F}),{13:l,16:h,34:Z,35:gt,59:171,86:te,92:re,97:172,181:445,197:446,201:529,221:_t,224:ie,225:se,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(Et,[2,106],{309:[1,530]}),e(Gt,[2,381],{209:531,213:532,219:[1,533]}),e(Ze,[2,123]),e(Et,[2,390]),e(Ze,[2,124]),e(Ft,[2,26]),{34:[1,534]},e(wt,[2,95]),e(wt,[2,359]),e(R,[2,361]),{38:[1,535],257:[1,536]},{38:[1,537]},{257:[1,538]},e(ot,[2,88]),e(rt,[2,347]),e(ot,[2,168]),e(ot,[2,169]),{38:[1,539]},{38:[2,433]},{273:[1,540]},{13:l,16:h,38:[1,541],59:333,86:te,96:542,97:334,98:ht,242:182,244:183,275:178,278:ae,279:oe,280:ue,281:ce,282:le,283:he,284:pe,285:de,286:fe,287:me,288:ye,289:ge,290:_e,291:d},e(Xt,[2,266]),{47:[1,543]},{47:[2,313]},e(dt,[2,37]),e(dt,[2,38]),e(yt,[2,72]),e(yt,[2,329]),{45:[2,335]},e(Ht,[2,77]),{45:Y,61:544},{45:[2,340]},{45:[2,341]},{37:[1,545]},e(Vt,[2,368],{202:546,257:[1,547]}),e(Ct,[2,373]),e([13,16,34,35,38,86,92,221,224,225,278,279,280,281,282,283,284,285,286,287,288,289,290,291,309],[2,107],{310:[1,548]}),{13:l,16:h,35:[1,554],59:551,193:[1,552],210:549,211:550,214:[1,553],291:d},e(Gt,[2,382]),{38:[1,555]},e(ot,[2,86]),e(rt,[2,345]),e(ot,[2,161]),e(C,k,{226:115,230:116,234:117,238:118,246:119,250:120,36:556,214:D,252:M,313:F}),e(ot,[2,170]),{274:[1,557]},e(At,[2,46]),e(Xt,[2,267]),e($t,[2,314],{147:558,307:[1,559]}),e(Ht,[2,78]),{34:[1,560]},e([45,47,89,117,165,166,168,171,172,222,307],[2,103],{203:561,189:[1,562]}),e(R,[2,367]),e(Ct,[2,375]),e(Yt,[2,109]),e(Yt,[2,379],{212:563,311:564,26:[1,566],312:[1,565],313:[1,567]}),e(Wt,[2,110]),e(Wt,[2,111]),{13:l,16:h,35:[1,571],59:572,92:[1,570],193:Jt,215:568,216:569,219:Kt,291:d},e(Ct,kt,{206:440,205:575}),e(Ft,[2,27]),{38:[1,576]},{275:577,281:ce,282:le,283:he,284:pe},e(R,z,{150:144,148:578,149:579,47:Zt,117:Zt}),e($t,[2,315]),{38:[1,580]},e(Vt,[2,369]),e(Vt,[2,104],{206:440,204:581,205:582,13:kt,16:kt,35:kt,193:kt,214:kt,219:kt,291:kt,34:[1,583]}),e(Yt,[2,108]),e(Yt,[2,380]),e(Yt,[2,376]),e(Yt,[2,377]),e(Yt,[2,378]),e(Wt,[2,112]),e(Wt,[2,114]),e(Wt,[2,115]),e(er,[2,383],{217:584}),e(Wt,[2,117]),e(Wt,[2,118]),{13:l,16:h,59:585,193:[1,586],291:d},{38:[1,587]},e(ot,[2,162]),{38:[2,171]},e(Ge,[2,67]),e(Ge,[2,317]),e(Ht,[2,80]),e(R,St,{194:376,192:588}),e(R,[2,370]),e(R,[2,371]),{13:l,16:h,38:[2,385],59:572,193:Jt,216:590,218:589,219:Kt,291:d},e(Wt,[2,119]),e(Wt,[2,120]),e(Wt,[2,113]),e(Vt,[2,105]),{38:[1,591]},{38:[2,386],309:[1,592]},e(Wt,[2,116]),e(er,[2,384])],defaultActions:{5:[2,196],6:[2,197],8:[2,195],26:[2,1],27:[2,3],28:[2,207],77:[2,47],86:[2,286],100:[2,243],107:[2,349],210:[2,402],238:[2,423],277:[2,227],278:[2,90],408:[2,310],409:[2,311],464:[2,426],465:[2,427],478:[2,11],479:[2,219],480:[2,12],481:[2,221],488:[2,336],489:[2,337],513:[2,433],518:[2,313],523:[2,335],526:[2,340],527:[2,341],577:[2,171]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],s=this.table,a="",o=0,u=0,c=0,l=2,h=1,p=i.slice.call(arguments,1),d=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);d.setInput(e,f.yy),f.yy.lexer=d,f.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var g=d.options&&d.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,b,v,w,S,E,T,x,O,A=function(){var e;return"number"!=typeof(e=d.lex()||h)&&(e=t.symbols_[e]||e),e},R={};;){if(v=r[r.length-1],this.defaultActions[v]?w=this.defaultActions[v]:(null==_&&(_=A()),w=s[v]&&s[v][_]),void 0===w||!w.length||!w[0]){var P="";for(E in O=[],s[v])this.terminals_[E]&&E>l&&O.push("'"+this.terminals_[E]+"'");P=d.showPosition?"Parse error on line "+(o+1)+":\n"+d.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(o+1)+": Unexpected "+(_==h?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(P,{text:d.match,token:this.terminals_[_]||_,line:d.yylineno,loc:y,expected:O})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+_);switch(w[0]){case 1:r.push(_),n.push(d.yytext),i.push(d.yylloc),r.push(w[1]),_=null,b?(_=b,b=null):(u=d.yyleng,a=d.yytext,o=d.yylineno,y=d.yylloc,c>0&&c--);break;case 2:if(T=this.productions_[w[1]][1],R.$=n[n.length-T],R._$={first_line:i[i.length-(T||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(T||1)].first_column,last_column:i[i.length-1].last_column},g&&(R._$.range=[i[i.length-(T||1)].range[0],i[i.length-1].range[1]]),void 0!==(S=this.performAction.apply(R,[a,u,o,f.yy,w[1],n,i].concat(p))))return S;T&&(r=r.slice(0,-1*T*2),n=n.slice(0,-1*T),i=i.slice(0,-1*T)),r.push(this.productions_[w[1]][0]),n.push(R.$),i.push(R._$),x=s[r[r.length-2]][r[r.length-1]],r.push(x);break;case 3:return!0}}return!0}},rr=r(130).Wildcard,nr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ir=nr+"type",sr=nr+"first",ar=nr+"rest",or=nr+"nil",ur="http://www.w3.org/2001/XMLSchema#",cr=ur+"integer",lr=ur+"decimal",hr=ur+"double",pr=ur+"boolean",dr="",fr="",mr="";function yr(e){return e.toLowerCase()}function gr(e,t){return e.push(t),e}function _r(e,t){return e.push.apply(e,t),e}function br(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var i in t)e[i]=t[i];return e}function vr(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function wr(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z]+:/.test(e))return e;if(!Br.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(dr||(dr=Br.base,fr=dr.replace(/[^\/:]*$/,""),mr=dr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return dr;case"#":return dr+e;case"?":return dr.replace(/(?:\?.*)?$/,e);case"/":return mr+e;default:return fr+e}}function Sr(e){if(e){var t=e[0];if("?"===t||"$"===t)return Br.factory.variable(e.substr(1))}return e}function Er(e,t){return{type:"operation",operator:e,args:t||[]}}function Tr(e,t){var r={expression:"*"===e?new rr:e};if(t)for(var n in t)r[n]=t[n];return r}function xr(e,t){return{type:"path",pathType:e,items:t}}function Or(e,t){for(var r,n=0,i=t.length;n<i&&(r=t[n]);n++)e=Er(r[0],[e,r[1]]);return e}function Ar(e,t){var r,n=[],i=[],s=e.length,a={};if(!s)return null;for(var o=0;o<s&&(r=e[o]);o++)(r.named?i:n).push(r.iri);return a[t||"from"]={default:n,named:i},a}function Rr(e){return parseInt(e,10)}function Pr(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function Ir(e,t){return t&&"NamedNode"!==t.termType&&(t=Br.factory.namedNode(t)),Br.factory.literal(e,t)}function jr(e,t,r){var n={};return null!=e&&(n.subject=e),null!=t&&(n.predicate=t),null!=r&&(n.object=r),n}function Nr(e){return"string"==typeof e?e.startsWith("e_")?Br.factory.blankNode(e):Br.factory.blankNode("e_"+e):Br.factory.blankNode("g_"+Cr++)}var Cr=0;Br._resetBlanks=function(){Cr=0};var kr=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Dr={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Mr=String.fromCharCode;function Fr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(kr,(function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return Mr(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<65535?Mr(i):Mr(55296+((i-=65536)>>10),56320+(1023&i))}var s=Dr[n];if(!s)throw new Error;return s}))}catch(e){return""}return e}function Lr(e,t,r){var n=[],i=[];return t.forEach((function(t){n.push(jr(null,e,t.entity)),_r(i,t.triples)})),vr(n,r||[],i)}var qr={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var s in i)this[s]=i[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length;s++)if((r=this._input.match(this.rules[i[s]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=s,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[s])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 295;case 5:return 296;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 40;case 11:return 44;case 12:return 45;case 13:return 47;case 14:return 49;case 15:return 54;case 16:return 57;case 17:return 299;case 18:return 67;case 19:return 68;case 20:return 74;case 21:return 77;case 22:return 80;case 23:return 82;case 24:return 85;case 25:return 87;case 26:return 89;case 27:return 189;case 28:return 105;case 29:return 300;case 30:return 138;case 31:return 301;case 32:return 302;case 33:return 115;case 34:return 303;case 35:return 114;case 36:return 304;case 37:return 305;case 38:return 118;case 39:return 120;case 40:return 121;case 41:return 136;case 42:return 130;case 43:return 131;case 44:return 133;case 45:return 139;case 46:return 117;case 47:return 306;case 48:return 307;case 49:return 165;case 50:return 168;case 51:return 172;case 52:return 98;case 53:return 166;case 54:return 308;case 55:return 171;case 56:return 257;case 57:return 193;case 58:return 309;case 59:return 310;case 60:return 219;case 61:return 312;case 62:return 313;case 63:return 214;case 64:return 221;case 65:return 222;case 66:return 229;case 67:return 233;case 68:return 274;case 69:return 314;case 70:return 315;case 71:return 316;case 72:return 317;case 73:return 318;case 74:return 237;case 75:return 319;case 76:return 252;case 77:return 260;case 78:return 261;case 79:return 254;case 80:return 255;case 81:return 256;case 82:return 320;case 83:return 321;case 84:return 258;case 85:return 323;case 86:return 322;case 87:return 324;case 88:return 263;case 89:return 264;case 90:return 267;case 91:return 269;case 92:return 273;case 93:return 277;case 94:return 280;case 95:return 13;case 96:return 16;case 97:return 291;case 98:return 224;case 99:return 34;case 100:return 276;case 101:return 86;case 102:return 278;case 103:return 279;case 104:return 285;case 105:return 286;case 106:return 287;case 107:return 288;case 108:return 289;case 109:return 290;case 110:return"EXPONENT";case 111:return 281;case 112:return 282;case 113:return 283;case 114:return 284;case 115:return 92;case 116:return 225;case 117:return 6;case 118:return"INVALID";case 119:console.log(t.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT\s+DATA)/i,/^(?:DELETE\s+DATA)/i,/^(?:DELETE\s+WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<([^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?))/i,/^(?:([\?\$]((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(([^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*'))/i,/^(?:("(([^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*"))/i,/^(?:('''(('|'')?([^'\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*'''))/i,/^(?:("""(("|"")?([^\"\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119],inclusive:!0}}};function Br(){this.yy={}}return tr.lexer=qr,Br.prototype=tr,tr.Parser=Br,new Br}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var i=r(306).readFileSync(r(307).normalize(n[1]),"utf8");return t.parser.parse(i)},r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(this,r(11),r(49)(e))},function(e,t){},function(e,t){},function(e,t){function r(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var i=t[n];o(i)&&(this._prefixByIri[i]=n,r.push(i))}var s=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._indent=o(e.indent)?e.indent:"  ",this._newline=o(e.newline)?e.newline:"\n"}r.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=c(e.variables,void 0,(function(e){return u(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+a(e.variable)+")"}),this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=c(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+c(e.group,void 0,(function(e){var t=o(e.expression)?e.expression:"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+a(e.variable)+")":t}),this)+this._newline),e.having&&(t+="HAVING ("+c(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+c(e.order,void 0,(function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t}),this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),(t=this.baseAndPrefixes(e)+t).trim()},r.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},r.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},r.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},r.prototype.array=function(e){return c(e,this._newline,this.toPattern,this)},r.prototype.bgp=function(e){return this.encodeTriples(e.triples)},r.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r="",n="",i=0;i<e.length;i++){var s=e[i];s.subject!==r?(r&&t.push("."+this._newline),r=s.subject,n=s.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))):s.predicate!==n?(n=s.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):t.push(","),t.push(" ",this.toEntity(s.object))}return t.push("."),t.join("")},r.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},r.prototype.graphs=function(e,t){return t&&0!==t.length?c(t,"",(function(t){return e+this.toEntity(t)+this._newline}),this):""},r.prototype.group=function(e,t){return-1===(e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns)).indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},r.prototype.query=function(e){return this.toQuery(e)},r.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},r.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+a(e.variable)+")"},r.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},r.prototype.union=function(e){return c(e.patterns,this._newline+"UNION"+this._newline,(function(e){return this.group(e,!0)}),this)},r.prototype.minus=function(e){return"MINUS "+this.group(e)},r.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce((function(e,t){for(var r in t)e[r]=!0;return e}),{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+c(e.values,this._newline,(function(e){return"  "+t+c(n,void 0,(function(t){return e[t]?this.toEntity(e[t]):"UNDEF"}),this)+r}),this)+this._newline+"}"},r.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},r.prototype.toExpression=function(e){if(u(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(e.separator?'; SEPARATOR = "'+e.separator.replace(n,i)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+c(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),r=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(u(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+t+" "+(u(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(r[0])+" "+t+"("+(o(r[1])?r[1]:c(r[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(r[0],!0);default:return t+"("+c(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},r.prototype.toEntity=function(e){if(u(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return a(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",r=e.language||"",s=e.datatype;if(e='"'+t.replace(n,i)+'"',r)e+="@"+r;else if(s){if("http://www.w3.org/2001/XMLSchema#integer"===s.value&&/^\d+$/.test(t))return t+" ";e+="^^"+this.encodeIRI(s.value)}return e;default:return this.encodeIRI(e.value)}else{var o=e.items.map(this.toEntity,this),c=e.pathType;switch(c){case"^":case"!":return c+o[0];case"*":case"+":case"?":return"("+o[0]+c+")";default:return"("+o.join(c)+")"}}};var n=/["\\\t\n\r\b\f]/g,i=function(e){return s[e]},s={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function a(e){return"?"+e.value}function o(e){return"string"==typeof e}function u(e){return!!e.termType}function c(e,t,r,n){return e.map(r,n).join(o(t)?t:" ")}r.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},r.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+(e.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},r.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports=function(e={}){return{stringify:function(t){Object.create(e);return e.prefixes=t.prefixes,new r(e).toQuery(t)}}}},function(e,t,r){"use strict";var n=Array.isArray,i=Object.keys,s=Object.prototype.hasOwnProperty;e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var a,o,u,c=n(t),l=n(r);if(c&&l){if((o=t.length)!=r.length)return!1;for(a=o;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(c!=l)return!1;var h=t instanceof Date,p=r instanceof Date;if(h!=p)return!1;if(h&&p)return t.getTime()==r.getTime();var d=t instanceof RegExp,f=r instanceof RegExp;if(d!=f)return!1;if(d&&f)return t.toString()==r.toString();var m=i(t);if((o=m.length)!==i(r).length)return!1;for(a=o;0!=a--;)if(!s.call(r,m[a]))return!1;for(a=o;0!=a--;)if(!e(t[u=m[a]],r[u]))return!1;return!0}return t!=t&&r!=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(51),i=r(52),s=r(69),a=r(5),o=r(32).Generator,u=r(32).Wildcard,c=n.types,l=n.expressionTypes;let h;const p=new i.default;function d(e){m();let t=y(e=function(e){return function e(t,r){if(Array.isArray(t))return t.map(t=>e(t,r));if(!t.type)return t;if((t.type===c.PATTERN||t.type===c.PATH)&&t.graph)return r[t.graph.value]||(r[t.graph.value]={graph:t.graph,values:[]}),r[t.graph.value].values.push(t),t;const n={},i={},s={};for(let r of Object.keys(t)){const a={};n[r]=e(t[r],a);const o=Object.keys(a);if(o.length>1){let e=T(a[o[0]].values);for(let t=1;t<o.length;++t){const r=T(a[o[t]].values);e=p.createJoin(e,r)}return o.map(e=>delete a[e]),e}if(1===o.length){const e=a[o[0]].graph;i[r]=e,s[e.value]=e}}const a=Object.keys(s);if(a.length>0)if(1===a.length&&t.type!==c.PROJECT)r[a[0]]={graph:s[a[0]],values:[n]};else for(let e of Object.keys(i))i[e].value.length>0&&(n[e]=p.createGraph(n[e],i[e]));return n}(e,{})}(e));return"group"===t.type?t.patterns[0]:t}function f(e){return Array.prototype.concat(...e).filter(e=>e)}function m(){h={project:!1,extend:[],group:[],aggregates:[],order:[]}}function y(e){switch(e.type!==c.EXTEND&&e.type!==c.ORDER_BY&&(h.project=!1),e.type){case c.EXPRESSION:return g(e);case c.ASK:return E(e,c.ASK);case c.BGP:return function(e){let t=e.patterns.map(w);return 0===t.length?null:{type:"bgp",triples:t}}(e);case c.CONSTRUCT:return function(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(w),where:f([y(e.input)])}}(e);case c.DESCRIBE:return E(e,c.DESCRIBE);case c.DISTINCT:return function(e){let t=y(e.input);return t.patterns[0].distinct=!0,t}(e);case c.EXTEND:return function(e){if(h.project)return h.extend.push(e),y(e.input);return f([y(e.input),{type:"bind",variable:e.variable,expression:g(e.expression)}])}(e);case c.FROM:return function(e){let t=y(e.input);return t.patterns[0].from={default:e.default,named:e.named},t}(e);case c.FILTER:return function(e){return{type:"group",patterns:f([y(e.input),{type:"filter",expression:g(e.expression)}])}}(e);case c.GRAPH:return function(e){return{type:"graph",patterns:f([y(e.input)]),name:e.name}}(e);case c.GROUP:return function(e){let t=y(e.input),r=e.aggregates.map(v);return h.aggregates.push(...r),h.group.push(...e.variables),t}(e);case c.JOIN:return function(e){return f([y(e.left),y(e.right)])}(e);case c.LEFT_JOIN:return function(e){let t={type:"optional",patterns:[y(e.right)]};e.expression&&t.patterns.push({type:"filter",expression:g(e.expression)});return t.patterns=f(t.patterns),f([y(e.left),t])}(e);case c.MINUS:return function(e){let t=y(e.right);"group"===t.type&&(t=t.patterns);return f([y(e.left),{type:"minus",patterns:t}])}(e);case c.ORDER_BY:return function(e){return h.order.push(...e.expressions),y(e.input)}(e);case c.PATH:return function(e){return{type:"bgp",triples:[{subject:e.subject,predicate:_(e.predicate),object:e.object}]}}(e);case c.PATTERN:return w(e);case c.PROJECT:return E(e,c.PROJECT);case c.REDUCED:return function(e){let t=y(e.input);return t.patterns[0].reduced=!0,t}(e);case c.SERVICE:return function(e){let t=y(e.input);"group"===t.type&&(t=t.patterns);Array.isArray(t)||(t=[t]);return{type:"service",name:e.name,silent:e.silent,patterns:t}}(e);case c.SLICE:return function(e){let t=y(e.input),r=t.patterns[0];0!==e.start&&(r.offset=e.start);void 0!==e.length&&(r.limit=e.length);return t}(e);case c.UNION:return function(e){return{type:"union",patterns:f([y(e.left),y(e.right)])}}(e);case c.VALUES:return function(e){return{type:"values",values:e.bindings.map(t=>{let r={};for(let n of e.variables){let e="?"+n.value;t[e]?r[e]=t[e]:r[e]=void 0}return r})}}(e)}throw new Error("Unknown Operation type "+e.type)}function g(e){switch(e.expressionType){case l.AGGREGATE:return function(e){let t={expression:g(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};e.separator&&(t.separator=e.separator);return t}(e);case l.EXISTENCE:return function(e){return{type:"operation",operator:e.not?"notexists":"exists",args:f([y(e.input)])}}(e);case l.NAMED:return function(e){return{type:"functionCall",function:e.name,args:e.args.map(g)}}(e);case l.OPERATOR:return function(e){if("desc"===e.operator){let t={expression:g(e.args[0]),descending:!0};return t}let t={type:"operation",operator:e.operator,args:e.args.map(g)};"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)]));return t}(e);case l.TERM:return function(e){return e.term}(e);case l.WILDCARD:return function(e){return e.wildcard}(e)}throw new Error("Unknown Expression Operation type "+e.expressionType)}function _(e){switch(e.type){case c.ALT:return function(e){let t=_(e.left),r=_(e.right);if("!"===t.pathType&&"!"===r.pathType)return{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]};return{type:"path",pathType:"|",items:[t,r]}}(e);case c.INV:return function(e){if(e.path.type===c.NPS){let t=e.path.iris.map(e=>({type:"path",pathType:"^",items:[e]}));return t.length<=1?{type:"path",pathType:"!",items:t}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t}]}}return{type:"path",pathType:"^",items:[_(e.path)]}}(e);case c.LINK:return function(e){return e.iri}(e);case c.NPS:return function(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}(e);case c.ONE_OR_MORE_PATH:return function(e){return{type:"path",pathType:"+",items:[_(e.path)]}}(e);case c.SEQ:return function(e){return{type:"path",pathType:"/",items:[_(e.left),_(e.right)]}}(e);case c.ZERO_OR_MORE_PATH:return function(e){return{type:"path",pathType:"*",items:[_(e.path)]}}(e);case c.ZERO_OR_ONE_PATH:return function(e){return{type:"path",pathType:"?",items:[_(e.path)]}}(e)}throw new Error("Unknown Path type "+e.type)}function b(e){return a.termToString(e)}function v(e){return e}function w(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function S(e,t){let r=s.default.isTerm(e)?b(e):e;if("string"==typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map(e=>S(e,t));else for(let r of Object.keys(e))e[r]=S(e[r],t);return e}function E(e,t){let r={type:"query",prefixes:{}};t===c.PROJECT?(r.queryType="SELECT",r.variables=e.variables):t===c.ASK?r.queryType="ASK":t===c.DESCRIBE&&(r.queryType="DESCRIBE",r.variables=e.terms);let n=h.extend,i=h.group,a=h.aggregates,o=h.order;m(),h.project=!0;let l=f([y(e.input)]);1===l.length&&"group"===l[0].type&&(l=l[0].patterns),r.where=l;let p={};for(let e of h.aggregates)p[b(e.variable)]=g(e);let d={};for(let e=h.extend.length-1;e>=0;--e){let t=h.extend[e];d[b(t.variable)]=S(g(t.expression),p)}if(h.group.length>0&&(r.group=h.group.map(e=>{let t=b(e);if(d[t]){let r=d[t];return delete d[t],{variable:e,expression:r}}return{expression:e}})),h.order.length>0&&(r.order=h.order.map(y).map(e=>e.descending?e:{expression:e})),r.variables&&(r.variables=r.variables.map(e=>{let t=b(e);return d[t]?{variable:e,expression:d[t]}:e}),0===r.variables.length&&(r.variables=[new u])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){let e=r.where[r.where.length-1];(function e(t,r){return s.default.isTerm(t)?r.indexOf(b(t))>=0:Array.isArray(t)?t.some(t=>e(t,r)):t===Object(t)?Object.keys(t).some(n=>e(t[n],r)):r.indexOf(t)>=0})(e,Object.keys(p))&&(r.having=f([S(e.expression,p)]),r.where.splice(-1))}return h.extend=n,h.group=i,h.aggregates=a,h.order=o,r={type:"group",patterns:[r]},r}function T(e){const t=p.createBgp(e),r=e[0].graph;return 0===r.value.length?t:p.createGraph(t,r)}t.toSparql=function(e){return(new o).stringify(d(e))},t.toSparqlJs=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(132),i=r(8),s=r(32);class a extends n.ActorSparqlParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){if(e.queryFormat&&"sparql"!==e.queryFormat)throw new Error("This actor can only parse SPARQL queries");return!0}async run(e){const t=new s.Parser({prefixes:this.prefixes,baseIRI:e.baseIRI});t._resetBlanks();const r=t.parse(e.query);return{baseIRI:"query"===r.type?r.base:null,operation:i.translate(r,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:e.baseIRI})}}}t.ActorSparqlParseAlgebra=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorSparqlParse=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Mediator{constructor(e){super(e)}async mediate(e){const t=[];let r;try{r=this.publish(e)}catch(e){r=[]}for(const e of r)try{await e.reply,t.push(e.actor)}catch(e){}return await Promise.all(t.map(t=>t.runObservable(e))),null}async mediateWith(e,t){return null}}t.MediatorAll=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(135);class i extends n.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return!0}async run(e){for(const t of this.invalidateListeners)t(e);return!0}}t.ActorHttpInvalidateListenable=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(137),i=r(1);class s extends n.ActorRdfMetadata{constructor(e){super(e)}async test(e){if(e.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(e){const t=new i.Readable({objectMode:!0}),r=new i.Readable({objectMode:!0}),n=()=>{t._read=r._read=()=>{},e.quads.on("error",e=>{t.emit("error",e),r.emit("error",e)});const n={};let i=null;const s={};e.quads.on("data",t=>{"http://rdfs.org/ns/void#subset"===t.predicate.value&&t.object.value===e.url?i=t.subject.value:"http://xmlns.com/foaf/0.1/primaryTopic"===t.predicate.value&&(s[t.object.value]=t.subject.value);let r=n[t.graph.value];r||(r=n[t.graph.value]=[]),r.push(t)}),e.quads.on("end",()=>{const e=i?s[i]:null;for(const i in n)if(i===e){for(const e of n[i])r.push(e);if(this.metadataToData)for(const e of n[i])t.push(e)}else{for(const e of n[i])t.push(e);if(!e&&this.dataToMetadataOnInvalidMetadataGraph)for(const e of n[i])r.push(e)}t.push(null),r.push(null)})};return t._read=r._read=()=>{n()},{data:t,metadata:r}}}t.ActorRdfMetadataPrimaryTopic=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(138);class s extends i.ActorRdfMetadata{constructor(e){super(e)}async run(e){const t=new n.Readable({objectMode:!0}),r=new n.Readable({objectMode:!0}),i=()=>{t._read=r._read=()=>{},e.quads.on("error",e=>{t.emit("error",e),r.emit("error",e)});const n={};e.quads.on("data",i=>{this.isMetadata(i,e.url,n)?r.push(i):t.push(i)}),e.quads.on("end",()=>{t.push(null),r.push(null)})};return t._read=r._read=()=>{i()},{data:t,metadata:r}}}t.ActorRdfMetadataQuadPredicate=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(137),i=r(1);class s extends n.ActorRdfMetadata{constructor(e){super(e)}async test(e){return!0}async run(e){const t=new i.Readable({objectMode:!0}),r=new i.Readable({objectMode:!0});return t._read=r._read=()=>{t._read=r._read=()=>{},e.quads.on("error",e=>{t.emit("error",e),r.emit("error",e)}),e.quads.on("data",e=>{t.push(e),r.push(e)}),e.quads.on("end",()=>{t.push(null),r.push(null)})},{data:t,metadata:r}}}t.ActorRdfMetadataAll=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(319);class i extends n.ActorRdfResolveHypermediaLinks{constructor(e){super(e)}async test(e){if(!e.metadata.next)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(e){return{urls:[e.metadata.next]}}}t.ActorRdfResolveHypermediaLinksNext=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(320))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfResolveHypermediaLinks=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(4);class s extends n.ActorQueryOperationTyped{constructor(e){super(e,"bgp")}async testOperation(e,t){if(0!==e.patterns.length)throw new Error("Actor "+this.name+" can only operate on empty BGPs.");return!0}async runOperation(e,t){return{bindingsStream:new i.SingletonIterator(n.Bindings({})),metadata:()=>Promise.resolve({totalItems:1}),type:"bindings",variables:[]}}}t.ActorQueryOperationBgpEmpty=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(143);class i extends n.ActorQueryOperationTyped{constructor(e,t){super(e,t)}}t.ActorQueryOperationTypedMediated=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19);function i(e){return n.Map(e)}function s(e){return n.Map.isMap(e)}t.Bindings=i,t.isBindings=s,t.ensureBindings=function(e){return s(e)?e:i(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(4),s=r(5);class a extends n.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,t){return!0}async runOperation(e,t){return{type:"bindings",bindingsStream:new i.ArrayIterator(e.bindings.map(n.Bindings)),metadata:()=>Promise.resolve({totalItems:e.bindings.length}),variables:e.variables.map(s.termToString)}}}t.ActorQueryOperationValues=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(326),s=r(327),a=r(341);class o extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){let n;if("application/ld+json"!==t&&e.headers&&e.headers.has("Link")){const t=i.parse(e.headers.get("Link"));for(const r of t.get("rel","http://www.w3.org/ns/json-ld#context"))if("application/ld+json"===r.type){if(n)throw new Error("Multiple JSON-LD context link headers were found on "+e.baseIRI);n=r.uri}}return{quads:new s.JsonLdParser({allowOutOfOrderContext:!0,baseIRI:e.baseIRI,context:n,documentLoader:new a.DocumentLoaderMediated(this.mediatorHttp,r)}).import(e.input)}}}t.ActorRdfParseJsonLd=o},function(e,t,r){"use strict";(function(t){var r=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i=/\s|\uFEFF|\xA0/,s=/\r?\n[\x20\x09]+/g,a=/[;,"]/,o=/[;,"]|\s/,u={IDLE:1,URI:2,ATTR:4};function c(e){return e.replace(n,"")}function l(e){return i.test(e)}function h(e,t){for(;l(e[t]);)t++;return t}function p(e){return o.test(e)}class d{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=0;r<this.refs.length;r++)this.refs[r].rel===e&&t.push(this.refs[r]);return t}get(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t){e=c(e=(t=t||0)?e.slice(t):e).replace(s,"");for(var r=u.IDLE,n=e.length,i=(t=0,null);t<n;)if(r===u.IDLE){if(l(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(-1===(f=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);i={uri:e.slice(t+1,f)},this.refs.push(i),t=f,r=u.URI,t++}else if(r===u.URI){if(l(e[t])){t++;continue}if(";"===e[t])r=u.ATTR,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=u.IDLE,t++}}else{if(r!==u.ATTR)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||l(e[t])){t++;continue}if(-1===(f=e.indexOf("=",t)))throw new Error("Expected attribute delimiter at offset "+t);var o=c(e.slice(t,f)).toLowerCase(),p="";if('"'===e[t=h(e,t=f+1)])for(t++;t<n;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,p+=e[t],t++}else{for(var f=t+1;!a.test(e[f])&&f<n;)f++;p=e.slice(t,f),t=f}switch(i[o]&&d.isSingleOccurenceAttr(o)||("*"===o[o.length-1]?i[o]=d.parseExtendedValue(p):(p="rel"===o||"type"===o?p.toLowerCase():p,null!=i[o]?Array.isArray(i[o])?i[o].push(p):i[o]=[i[o],p]:i[o]=p)),e[t]){case",":r=u.IDLE;break;case";":r=u.ATTR}t++}return i=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce((function(e,t){return"uri"===t?e:e+"; "+d.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}d.isCompatibleEncoding=function(e){return r.test(e)},d.parse=function(e,t){return(new d).parse(e,t)},d.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},d.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},d.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},d.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:d.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:d.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},d.formatExtendedAttribute=function(e,r){var n=(r.encoding||"utf-8").toUpperCase();return e+"="+n+"'"+(r.language||"en")+"'"+(t.isBuffer(r.value)&&d.isCompatibleEncoding(n)?r.value.toString(n):t.isBuffer(r.value)?r.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(r.value))},d.formatAttribute=function(e,t){return Array.isArray(t)?t.map(t=>d.formatAttribute(e,t)).join("; "):"*"===e[e.length-1]||"string"!=typeof t?d.formatExtendedAttribute(e,t):(d.isTokenAttr(e)?t=p(t)?'"'+d.escapeQuotes(t)+'"':d.escapeQuotes(t):p(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=d}).call(this,r(12).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(146))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(33);t.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}async validate(e,t,r,n,i){return this.test(e,t,null,r,n)}async test(e,t,r,n,i){return"number"==typeof n[i]}async handle(e,t,r,i,s,a){const o=await t.unaliasKeywordParent(i,a);if("@list"===o){let r,o=null;for(let e=a-2;e>0;e--){const t=i[e];if("string"==typeof t){r=e,o=t;break}}if("@list"===o||r!==a-2&&"number"==typeof i[a-2]&&"@list"===n.Util.getContextValueContainer(await e.getContext(i,r-a),o))throw new Error(`Lists of lists are not supported: '${o}'`);const u=await t.valueToTerm(await e.getContext(i),o,s,a,i);null!==o&&await this.handleListElement(e,t,u,a,i.slice(0,r),r,o,i)}else if("@set"===o)await e.newOnValueJob(i.slice(0,-2),s,a-2);else if(void 0!==o&&"@type"!==o){const r=await e.getContext(i.slice(0,-1));if("@list"===n.Util.getContextValueContainer(r,o)){const r=await t.valueToTerm(await e.getContext(i),o,s,a,i);await this.handleListElement(e,t,r,a,i.slice(0,-1),a-1,o,i)}else e.idStack[a+1]&&(e.idStack[a]=e.idStack[a+1],e.emittedStack[a]=!0),await e.newOnValueJob(i.slice(0,-1),s,a-1),e.contextTree.removeContext(i.slice(0,-1))}}async handleListElement(e,t,r,i,s,a,o,u){let c=e.listPointerStack[i];if(r){if(c&&c.term){const r=t.dataFactory.blankNode();e.emitQuad(i,t.dataFactory.quad(c.term,t.rdfRest,r,t.getDefaultGraph())),c.term=r}else{const r=t.dataFactory.blankNode(),i=await e.getContext(s),l=await t.predicateToTerm(i,o),h=n.Util.isPropertyReverse(i,o,u[a-1]);if(h&&!e.allowSubjectList)throw new Error(`Found illegal list value in subject position at ${o}`);e.getUnidentifiedValueBufferSafe(a).push({predicate:l,object:r,reverse:h}),c={term:r,initialPredicate:null,listRootDepth:a}}e.emitQuad(i,t.dataFactory.quad(c.term,t.rdfFirst,r,t.getDefaultGraph()))}else if(!c){c={term:null,initialPredicate:await t.predicateToTerm(await e.getContext(s),o),listRootDepth:a}}e.listPointerStack[i]=c}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(330),i=r(331),s=r(33);class a{isPropertyHandler(){return!1}async validate(e,t,r,n,i){return!!await this.test(e,t,null,r,n)}async test(e,t,r,n,i){return a.CONTAINER_HANDLERS[s.Util.getContextValueContainer(await e.getContext(n),n[i-1])]}async handle(e,t,r,n,i,s,a){return e.emittedStack[s]=!1,a.handle(e,n,i,s)}}a.CONTAINER_HANDLERS={"@index":new n.ContainerHandlerIndex,"@language":new i.ContainerHandlerLanguage},t.EntryHandlerContainer=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContainerHandlerIndex=class{async handle(e,t,r,n){await e.newOnValueJob(t,r,n-1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContainerHandlerLanguage=class{async handle(e,t,r,n){r=Array.isArray(r)?r.map(e=>({"@value":e,"@language":t[n]})):{"@value":r,"@language":t[n]},await e.newOnValueJob(t,r,n-1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}async validate(e,t,r,n,i){return!1}async test(e,t,r,n,i){return!0}async handle(e,t,r,n,i,s){e.emittedStack[s]=!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45);class i extends n.EntryHandlerKeyword{constructor(){super("@context")}async handle(e,t,r,n,i,s){!e.allowOutOfOrderContext&&e.processingStack[s]&&e.emitError(new Error("Found an out-of-order context, while support is not enabled.(enable with `allowOutOfOrderContext`)"));const a=e.getContext(n.slice(0,-1)),o=e.contextParser.parse(i,{baseIri:e.baseIRI,parentContext:await a});e.contextTree.setContext(n.slice(0,-1),o),e.emitContext(i),await e.validateContext(await o)}}t.EntryHandlerKeywordContext=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45);class i extends n.EntryHandlerKeyword{constructor(){super("@graph")}async handle(e,t,r,n,i,s){e.graphStack[s+1]=!0}}t.EntryHandlerKeywordGraph=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45);class i extends n.EntryHandlerKeyword{constructor(){super("@id")}async handle(e,t,r,n,i,s){void 0!==e.idStack[s]&&e.emitError(new Error(`Found duplicate @ids '${e.idStack[s].value}' and '${i}'`)),e.idStack[s]=await t.resourceToTerm(await e.getContext(n),i)}}t.EntryHandlerKeywordId=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(33),i=r(45),s=r(147);class a extends i.EntryHandlerKeyword{constructor(){super("@type")}async handle(e,t,r,i,a,o){const u=i[o],c=await t.unaliasKeywordParent(i,o),l=await e.getContext(i),h=t.rdfType,p=n.Util.isPropertyReverse(l,u,c);if(Array.isArray(a))for(const r of a){const n=t.createVocabOrBaseTerm(l,r);n&&await s.EntryHandlerPredicate.handlePredicateObject(e,t,i,o,c,h,n,p)}else{const r=t.createVocabOrBaseTerm(l,a);r&&await s.EntryHandlerPredicate.handlePredicateObject(e,t,i,o,c,h,r,p)}}}t.EntryHandlerKeywordType=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(33);class i{isPropertyHandler(){return!1}async validate(e,t,r,i,s){const a=await t.unaliasKeyword(r[i],r,i);return!!n.Util.isKeyword(a)&&!(!s&&"@list"===a)}async test(e,t,r,i,s){return n.Util.isKeyword(r)}async handle(e,t,r,n,s,a){const o=i.VALID_KEYWORDS_TYPES[r];void 0!==o?o&&typeof s!==o&&e.emitError(new Error(`Invalid value type for '${r}' with value '${s}'`)):e.errorOnInvalidProperties&&e.emitError(new Error(`Unknown keyword '${r}' with value '${s}'`)),e.emittedStack[a]=!1}}i.VALID_KEYWORDS_TYPES={"@index":"string","@list":null,"@reverse":"object","@set":null,"@value":null},t.EntryHandlerKeywordUnknownFallback=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45);class i extends n.EntryHandlerKeyword{constructor(){super("@value")}async handle(e,t,r,n,i,s){e.literalStack[s]=!0,delete e.unidentifiedValuesBuffer[s],delete e.unidentifiedGraphsBuffer[s],e.emittedStack[s]=!1}}t.EntryHandlerKeywordValue=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(340),s=r(146);t.ParsingContext=class{constructor(e){this.contextParser=new n.ContextParser({documentLoader:e.documentLoader}),this.allowOutOfOrderContext=e.allowOutOfOrderContext,this.baseIRI=e.baseIRI,this.produceGeneralizedRdf=e.produceGeneralizedRdf,this.allowSubjectList=e.allowSubjectList,this.processingMode=e.processingMode||s.JsonLdParser.DEFAULT_PROCESSING_MODE,this.errorOnInvalidProperties=e.errorOnInvalidIris,this.validateValueIndexes=e.validateValueIndexes,this.defaultGraph=e.defaultGraph,this.processingStack=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.listPointerStack=[],this.contextTree=new i.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.parser=e.parser,e.context?(this.rootContext=this.contextParser.parse(e.context,{baseIri:e.baseIRI}),this.rootContext.then(e=>this.validateContext(e))):this.rootContext=Promise.resolve(this.baseIRI?{"@base":this.baseIRI}:{}),this.topLevelProperties=!1}validateContext(e){const t=e["@version"];if(t&&parseFloat(t)>parseFloat(this.processingMode))throw new Error(`Unsupported JSON-LD processing mode: ${t}`)}getContext(e,t=1){return t&&(e=e.slice(0,-t)),this.contextTree.getContext(e)||this.rootContext}async newOnValueJob(e,t,r){await this.parser.newOnValueJob(e,t,r)}emitQuad(e,t){1===e&&(this.topLevelProperties=!0),this.parser.push(t)}emitError(e){this.parser.emit("error",e)}emitContext(e){this.parser.emit("context",e)}getUnidentifiedValueBufferSafe(e){let t=this.unidentifiedValuesBuffer[e];return t||(t=[],this.unidentifiedValuesBuffer[e]=t),t}getUnidentifiedGraphBufferSafe(e){let t=this.unidentifiedGraphsBuffer[e];return t||(t=[],this.unidentifiedGraphsBuffer[e]=t),t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.subTrees={}}getContext([e,...t]){if(e||t.length){const r=this.subTrees[e];return r&&r.getContext(t)||this.context}return this.context}setContext([e,...t],r){if(e||t.length){let i=this.subTrees[e];i||(i=this.subTrees[e]=new n),i.setContext(t,r)}else this.context=r}removeContext(e){this.setContext(e,null)}}t.ContextTree=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24),i=r(126);t.DocumentLoaderMediated=class{constructor(e,t){this.mediatorHttp=e,this.context=t}async load(e){const t=await this.mediatorHttp.mediate({input:e,init:{headers:new Headers({accept:"application/ld+json"})},context:this.context});if(t.ok)return JSON.parse(await i(n.ActorHttp.toNodeReadable(t.body)));throw new Error(`No valid context was found at ${e}: ${t.statusText}`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64),i=r(343);class s extends n.ActorRdfResolveHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){if(!e.forceSourceType&&!e.metadata.sparqlService)throw new Error(`Actor ${this.name} could not detect a SPARQL service description.`);return{filterFactor:1}}async run(e){return this.logInfo(e.context,`Identified as sparql source: ${e.url}`),{source:new i.RdfSourceSparql(e.metadata.sparqlService||e.url,e.context,this.mediatorHttp)}}}t.ActorRdfResolveHypermediaSparql=s},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(24),i=r(3),s=r(2),a=r(4),o=r(25),u=r(21),c=r(8),l=r(67);class h{constructor(e,t,r){this.url=e,this.context=t,this.mediatorHttp=r}static replaceBlankNodes(e){const t=u.getVariables(u.getTerms(e)).map(e=>e.value),r={};let n=!1;const i=u.mapTerms(e,e=>{if("BlankNode"===e.termType){let i=e.value;if(r[i])i=r[i];else{if(t.indexOf(i)>=0){let e=0;for(;t.indexOf(i+e)>=0;)++e;i+=e}r[e.value]=i,t.push(i)}return n=!0,s.variable(i)}return e});return n?i:e}static patternToBgp(e){return h.FACTORY.createBgp([h.FACTORY.createPattern(e.subject,e.predicate,e.object,e.graph)])}static patternToSelectQuery(e){const t=u.getVariables(u.getTerms(e));return c.toSparql(h.FACTORY.createProject(h.patternToBgp(e),t))}static patternToCountQuery(e){return c.toSparql(h.FACTORY.createProject(h.FACTORY.createExtend(h.FACTORY.createGroup(h.patternToBgp(e),[],[h.FACTORY.createBoundAggregate(s.variable("var0"),"count",h.FACTORY.createWildcardExpression(),!1)]),s.variable("count"),h.FACTORY.createTermExpression(s.variable("var0"))),[s.variable("count")]))}static materializeOptionalTerm(e,t){return e||s.variable(t)}async fetchBindingsStream(t,r,i){const s=t+"?query="+encodeURIComponent(r),a=new Headers;a.append("Accept","application/sparql-results+json");const o={context:i,input:s,init:{headers:a}},u=await this.mediatorHttp.mediate(o),c=n.ActorHttp.toNodeReadable(u.body);return u.ok||e(()=>c.emit("error",new Error(`Invalid SPARQL endpoint (${t}) response: ${u.statusText} (${u.status})`))),c}async queryBindings(e,t,r){const n=new a.BufferedIterator({autoStart:!1,maxBufferSize:1/0});let s=!1;const o=n._read;return n._read=(a,u)=>{s?o(a,u):(s=!0,this.fetchBindingsStream(e,t,r).then(e=>{const t=new l.SparqlJsonParser({prefixVariableQuestionMark:!0}).parseJsonResultsStream(e);e.on("error",e=>t.emit("error",e)),t.on("error",e=>n.emit("error",e)),t.on("data",e=>n._push(i.Bindings(e))),t.on("end",()=>{n.close()}),o(a,u)}))},n}match(e,t,r,n){if(e instanceof RegExp||t instanceof RegExp||r instanceof RegExp||n instanceof RegExp)throw new Error("RdfSourceSparql does not support matching by regular expressions.");const i=h.replaceBlankNodes(h.FACTORY.createPattern(h.materializeOptionalTerm(e,"s"),h.materializeOptionalTerm(t,"p"),h.materializeOptionalTerm(r,"o"),h.materializeOptionalTerm(n,"g"))),s=h.patternToCountQuery(i),a=h.patternToSelectQuery(i);this.queryBindings(this.url,s,this.context).then(e=>new Promise(t=>{e.on("data",e=>{const r=e.get("?count");if(r){const e=parseInt(r.value,10);return isNaN(e)?t({totalItems:1/0}):t({totalItems:e})}return t({totalItems:1/0})}),e.on("error",()=>t({totalItems:1/0})),e.on("end",()=>t({totalItems:1/0}))})).then(e=>c.emit("metadata",e));const c=new o.PromiseProxyIterator(async()=>(await this.queryBindings(this.url,a,this.context)).map(e=>u.mapTerms(i,t=>{if("Variable"===t.termType){const r=e.get("?"+t.value);return r||c.emit("error",new Error(`The endpoint ${this.url} failed to provide a binding for ${t.value}.`)),r}return t})));return c}}t.RdfSourceSparql=h,h.FACTORY=new c.Factory}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);class i extends n.TransformIterator{constructor(e,t){super(t||{autoStart:!1}),this.sourceGetter=e}async loadSource(){return this.source||(this.source=await this.sourceGetter()),this.source}_read(e,t){this.source?super._read(e,t):this.loadSource().then(r=>{super._read(e,t)}).catch(e=>this.emit("error",e))}}t.PromiseProxyIterator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);function i(e,t,r,n,i){return(!t||"Variable"===t.termType||e.subject.equals(t))&&(!r||"Variable"===r.termType||e.predicate.equals(r))&&(!n||"Variable"===n.termType||e.object.equals(n))&&(!i||"Variable"===i.termType||e.graph.equals(i))}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=function(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const i={};return e.forEach(e=>i[e.key]=e.value),t&&(i.subject=i.subject||t("subject"),i.predicate=i.predicate||t("predicate"),i.object=i.object||t("object"),i.graph=i.graph||t("graph")),(r||n).quad(i.subject,i.predicate,i.object,i.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.filterTerms=function(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r},t.filterQuadTermNames=function(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r},t.mapTerms=function(e,t,r){return(r||n).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.reduceTerms=function(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")},t.everyTerms=function(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")},t.matchPattern=i,t.matchPatternComplete=function(e,t){return i(e,t.subject,t.predicate,t.object,t.graph)}},function(e,t,r){"use strict";function n(e,t){return e.filter(e=>e.termType===t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph"],t.uniqTerms=function(e){return r(347)(e,(e,t)=>e.equals(t))},t.getTermsOfType=n,t.getNamedNodes=function(e){return n(e,"NamedNode")},t.getBlankNodes=function(e){return n(e,"BlankNode")},t.getLiterals=function(e){return n(e,"Literal")},t.getVariables=function(e){return n(e,"Variable")},t.getDefaultGraphs=function(e){return n(e,"DefaultGraph")}},function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i="[object Function]",s="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,o="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=o||u||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,s=r+(n?1:-1);for(;n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}(e,p,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function h(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function p(e){return e!=e}function d(e,t){return e.has(t)}function f(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var m,y=Array.prototype,g=Function.prototype,_=Object.prototype,b=c["__core-js_shared__"],v=(m=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",w=g.toString,S=_.hasOwnProperty,E=_.toString,T=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=y.splice,O=F(c,"Map"),A=F(c,"Set"),R=F(Object,"create");function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.__data__=new j;++t<r;)this.add(e[t])}function C(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function k(e){return!(!L(e)||(t=e,v&&v in t))&&(function(e){var t=L(e)?E.call(e):"";return t==i||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:a).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}P.prototype.clear=function(){this.__data__=R?R(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(R){var r=t[e];return r===n?void 0:r}return S.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return R?void 0!==t[e]:S.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=R&&void 0===t?n:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,r=C(t,e);return!(r<0)&&(r==t.length-1?t.pop():x.call(t,r,1),!0)},I.prototype.get=function(e){var t=this.__data__,r=C(t,e);return r<0?void 0:t[r][1]},I.prototype.has=function(e){return C(this.__data__,e)>-1},I.prototype.set=function(e,t){var r=this.__data__,n=C(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new P,map:new(O||I),string:new P}},j.prototype.delete=function(e){return M(this,e).delete(e)},j.prototype.get=function(e){return M(this,e).get(e)},j.prototype.has=function(e){return M(this,e).has(e)},j.prototype.set=function(e,t){return M(this,e).set(e,t),this},N.prototype.add=N.prototype.push=function(e){return this.__data__.set(e,n),this},N.prototype.has=function(e){return this.__data__.has(e)};var D=A&&1/f(new A([,-0]))[1]==1/0?function(e){return new A(e)}:function(){};function M(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function F(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return k(r)?r:void 0}function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,t){return e&&e.length?function(e,t,n){var i=-1,s=l,a=e.length,o=!0,u=[],c=u;if(n)o=!1,s=h;else if(a>=r){var p=t?null:D(e);if(p)return f(p);o=!1,s=d,c=new N}else c=t?[]:u;e:for(;++i<a;){var m=e[i],y=t?t(m):m;if(m=n||0!==m?m:0,o&&y==y){for(var g=c.length;g--;)if(c[g]===y)continue e;t&&c.push(y),u.push(m)}else s(c,y,n)||(c!==u&&c.push(y),u.push(m))}return u}(e,void 0,t):[]}}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(20),s=r(349),a=r(4),o=r(352),u=r(5),c=r(8);class l extends n.ActorQueryOperation{constructor(e){super(e),this.endpointFetcher=new o.SparqlEndpointFetcher({fetch:(e,t)=>this.mediatorHttp.mediate({input:e,init:t,context:this.lastContext}),prefixVariableQuestionMark:!0})}static patternToSelectQuery(e){if("project"===e.type)return e;const t=c.Util.inScopeVariables(e);return l.FACTORY.createProject(e,t)}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");const t=await s.DataSourceUtils.getSingleSource(e.context);if(t&&"sparql"===i.getDataSourceType(t))return{httpRequests:1};throw new Error(this.name+" requires a single source with a 'sparql' endpoint to be present in the context.")}async run(e){const t=i.getDataSourceValue(await s.DataSourceUtils.getSingleSource(e.context)),r=l.patternToSelectQuery(e.operation),o=c.toSparql(r),h=new a.BufferedIterator({autoStart:!1,maxBufferSize:1/0});return this.lastContext=e.context,this.endpointFetcher.fetchBindings(t,o).then(e=>{let t=0;e.on("error",e=>h.emit("error",e)),e.on("data",e=>{t++,h._push(n.Bindings(e))}),e.on("end",()=>{h.emit("metadata",{totalItems:t}),h.close()})}),{type:"bindings",metadata:l.cachifyMetadata(()=>new Promise((e,t)=>{h._fillBuffer(),h.on("error",t),h.on("end",()=>t(new Error("No metadata was found"))),h.on("metadata",e)})),bindingsStream:h,variables:r.variables.map(u.termToString)}}}t.ActorQueryOperationSparqlEndpoint=l,l.FACTORY=new c.Factory},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(350))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20);t.DataSourceUtils=class{static async getSingleSource(e){if(e&&e.has(n.KEY_CONTEXT_SOURCE))return e.get(n.KEY_CONTEXT_SOURCE);if(e&&e.has(n.KEY_CONTEXT_SOURCES)){const t=e.get(n.KEY_CONTEXT_SOURCES);if(t.isEnded()){const e=await r(351)(t.iterator());if(1===e.length)return e[0]}}return null}static async getSingleSourceType(e){const t=await this.getSingleSource(e);return t?n.getDataSourceType(t):null}static async singleSourceHasType(e,t){const r=await this.getSingleSourceType(e);return!!r&&r===t}}},function(e,t){e.exports=function(e){return new Promise((function(t,r){var n=[];e.on("data",(function(e){n.push(e)})),e.on("error",r),e.on("end",(function(){t(n)}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(353))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),r(39);const n=r(32),i=r(67),s=r(354),a=r(37),o=r(365),u=r(84).toNodeReadable;class c{constructor(e){e=e||{},this.fetchCb=e.fetch||fetch,this.sparqlJsonParser=new i.SparqlJsonParser(e),this.sparqlXmlParser=new s.SparqlXmlParser(e),this.sparqlParsers={[c.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:e=>this.sparqlJsonParser.parseJsonBooleanStream(e),parseResultsStream:e=>this.sparqlJsonParser.parseJsonResultsStream(e)},[c.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:e=>this.sparqlXmlParser.parseXmlBooleanStream(e),parseResultsStream:e=>this.sparqlXmlParser.parseXmlResultsStream(e)}}}getQueryType(e){const t=(new n.Parser).parse(e);return"query"===t.type?"DESCRIBE"===t.queryType?"CONSTRUCT":t.queryType:"UNKNOWN"}async fetchBindings(e,t){const[r,n]=await this.fetchRawStream(e,t,c.CONTENTTYPE_SPARQL),i=this.sparqlParsers[r];if(!i)throw new Error("Unknown SPARQL results content type: "+r);return i.parseResultsStream(n)}async fetchAsk(e,t){const[r,n]=await this.fetchRawStream(e,t,c.CONTENTTYPE_SPARQL),i=this.sparqlParsers[r];if(!i)throw new Error("Unknown SPARQL results content type: "+r);return i.parseBooleanStream(n)}async fetchTriples(e,t){return(await this.fetchRawStream(e,t,c.CONTENTTYPE_TURTLE))[1].pipe(new a.StreamParser({format:c.CONTENTTYPE_TURTLE}))}async fetchRawStream(t,r,n){const i=t+"?query="+encodeURIComponent(r),s=new Headers;s.append("Accept",n);const a=await this.fetchCb(i,{headers:s}),c=o(a.body)?a.body:u(a.body);let l=a.headers.get("Content-Type")||"";return l.indexOf(";")>0&&(l=l.substr(0,l.indexOf(";"))),a.ok||e(()=>c.emit("error",new Error("Invalid SPARQL endpoint ("+t+") response: "+a.statusText))),[l,c]}}c.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",c.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",c.CONTENTTYPE_SPARQL=`${c.CONTENTTYPE_SPARQL_JSON};q=1.0,${c.CONTENTTYPE_SPARQL_XML};q=0.7`,c.CONTENTTYPE_TURTLE="text/turtle",t.SparqlEndpointFetcher=c}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(355)),n(r(150))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(150),s=r(356);t.SparqlXmlParser=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||n,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){const t=[];e.pipe(s({strict:!0,tag:"variable"})).on("data",e=>t.push(this.dataFactory.variable(e.attribs.name))).on("error",()=>{}).on("finish",()=>r.emit("variables",t));const r=e.pipe(s({strict:!0,tag:"result"})).on("error",e=>r.emit("error",e)).pipe(new i.SparqlXmlBindingsTransformer(this));return e.on("error",e=>r.emit("error",e)),r}parseXmlBindings(e){const t={};if(e.children){const r=Array.isArray(e.children.binding)?e.children.binding:[e.children.binding];for(const e of r)if(e.attribs&&e.children){const r=e.attribs.name;let n=null;if(e.children.bnode)n=this.dataFactory.blankNode(e.children.bnode.value);else if(e.children.literal){const t=e.children.literal.value||"",r=e.children.literal.attribs;n=r&&r["xml:lang"]?this.dataFactory.literal(t,r["xml:lang"]):r&&r.datatype?this.dataFactory.literal(t,this.dataFactory.namedNode(r.datatype)):this.dataFactory.literal(t)}else n=this.dataFactory.namedNode(e.children.uri.value);t[this.prefixVariableQuestionMark?"?"+r:r]=n}}return t}parseXmlBooleanStream(e){return new Promise((t,r)=>{e.on("error",r),e.pipe(s({strict:!0,tag:"boolean"})).on("error",r).on("data",e=>t("true"===e.value)).on("end",()=>r(new Error("No valid ASK response was found.")))})}}},function(e,t,r){e.exports=r(357)},function(e,t,r){var n=r(1).Transform,i=r(358),s=r(95),a=r(361),o=r(362)("sax-stream");function u(e){if(!(this instanceof u))return new u(e);n.call(this,{highWaterMark:e.highWaterMark||350,objectMode:!0}),this.records=[],this.error=null,this.parser=this.createSaxParser(e)}e.exports=u,i.inherits(u,n),u.prototype.createSaxParser=function(e){var t,r=this,n=s.parser(e.strict||!1,function(e){return["trim","normalize","lowercase","xmlns","position","strictEntities","noscript"].reduce((function(t,r){return r in e&&(t[r]=e[r]),t}),{position:!1})}(e)),i=function(t){return t===e.tag},u=function(e,t){r.records.push(t)};return Array.isArray(e.tag)&&(i=function(t){return-1!==e.tag.indexOf(t)},u=function(e,t){r.records.push({tag:e,record:t})}),n.onopentag=function(e){o('Open "%s"',e.name),t?t=a.addChild(t,e.name):i(e.name)&&(t={}),t&&Object.keys(e.attributes).length&&(t.attribs=e.attributes)},n.onclosetag=function(e){o('Closed "%s"',e),i(e)&&!t.parent?(o("Emitting record",t),u(e,t),t=void 0):t&&(t=t.parent)},n.ontext=function(e){t&&a.addText(t,e)},n.oncdata=function(e){t&&a.concatText(t,e)},n.onerror=function(e){r.error=e},n.onend=function(){o("onend - flushing remaining items"),r.pushAll(r.callback),r.callback=null},n},u.prototype.pushAll=function(e){if(this.error)return e(this.error),void(this.error=null);o("pushing %d",this.records.length),this.records.forEach(this.push.bind(this)),this.records.length=0,e()},u.prototype._transform=function(e,t,r){this.parser.write(e.toString()),this.pushAll(r)},u.prototype._flush=function(e){this.callback=e,this.parser.close()}},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,s=n.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<s;u=n[++r])m(u)||!v(u)?a+=" "+u:a+=" "+o(u);return a},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var s,a={};function o(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=o.styles[t];return r?"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return g(i)||(i=l(e,i,n)),i}var s=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(s)return s;var a=Object.keys(r),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),S(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(r);if(0===a.length){if(E(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(S(r))return h(r)}var c,v="",T=!1,x=["{","}"];(d(r)&&(T=!0,x=["[","]"]),E(r))&&(v=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(v=" "+RegExp.prototype.toString.call(r)),w(r)&&(v=" "+Date.prototype.toUTCString.call(r)),S(r)&&(v=" "+h(r)),0!==a.length||T&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=T?function(e,t,r,n,i){for(var s=[],a=0,o=t.length;a<o;++a)R(t,String(a))?s.push(p(e,t,r,n,String(a),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(p(e,t,r,n,i,!0))})),s}(e,r,n,o,a):a.map((function(t){return p(e,r,n,o,t,T)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,v,x)):x[0]+v+x[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,s){var a,o,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),R(n,i)||(a="["+i+"]"),o||(e.seen.indexOf(u.value)<0?(o=m(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),_(a)){if(s&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function _(e){return void 0===e}function b(e){return v(e)&&"[object RegExp]"===T(e)}function v(e){return"object"==typeof e&&null!==e}function w(e){return v(e)&&"[object Date]"===T(e)}function S(e){return v(e)&&("[object Error]"===T(e)||e instanceof Error)}function E(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(_(s)&&(s=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(s)){var n=e.pid;a[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else a[r]=function(){};return a[r]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=b,t.isObject=v,t.isDate=w,t.isError=S,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(359);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(360),t._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,a=function(){return i.apply(s,arguments)};t.apply(this,r).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(I,t,a)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(11))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){function r(e,t){var n;if(e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(t)||(t=t.split("/")),n=t.shift(),e.children))return e=e.children[n],t.length?r(e,t):e}t.child=r,t.value=function(e,t){return(e=r(e,t))&&e.value},t.attr=function(e,t,n){return(e=r(e,t))&&e.attribs&&e.attribs[n]},t.addChild=function(e,t){var r={parent:e};return e.children=e.children||{},e.children[t]?(Array.isArray(e.children[t])||(e.children[t]=[e.children[t]]),e.children[t].push(r)):e.children[t]=r,r},t.addText=function(e,t){return e.value=t,e},t.concatText=function(e,t){return e.value=(e.value||"")+t,e}},function(e,t,r){(function(n){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=r(363)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,r(11))},function(e,t,r){var n;function i(e){function r(){if(r.enabled){var e=r,i=+new Date,s=i-(n||i);e.diff=s,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;u++;var i=t.formatters[n];if("function"==typeof i){var s=a[u];r=i.call(e,s),a.splice(u,1),u--}return r})),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(364),t.names=[],t.skips=[],t.formatters={}},function(e,t){var r=1e3,n=60*r,i=60*n,s=24*i,a=365.25*s;function o(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var u,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*a;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?o(u=e,s,"day")||o(u,i,"hour")||o(u,n,"minute")||o(u,r,"second")||u+" ms":function(e){if(e>=s)return Math.round(e/s)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";const n=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(153)),n(r(367))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(153);class i extends n.ActorRdfDereference{constructor(e){super(e)}getMediaTypeFromExtension(e){const t=e.lastIndexOf(".");if(t>=0){const r=e.substr(t);return this.mediaMappings[r.substring(1)]||""}return""}}t.ActorRdfDereferenceMediaMappings=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(152);class i extends n.ActorRdfDereferenceHttpParseBase{constructor(e){super(e)}getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}t.ActorRdfDereferenceHttpParse=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(116),i=r(370);class s extends n.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const t=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new i.HtmlScriptListener(this.mediatorRdfParseHandle,e.emit,e.error,e.end,t,e.context,e.baseIRI)}}}t.ActorRdfParseHtmlScript=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.HtmlScriptListener=class{constructor(e,t,r,n,i,s,a){this.handleMediaType=null,this.textChunks=null,this.endBarrier=1,this.mediatorRdfParseHandle=e,this.cbQuad=t,this.cbError=r,this.cbEnd=n,this.supportedTypes=i,this.context=s,this.baseIRI=a}onEnd(){0==--this.endBarrier&&this.cbEnd()}onTagClose(){if(this.handleMediaType){const e=new n.Readable({objectMode:!0});e._read=()=>{};const t=this.textChunks,r={context:this.context,handle:{baseIRI:this.baseIRI,input:e},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(r).then(({handle:r})=>{r.quads.on("error",this.cbError).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const r of t)e.push(r);e.push(null)}),this.handleMediaType=null,this.textChunks=null}}onTagOpen(e,t){"script"===e&&this.supportedTypes[t.type]?(this.handleMediaType=t.type,this.textChunks=[],this.endBarrier++):this.handleMediaType=null}onText(e){this.handleMediaType&&this.textChunks.push(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(63);class i extends n.ActorRdfJoin{constructor(e){super(e,3,!0)}static getSmallestPatternId(e){let t=-1,r=1/0;for(let n=0;n<e.length;n++){const i=e[n];i<=r&&(r=i,t=n)}return t}async getOutput(e){const t=e.entries.slice(),r=(await Promise.all(e.entries.map(e=>e.metadata()))).map(e=>"totalItems"in e?e.totalItems:1/0),n=i.getSmallestPatternId(r),s=t.splice(n,1)[0],a=(r.splice(n,1),i.getSmallestPatternId(r)),o=t.splice(a,1)[0],u=(r.splice(a,1),await this.mediatorJoin.mediate({entries:[s,o]}));return t.push(u),await this.mediatorJoin.mediate({entries:t})}async getIterations(e){return(await Promise.all(e.entries.map(e=>e.metadata()))).reduce((e,t)=>e*t.totalItems,1)}}t.ActorRdfJoinMultiSmallest=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=r(373);class s extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.emptyPatterns=new Map}async test(e){if(!this.getContextSources(e.context))throw new Error("Actor "+this.name+" can only resolve quad pattern queries against a sources array.");return!0}async getSource(e){return new i.FederatedQuadSource(this.mediatorResolveQuadPattern,e,this.emptyPatterns,this.skipEmptyPatterns)}}t.ActorRdfResolveQuadPatternFederated=s},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=r(2),s=r(4),a=r(25),o=r(53),u=r(8);class c{constructor(e,t,r,i){this.mediatorResolveQuadPattern=e,this.sources=t.get(n.KEY_CONTEXT_SOURCES),this.contextDefault=t.delete(n.KEY_CONTEXT_SOURCES),this.emptyPatterns=r,this.skipEmptyPatterns=i,this.algebraFactory=new u.Factory,this.skipEmptyPatterns&&this.sources.iterator().on("data",e=>{this.emptyPatterns.has(e)||this.emptyPatterns.set(e,[])})}static isTermBound(e){return"Variable"!==e.termType}static isSubPatternOf(e,t){return(!c.isTermBound(t.subject)||t.subject.equals(e.subject))&&(!c.isTermBound(t.predicate)||t.predicate.equals(e.predicate))&&(!c.isTermBound(t.object)||t.object.equals(e.object))&&(!c.isTermBound(t.graph)||t.graph.equals(e.graph))}static nullToVariable(e,t){return e||i.variable("v"+t)}isSourceEmpty(e,t){if(!this.skipEmptyPatterns)return!1;const r=this.emptyPatterns.get(e);if(r)for(const e of r)if(c.isSubPatternOf(t,e))return!0;return!1}matchLazy(t,r,i,u){if(t instanceof RegExp||r instanceof RegExp||i instanceof RegExp||u instanceof RegExp)throw new Error("FederatedQuadSource does not support matching by regular expressions.");const l={totalItems:0};let h=1,p=0;const d=(e,t,r,n)=>{this.skipEmptyPatterns&&!e&&(this.isSourceEmpty(t,r)||this.emptyPatterns.get(t).push(r)),h||(n&&1===p?y.emit("metadata",n):y.emit("metadata",l))},f=this.sources.iterator(),m=f.map(e=>{h++,p++;const o=this.algebraFactory.createPattern(c.nullToVariable(t,"s"),c.nullToVariable(r,"p"),c.nullToVariable(i,"o"),c.nullToVariable(u,"g")),f=this.contextDefault.set(n.KEY_CONTEXT_SOURCE,{type:n.getDataSourceType(e),value:n.getDataSourceValue(e)});return new a.PromiseProxyIterator(async()=>{let t;return t=this.isSourceEmpty(e,o)?{data:new s.EmptyIterator,metadata:()=>Promise.resolve({totalItems:0})}:await this.mediatorResolveQuadPattern.mediate({pattern:o,context:f}),t.metadata?t.metadata().then(t=>{!t.totalItems&&0!==t.totalItems||!isFinite(t.totalItems)?(l.totalItems=1/0,h=0,d(1/0,e,o,t)):(l.totalItems+=t.totalItems,h--,d(t.totalItems,e,o,t))}):(l.totalItems=1/0,h=0,d(1/0,e,o)),t.data})}),y=new o.RoundRobinUnionIterator(m.clone());return y.on("newListener",t=>{"metadata"===t&&e(()=>m.clone().each(e=>e.loadSource()))}),f.on("end",()=>{--h||y.emit("metadata",l)}),y}match(e,t,r,n){return this.matchLazy(e,t,r,n)}}t.FederatedQuadSource=c}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);class i extends n.BufferedIterator{constructor(e,t){super(t||{autoStart:!1}),this.sourcedEnded=!1,this.currentSource=0,this.listenersAttached=!1,this.sources=[],this.sourceIterator=Array.isArray(e)?new n.ArrayIterator(e):e,this.sourceIterator.on("error",e=>this.emit("error",e)),this.sourceIterator.on("end",()=>{this.sourcedEnded=!0,this._checkClose()})}_read(e,t){if(!this.sourcedEnded){let e;for(this.listenersAttached||(this.listenersAttached=!0,this.sourceIterator.on("readable",()=>this._fillBuffer()));e=this.sourceIterator.read();)e.on("error",e=>this.emit("error",e)),e.on("readable",()=>this._fillBuffer()),e.on("end",()=>this._fillBuffer()),this.sources.push(e)}let r=null,n=this.sources.length;for(;this.sources.length&&null===r&&n--;){const e=this.sources[this.currentSource];r=e.read(),e.ended?this.sources.splice(this.currentSource,1):this.currentSource++,this.currentSource=this.sources.length?this.currentSource%this.sources.length:0}null!==r&&this._push(r),this._checkClose(),t()}_checkClose(){!this.sources.length&&this.sourcedEnded&&this.close()}}t.RoundRobinUnionIterator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(25),s=r(5),a=r(21);class o extends n.ActorQueryOperationTyped{constructor(e){super(e,"pattern")}static isTermVariable(e){return"Variable"===e.termType}static getVariables(e){return a.uniqTerms(a.getTerms(e).filter(o.isTermVariable)).map(s.termToString)}static getDuplicateElementLinks(e){const t={};let r=!1;for(const n of a.QUAD_TERM_NAMES)if("Variable"===e[n].termType){const i=s.termToString(e[n]),a=(t[i]||(t[i]=[])).push(n);r=r||a>1}if(!r)return null;const n={};for(const e in t){const r=t[e],i=r.slice(1);i.length&&(n[r[0]]=i)}return n}async testOperation(e,t){return!0}async runOperation(e,t){e.context&&(t=t?t.merge(e.context):e.context);const r=await this.mediatorResolveQuadPattern.mediate({pattern:e,context:t}),u=o.getVariables(e),c=a.reduceTerms(e,(e,t,r)=>(o.isTermVariable(t)&&(e[r]=s.termToString(t)),e),{}),l=(e,t,r)=>{const n=c[r];return n&&(e[n]=t),e};return{type:"bindings",bindingsStream:new i.PromiseProxyIterator(async()=>{let t=r.data;const i=o.getDuplicateElementLinks(e);return i&&(t=t.filter(e=>{for(const t of a.TRIPLE_TERM_NAMES)for(const r of i[t]||[])if(!e[t].equals(e[r]))return!1;return!0})),t.map(e=>n.Bindings(a.reduceTerms(e,l,{})),{autoStart:!0,maxBufferSize:128})}),variables:u,metadata:r.metadata}}}t.ActorQueryOperationQuadpattern=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64),i=r(377);class s extends n.ActorRdfResolveHypermedia{constructor(e){super(e,"qpf")}async testMetadata(e){const t=this.createSource(e.metadata,e.context,null).searchForm;if(!t)throw new Error(`Actor ${this.name} could not detect a TPF/QPF search form.`);if(e.handledDatasets&&e.handledDatasets[t.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(e){this.logInfo(e.context,`Identified as qpf source: ${e.url}`);const t=this.createSource(e.metadata,e.context,e.quads);return{source:t,dataset:t.searchForm.dataset}}createSource(e,t,r){return new i.RdfSourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorRdfDereference,this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,e,t,r)}}t.ActorRdfResolveHypermediaQpf=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(25),s=r(5),a=r(21);t.RdfSourceQpf=class{constructor(e,t,r,i,s,a,o,u,c,l){if(this.mediatorMetadata=e,this.mediatorMetadataExtract=t,this.mediatorRdfDereference=r,this.subjectUri=i,this.predicateUri=s,this.objectUri=a,this.graphUri=o,this.context=c,this.cachedQuads={},this.searchForm=this.getSearchForm(u),l){const e=n.AsyncIterator.wrap(l);e.setProperty("metadata",u),this.cacheQuads(e)}}getSearchForm(e){if(!e.searchForms||!e.searchForms.values)return null;const t=e.searchForms;for(const e of t.values){if(this.graphUri&&this.subjectUri in e.mappings&&this.predicateUri in e.mappings&&this.objectUri in e.mappings&&this.graphUri in e.mappings&&4===Object.keys(e.mappings).length)return e;if(this.subjectUri in e.mappings&&this.predicateUri in e.mappings&&this.objectUri in e.mappings&&3===Object.keys(e.mappings).length)return e}return null}createFragmentUri(e,t,r,n,i){const a={},o=[{uri:this.subjectUri,term:t},{uri:this.predicateUri,term:r},{uri:this.objectUri,term:n},{uri:this.graphUri,term:i}];for(const e of o)e.uri&&e.term&&(a[e.uri]=s.termToString(e.term));return e.getUri(a)}match(e,t,r,s){if(e instanceof RegExp||t instanceof RegExp||r instanceof RegExp||s instanceof RegExp)throw new Error("RdfSourceQpf does not support matching by regular expressions.");const o=this.getCachedQuads(e,t,r,s);if(o)return o;const u=new i.PromiseProxyIterator(async()=>{let i=await this.createFragmentUri(this.searchForm,e,t,r,s);const o=await this.mediatorRdfDereference.mediate({context:this.context,url:i});i=o.url;const c=await this.mediatorMetadata.mediate({context:this.context,url:i,quads:o.quads,triples:o.triples});return this.mediatorMetadataExtract.mediate({context:this.context,url:i,metadata:c.metadata}).then(({metadata:e})=>{u.setProperty("metadata",e),u.emit("metadata",e)}),n.AsyncIterator.wrap(c.data).filter(n=>a.matchPattern(n,e,t,r,s))});return this.cacheQuads(u,e,t,r,s),this.getCachedQuads(e,t,r,s)}getPatternId(e,t,r,n){return JSON.stringify({s:s.termToString(e),p:s.termToString(t),o:s.termToString(r),g:s.termToString(n)})}cacheQuads(e,t,r,n,i){const s=this.getPatternId(t,r,n,i);this.cachedQuads[s]=e.clone()}getCachedQuads(e,t,r,n){const s=this.getPatternId(e,t,r,n);let a=this.cachedQuads[s];if(a){const e=a;return a=new i.PromiseProxyIterator(async()=>e.clone()),e.getProperty("metadata",e=>a.emit("metadata",e)),a}return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=r(70),s=r(160);class a extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.cache=this.cacheSize?new i({max:this.cacheSize}):null,this.cache&&this.httpInvalidator.addInvalidateListener(({url:e})=>e?this.cache.del(e):this.cache.reset())}async test(e){if(!this.hasContextSingleSource(e.context))throw new Error("Actor "+this.name+" can only resolve quad pattern queries against a single source.");return!0}getSource(e,t){const r=this.getContextSource(e),i=this.getContextSourceUrl(r);let a;return this.cacheSize&&this.cache.has(i)?a=this.cache.get(i):(a=new s.MediatedQuadSource(this.cacheSize,e,i,n.getDataSourceType(r),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorRdfDereference:this.mediatorRdfDereference,mediatorRdfResolveHypermedia:this.mediatorRdfResolveHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks}),this.cacheSize&&this.cache.set(i,a)),Promise.resolve(a)}}t.ActorRdfResolveQuadPatternHypermedia=a},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new o(r,null,t,e):new o(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=o,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var s=[];for(r=0;n&&r<t;r++)s.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=2;r<arguments.length;r++)n=i(this,n,arguments[r]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(380)(n)}catch(e){}},function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(382);class i extends n.LinkedRdfSourcesAsyncRdfIterator{constructor(e,t,r,n,i,s,a,o,u){super(e,n,i,s,a,o,{autoStart:!1}),this.context=t,this.forceSourceType=r,this.mediatorRdfDereference=u.mediatorRdfDereference,this.mediatorMetadata=u.mediatorMetadata,this.mediatorMetadataExtract=u.mediatorMetadataExtract,this.mediatorRdfResolveHypermedia=u.mediatorRdfResolveHypermedia,this.mediatorRdfResolveHypermediaLinks=u.mediatorRdfResolveHypermediaLinks,this.handledUrls={}}async getNextUrls(e){try{const{urls:t}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:e});return t.filter(e=>!this.handledUrls[e]&&(this.handledUrls[e]=!0,!0))}catch(e){return[]}}async getNextSource(e,t){const r=this.context,n=await this.mediatorRdfDereference.mediate({context:r,url:e});e=n.url;const i=await this.mediatorMetadata.mediate({context:r,url:e,quads:n.quads,triples:n.triples}),{metadata:s}=await this.mediatorMetadataExtract.mediate({context:r,url:e,metadata:i.metadata}),{source:a,dataset:o}=await this.mediatorRdfResolveHypermedia.mediate({context:r,forceSourceType:this.forceSourceType,handledDatasets:t,metadata:s,quads:i.data,url:e});return o&&(t[o]=!0),{source:a,metadata:s,handledDatasets:t}}}t.MediatedLinkedRdfSourcesAsyncRdfIterator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(70);class s extends n.BufferedIterator{constructor(e,t,r,n,i,s,a){super(a),this.cacheSize=e,this.subject=t,this.predicate=r,this.object=n,this.graph=i,this.nextUrls=[],this.firstUrl=s,this.started=!1,this.iterating=!1}setSourcesState(e){e?this.sourcesState=e:(this.sourcesState={sources:new i({max:this.cacheSize})},this.getNextSourceCached(this.firstUrl,{}))}_read(e,t){if(this.started)if(!this.iterating&&this.nextSource){const e=this.nextSource;this.nextSource=null,this.getNextUrls(e.metadata).then(e=>Promise.all(e)).then(async r=>{if(0===r.length&&0===this.nextUrls.length)this.close();else{for(const e of r)this.nextUrls.push(e);const t=await this.getNextSourceCached(this.nextUrls[0],e.handledDatasets);this.startIterator(t,!1),this.nextUrls.splice(0,1)}t()}).catch(e=>this.emit("error",e))}else t();else this.started=!0,this.sourcesState||this.setSourcesState(),this.sourcesState.sources.get(this.firstUrl).then(e=>{this.startIterator(e,!0),t()}).catch(e=>this.emit("error",e))}getNextSourceCached(e,t){let r=this.sourcesState.sources.get(e);return r||(r=this.getNextSource(e,t),this.sourcesState.sources.set(e,r),r)}startIterator(e,t){this.iterating=!0;const r=e.source.match(this.subject,this.predicate,this.object,this.graph);let n=e.metadata,i=!1;r.on("metadata",e=>{i&&this.destroy(new Error("Received metadata AFTER the source iterator was ended.")),n=Object.assign(Object.assign({},n),e)}),r.on("data",e=>{this._push(e),this.readable=!0}),r.on("error",e=>this.destroy(e)),r.on("end",()=>{i=!0,t&&this.emit("metadata",n),this.nextSource={handledDatasets:Object.assign({},e.handledDatasets),metadata:n,source:null},this.iterating=!1,this.readable=!0})}}t.LinkedRdfSourcesAsyncRdfIterator=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(384),i=r(3),s=r(20),a=r(0),o=r(162),u=r(5),c=r(21),l=r(8);class h extends n.ActorInit{constructor(e){super(e)}static applyInitialBindings(e,t){const r={};for(const n of Object.keys(e))if(Array.isArray(e[n])?r[n]="variables"===n?e[n].filter(e=>!t.has(u.termToString(e))):e[n].map(e=>h.applyInitialBindings(e,t)):e[n]&&h.ALGEBRA_TYPES[e[n].type]?r[n]=h.applyInitialBindings(e[n],t):r[n]=e[n],e.type===l.Algebra.types.PATTERN||e.type===l.Algebra.types.PATH)for(const n of c.QUAD_TERM_NAMES)if(e.type!==l.Algebra.types.PATH||"predicate"!==n){const i=e[n];if("Variable"===i.termType){const e=u.termToString(i),s=t.get(e);s&&(r[n]=s)}}return r}async test(e){return!0}async query(e,r){r=r||{};for(const e in r)if(this.contextKeyShortcuts[e]){const t=r[e];r[this.contextKeyShortcuts[e]]=t,delete r[e]}r[a.KEY_CONTEXT_LOG]||(r[a.KEY_CONTEXT_LOG]=this.logger),r[i.KEY_CONTEXT_QUERY_TIMESTAMP]||(r[i.KEY_CONTEXT_QUERY_TIMESTAMP]=new Date),Array.isArray(r[s.KEY_CONTEXT_SOURCES])&&(r[s.KEY_CONTEXT_SOURCES].map(e=>{"string"==typeof e||"auto"!==e.type&&"hypermedia"!==e.type||delete e.type}),r[s.KEY_CONTEXT_SOURCES]=o.AsyncReiterableArray.fromFixedData(r[s.KEY_CONTEXT_SOURCES]));let n,u,c="sparql";if((r=a.ActionContext(r))&&r.has(t.KEY_CONTEXT_QUERYFORMAT)&&(c=r.get(t.KEY_CONTEXT_QUERYFORMAT),r=r.delete(t.KEY_CONTEXT_QUERYFORMAT),"graphql"!==c||r.has(t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES)||(r=r.set(t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES,{}))),r&&r.has(i.KEY_CONTEXT_BASEIRI)&&(n=r.get(i.KEY_CONTEXT_BASEIRI)),r=(await this.mediatorContextPreprocess.mediate({context:r})).context,"string"==typeof e){const t=await this.mediatorSparqlParse.mediate({context:r,query:e,queryFormat:c,baseIRI:n});u=t.operation,t.baseIRI&&(r=r.set(i.KEY_CONTEXT_BASEIRI,t.baseIRI))}else u=e;if(r.has(t.KEY_CONTEXT_INITIALBINDINGS)){const e=r.get(t.KEY_CONTEXT_INITIALBINDINGS);u=h.applyInitialBindings(u,i.ensureBindings(e))}u=(await this.mediatorOptimizeQueryOperation.mediate({context:r,operation:u})).operation;const l={context:r,operation:u},p=await this.mediatorQueryOperation.mediate(l);return p.context=r,p}async getResultMediaTypes(e){return(await this.mediatorSparqlSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async resultToString(e,t,r){if(r=a.ActionContext(r),!t)switch(e.type){case"bindings":t="application/json";break;case"quads":t="application/trig";break;default:t="simple"}const n=e;return n.context=r,(await this.mediatorSparqlSerialize.mediate({context:r,handle:n,handleMediaType:t})).handle}invalidateHttpCache(e){return this.mediatorHttpInvalidate.mediate({url:e})}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}t.ActorInitSparql=h,h.ALGEBRA_TYPES=Object.keys(l.Algebra.types).reduce((e,t)=>(e[l.Algebra.types[t]]=!0,e),{}),t.KEY_CONTEXT_INITIALBINDINGS="@comunica/actor-init-sparql:initialBindings",t.KEY_CONTEXT_QUERYFORMAT="@comunica/actor-init-sparql:queryFormat",t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES="@comunica/actor-init-sparql:singularizeVariables",t.KEY_CONTEXT_LENIENT="@comunica/actor-init-sparql:lenient"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(385))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Actor{constructor(e){super(e)}}t.ActorInit=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);class i{constructor(e,t){this.array=e.slice(),this.iterators=[],t&&this.array.push(null)}static fromFixedData(e){return new i(e,!0)}static fromInitialData(e){return new i(e,!1)}static fromInitialEmpty(){return i.fromInitialData([])}static pushToIterator(e,t){null===t?e.close():e._push(t)}iterator(){if(this.isEnded())return new n.ArrayIterator(this.array.slice(0,this.array.length-1));const e=new n.BufferedIterator;for(const t of this.array)i.pushToIterator(e,t);return this.iterators.push(e),e}push(e){if(this.isEnded())throw new Error("Can not push data anymore into an AsyncReiterableArray after it has been terminated.");this.array.push(e);for(const t of this.iterators)i.pushToIterator(t,e)}isEnded(){return this.array.length>0&&null===this.array[this.array.length-1]}}t.AsyncReiterableArray=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorSparqlSerialize=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31);class i extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,t){return!0}}t.ActorSparqlSerializeFixedMediaTypes=i},function(e,t,r){const n=new(r(81).LoggerVoid)({}),i=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),s=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/Bus/Http"}),a=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),o=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/Bus/RdfParse"}),u=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference/Bus/RdfDereference"}),c=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/Bus/RdfParseHtml"}),l=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/Bus/RdfSerialize"}),h=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),p=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/Bus/RdfMetadata"}),d=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/Bus/RdfMetadataExtract"}),f=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/Bus/RdfResolveHypermedia"}),m=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/Bus/RdfResolveHypermediaLinks"}),y=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),g=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),_=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),b=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),v=new(r(0).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),w=new(r(0).BusIndexed)({actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),S=new(r(30).MediatorNumber)({field:"time",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#mediatorHttp",bus:s}),E=new(r(390).ActorHttpNative)({agentOptions:'{ "keepAlive": true, "maxSockets": 5 }',name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpFetcher",bus:s}),T=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:a}),x=new(r(110).ActorRdfJoinSymmetricHash)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActor",bus:a}),O=new(r(18).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseMediatypes",bus:o}),A=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseHandle",bus:o}),R=new(r(92).ActorRdfParseN3)({mediaTypes:{"application/n-quads":"1.0","application/trig":"0.95","application/n-triples":"0.8","text/turtle":"0.5","text/n3":"0.35"},priorityScale:"1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserN3",bus:o}),P=new(r(94).ActorRdfParseRdfXml)({mediaTypes:{"application/rdf+xml":"1.0"},priorityScale:"5.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserRdfXml",bus:o}),I=new(r(96).ActorRdfParseXmlRdfa)({mediaTypes:{"application/xml":"1.0","text/xml":"1.0","image/svg+xml":"1.0"},priorityScale:"3.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserXmlRdfa",bus:o}),j=new(r(18).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseMediatypes",bus:o}),N=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseHandle",bus:o}),C=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfDereference",bus:u}),k=new(r(114).ActorRdfParseHtml)({busRdfParseHtml:c,mediaTypes:{"text/html":"1.0","application/xhtml+xml":"0.9"},priorityScale:"2.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtml",bus:o}),D=new(r(115).ActorRdfParseHtmlRdfa)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlRdfa",bus:c}),M=new(r(399).ActorRdfSerializeN3)({mediaTypes:{"application/trig":"1.0","application/n-quads":"0.7","text/turtle":"0.6","application/n-triples":"0.3","text/n3":"0.2"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializerN3",bus:l}),F=new(r(66).ActorRdfSerializeJsonLd)({jsonStringifyIndentSpaces:2,mediaTypes:{"application/ld+json":"1.0"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializeJsonLd",bus:l}),L=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mediatorRdfSerialize",bus:l}),q=new(r(18).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode315",bus:l}),B=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:h}),U=new(r(112).ActorRdfResolveQuadPatternRdfJsSource)({name:"config-sets:resolve-file.json#myRdfRdfJsSourceQuadPatternResolver",bus:h}),H=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadata",bus:p}),z=new(r(136).ActorRdfMetadataPrimaryTopic)({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataPrimaryTopic",bus:p}),V=new(r(139).ActorRdfMetadataAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataAll",bus:p}),Q=new(r(18).MediatorCombineUnion)({field:"metadata",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadataExtract",bus:d}),G=new(r(127).ActorRdfMetadataExtractHydraControls)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraControls",bus:d}),X=new(r(128).ActorRdfMetadataExtractHydraCount)({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraCount",bus:d}),$=new(r(119).ActorRdfMetadataExtractSparqlService)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#myRdfMetadataExtractSparqlService",bus:d}),Y=new(r(117).ActorRdfResolveHypermediaNone)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaNoneResolver",bus:f}),W=new(r(30).MediatorNumber)({field:"filterFactor",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermedia",bus:f}),J=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermediaLinks",bus:m}),K=new(r(140).ActorRdfResolveHypermediaLinksNext)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaLinksNext",bus:m}),Z=new(r(134).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/Actor/RdfResolveQuadPattern/Hypermedia/httpInvalidator#default",bus:y}),ee=new(r(133).MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:y}),te=new(r(50).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:g}),re=new(r(129).ActorOptimizeQueryOperationJoinBgp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",bus:g}),ne=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:_}),ie=new(r(404).ActorSparqlParseGraphql)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/graphql-parsers.json#myGraphqlParser",bus:_}),se=new(r(131).ActorSparqlParseAlgebra)({prefixes:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dc:"http://purl.org/dc/terms/",dcterms:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",bus:_}),ae=new(r(7).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:b}),oe=new(r(18).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode309",bus:b}),ue=new(r(406).ActorSparqlSerializeJson)({mediaTypes:{"application/json":"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myJsonSparqlSerializer",bus:b}),ce=new(r(408).ActorSparqlSerializeSimple)({mediaTypes:{simple:"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySimpleSparqlSerializer",bus:b}),le=new(r(410).ActorSparqlSerializeSparqlJson)({mediaTypes:{"application/sparql-results+json":"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlJsonSparqlSerializer",bus:b}),he=new(r(412).ActorSparqlSerializeSparqlXml)({mediaTypes:{"application/sparql-results+xml":"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlXmlSparqlSerializer",bus:b}),pe=new(r(416).ActorSparqlSerializeStats)({mediaTypes:{stats:"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myStatsSparqlSerializer",bus:b}),de=new(r(418).ActorSparqlSerializeTable)({columnWidth:50,mediaTypes:{table:"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTableSparqlSerializer",bus:b}),fe=new(r(163).ActorSparqlSerializeTree)({mediaTypes:{tree:"0.9"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTreeSparqlSerializer",bus:b}),me=new(r(50).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:v}),ye=new(r(30).MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:w}),ge=new(r(141).ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:w}),_e=new(r(144).ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:w}),be=new(r(420).ActorHttpMemento)({mediatorHttp:S,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http-memento.json#myHttpFetcher",bus:s}),ve=new(r(145).ActorRdfParseJsonLd)({mediatorHttp:S,mediaTypes:{"application/ld+json":"1.0","application/json":"0.5"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserJsonLd",bus:o}),we=new(r(148).ActorRdfResolveHypermediaSparql)({mediatorHttp:S,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlQuadPatternResolver",bus:f}),Se=new(r(149).ActorQueryOperationSparqlEndpoint)({mediatorHttp:S,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlEndpointResolver",bus:w}),Ee=new(r(155).ActorRdfJoinMultiSmallest)({mediatorJoin:T,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinMultiActor",bus:a}),Te=new(r(151).ActorRdfDereferenceHttpParse)({mediatorHttp:S,mediatorRdfParseMediatypes:O,mediatorRdfParseHandle:A,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,mediaMappings:{ttl:"text/turtle",turtle:"text/turtle",nt:"application/n-triples",ntriples:"application/n-triples",nq:"application/n-quads",nquads:"application/n-quads",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",trig:"application/trig",jsonld:"application/ld+json",json:"application/json",html:"text/html",htm:"text/html",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",svg:"image/svg+xml",svgz:"image/svg+xml"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencer",bus:u}),xe=new(r(154).ActorRdfParseHtmlScript)({mediatorRdfParseMediatypes:j,mediatorRdfParseHandle:N,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlScript",bus:c}),Oe=new(r(422).ActorSparqlSerializeRdf)({mediatorRdfSerialize:L,mediatorMediaTypeCombiner:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myRdfSparqlSerializer",bus:b}),Ae=new(r(156).ActorRdfResolveQuadPatternFederated)({mediatorResolveQuadPattern:B,skipEmptyPatterns:!1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",bus:h}),Re=new(r(157).ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:B,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:w}),Pe=new(r(158).ActorRdfResolveHypermediaQpf)({mediatorMetadata:H,mediatorMetadataExtract:Q,mediatorRdfDereference:C,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaQpfResolver",bus:f}),Ie=new(r(159).ActorRdfResolveQuadPatternHypermedia)({mediatorRdfDereference:C,mediatorMetadata:H,mediatorMetadataExtract:Q,mediatorRdfResolveHypermedia:W,mediatorRdfResolveHypermediaLinks:J,cacheSize:100,httpInvalidator:Z,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myQuadPatternHypermediaResolver",bus:h}),je=new(r(424).ActorHttpProxy)({mediatorHttp:S,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpProxy",bus:s,beforeActors:[E]}),Ne=new(r(161).ActorInitSparql)({mediatorOptimizeQueryOperation:te,mediatorQueryOperation:ye,mediatorSparqlParse:ne,mediatorSparqlSerialize:ae,mediatorSparqlSerializeMediaTypeCombiner:oe,mediatorContextPreprocess:me,mediatorHttpInvalidate:ee,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",baseIRI:"@comunica/actor-init-sparql:baseIRI",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime",queryTimestamp:"@comunica/actor-init-sparql:queryTimestamp",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",lenient:"@comunica/actor-init-sparql:lenient"},name:"urn:comunica:sparqlinit",bus:i});new(r(167).ActorQueryOperationAsk)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:w}),new(r(168).ActorQueryOperationService)({forceSparqlEndpoint:!1,mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:w}),new(r(169).ActorQueryOperationSlice)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:w}),new(r(170).ActorQueryOperationBgpSingle)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:w}),new(r(171).ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:w}),new(r(173).ActorQueryOperationConstruct)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:w}),new(r(174).ActorQueryOperationDescribeSubject)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:w}),new(r(175).ActorQueryOperationDistinctHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:w}),new(r(177).ActorQueryOperationExtend)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:w}),new(r(184).ActorQueryOperationReducedHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",cacheSize:100,mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:w}),new(r(185).ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:w}),new(r(186).ActorQueryOperationFromQuad)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:w}),new(r(187).ActorQueryOperationGroup)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myGroupQueryOperator",bus:w}),new(r(188).ActorQueryOperationJoin)({mediatorJoin:T,mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:w}),new(r(189).ActorQueryOperationLeftJoinNestedLoop)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:w}),new(r(190).ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:w}),new(r(191).ActorQueryOperationProject)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:w}),new(r(71).ActorQueryOperationUnion)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:w}),new(r(192).ActorQueryOperationMinus)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:w}),new(r(193).ActorQueryOperationPathAlt)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:w}),new(r(195).ActorQueryOperationPathInv)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:w}),new(r(196).ActorQueryOperationPathLink)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:w}),new(r(197).ActorQueryOperationPathNps)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:w}),new(r(198).ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:w}),new(r(199).ActorQueryOperationPathSeq)({mediatorJoin:T,mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:w}),new(r(200).ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:w}),new(r(201).ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:ye,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:w});e.exports=Ne},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(391))},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});const i=r(24);r(39);const s=r(392);class a extends i.ActorHttp{constructor(e){super(e),this.userAgent=a.createUserAgent(),this.requester=new s.default(e.agentOptions?JSON.parse(e.agentOptions):void 0)}static createUserAgent(){return`Comunica/actor-http-native (${"undefined"==typeof window?"Node.js "+e.version+"; "+e.platform:"Browser-"+window.navigator.userAgent})`}async test(e){return{time:1/0}}async run(e){const t={};if(e.input.url?(t.url=e.input.url,Object.assign(t,e.input)):t.url=e.input,e.init&&Object.assign(t,e.init),t.headers){const e={};t.headers.forEach((t,r)=>{e[r]=t}),t.headers=e}else t.headers={};return t.headers["user-agent"]||(t.headers["user-agent"]=this.userAgent),t.method=t.method||"GET",this.logInfo(e.context,`Requesting ${t.url}`),new Promise((e,r)=>{const i=this.requester.createRequest(t);i.on("error",r),i.on("response",i=>{i.on("error",e=>{i=null,r(e)}),"HEAD"===t.method&&i.destroy(),n(()=>{if(i){i.cancel=()=>Promise.resolve(i.destroy());const r=new Headers(i.headers),n={body:i,headers:r,ok:i.statusCode<300,redirected:t.url!==i.responseUrl,status:i.statusCode,url:r.has("content-location")?r.get("content-location"):i.responseUrl};e(n)}})})})}}t.ActorHttpNative=a}).call(this,r(11),r(13).setImmediate)},function(e,t,r){"use strict";
/*! @license MIT 2013-2016 Ruben Verborgh, Ghent University - imec */Object.defineProperty(t,"__esModule",{value:!0});const n=r(41),i=r(165),s=r(1),a={"accept-encoding":!0,"user-agent":!0,referer:!0};t.default=class{constructor(){this.negotiatedResources={}}createRequest(e){this.negotiatedResources[this.removeQuery(e.url)]&&delete e.headers["accept-datetime"];const t=new XMLHttpRequest,r=e.headers;t.open(e.method,e.url,!0),t.timeout=e.timeout;for(const e in r)e in a||!r[e]||t.setRequestHeader(e,r[e]);const o=new n.EventEmitter;return o.abort=()=>{t.abort()},t.onload=()=>{const n=new s.Readable;n.push(t.responseText||""),n.push(null),n.statusCode=t.status,n.responseUrl=t.responseURL,n.headers={};const a=n.headers,u=t.getAllResponseHeaders()||"",c=/^([^:\n\r]+):[ \t]*([^\r\n]*)$/gm;let l=c.exec(u);for(;l;)a[l[1].toLowerCase()]=l[2],l=c.exec(u);if(o.emit("response",n),r["accept-datetime"]&&a["memento-datetime"]){const t=this.removeQuery(a["content-location"]||e.url);if(!this.negotiatedResources[t]){const e=a.link&&i(a.link);t!==this.removeQuery(e&&e.timegate&&e.timegate.url)&&(this.negotiatedResources[t]=!0)}}},t.onerror=()=>{o.emit("error",new Error("Error requesting "+e.url))},t.ontimeout=()=>{o.emit("error",new Error("Timeout requesting "+e.url))},t.send(),o}removeQuery(e){return e?e.replace(/\?.*$/,""):""}}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,s){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,p,d,f,m=e[l].replace(o,"%20"),y=m.indexOf(r);y>=0?(h=m.substr(0,y),p=m.substr(y+1)):(h=m,p=""),d=decodeURIComponent(h),f=decodeURIComponent(p),n(a,d)?i(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?s(a(e),(function(a){var o=encodeURIComponent(n(a))+r;return i(e[a])?s(e[a],(function(e){return o+encodeURIComponent(n(e))})).join(t):o+encodeURIComponent(n(e[a]))})).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n=r(396),i=r(397);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(166);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof s)return e;var n=new s;return n.parse(e,t,r),n}s.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),o=-1!==s&&s<e.indexOf("#")?"?":"#",c=e.split(o);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(o);if(b=b.trim(),!r&&1===e.split("#").length){var v=u.exec(b);if(v)return this.path=b,this.href=b,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||w&&y[w]||(b=b.substr(2),this.slashes=!0)}if(!y[w]&&(E||w&&!g[w])){for(var T,x,O=-1,A=0;A<p.length;A++){-1!==(R=b.indexOf(p[A]))&&(-1===O||R<O)&&(O=R)}-1!==(x=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(T=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(T)),O=-1;for(A=0;A<h.length;A++){var R;-1!==(R=b.indexOf(h[A]))&&(-1===O||R<O)&&(O=R)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var I=this.hostname.split(/\./),j=(A=0,I.length);A<j;A++){var N=I[A];if(N&&!N.match(d)){for(var C="",k=0,D=N.length;k<D;k++)N.charCodeAt(k)>127?C+="x":C+=N[k];if(!C.match(d)){var M=I.slice(0,A),F=I.slice(A+1),L=N.match(f);L&&(M.push(L[1]),F.unshift(L[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var q=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+q,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[S])for(A=0,j=l.length;A<j;A++){var U=l[A];if(-1!==b.indexOf(U)){var H=encodeURIComponent(U);H===U&&(H=escape(U)),b=b.split(U).join(H)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=_.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var Q=this.search||"";this.path=q+Q}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,a="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=_.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+s+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(i.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var r=new s,n=Object.keys(this),a=0;a<n.length;a++){var o=n[a];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),p=0;p<h.length;p++){var d=h[p];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",_=r.search||"";r.path=m+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=v||b||r.host&&e.pathname,S=w,E=r.pathname&&r.pathname.split("/")||[],T=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(T&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===E[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T)r.hostname=r.host=E.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=E.slice(-1)[0],O=(r.host||e.host||E.length>1)&&("."===x||".."===x)||""===x,A=0,R=E.length;R>=0;R--)"."===(x=E[R])?E.splice(R,1):".."===x?(E.splice(R,1),A++):A&&(E.splice(R,1),A--);if(!w&&!S)for(;A--;A)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var P,I=""===E[0]||E[0]&&"/"===E[0].charAt(0);T&&(r.hostname=r.host=I?"":E.length?E.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(w=w||r.host&&E.length)&&!I&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var o,u=2147483647,c=36,l=1,h=26,p=38,d=700,f=72,m=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,S=Math.floor,E=String.fromCharCode;function T(e){throw new RangeError(v[e])}function x(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function O(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+x((e=e.replace(b,".")).split("."),t).join(".")}function A(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function R(e){return x(e,(function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)})).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,r){var n=0;for(e=r?S(e/d):e>>1,e+=S(e/t);e>w*h>>1;n+=c)e=S(e/w);return S(n+(w+1)*e/(e+p))}function j(e){var t,r,n,i,s,a,o,p,d,g,_,b=[],v=e.length,w=0,E=m,x=f;for((r=e.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&T("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(s=w,a=1,o=c;i>=v&&T("invalid-input"),((p=(_=e.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:c)>=c||p>S((u-w)/a))&&T("overflow"),w+=p*a,!(p<(d=o<=x?l:o>=x+h?h:o-x));o+=c)a>S(u/(g=c-d))&&T("overflow"),a*=g;x=I(w-s,t=b.length+1,0==s),S(w/t)>u-E&&T("overflow"),E+=S(w/t),w%=t,b.splice(w++,0,E)}return R(b)}function N(e){var t,r,n,i,s,a,o,p,d,g,_,b,v,w,x,O=[];for(b=(e=A(e)).length,t=m,r=0,s=f,a=0;a<b;++a)(_=e[a])<128&&O.push(E(_));for(n=i=O.length,i&&O.push(y);n<b;){for(o=u,a=0;a<b;++a)(_=e[a])>=t&&_<o&&(o=_);for(o-t>S((u-r)/(v=n+1))&&T("overflow"),r+=(o-t)*v,t=o,a=0;a<b;++a)if((_=e[a])<t&&++r>u&&T("overflow"),_==t){for(p=r,d=c;!(p<(g=d<=s?l:d>=s+h?h:d-s));d+=c)x=p-g,w=c-g,O.push(E(P(g+x%w,0))),p=S(x/w);O.push(E(P(p,0))),s=I(r,v,n==i),r=0,++n}++r,++t}return O.join("")}o={version:"1.4.1",ucs2:{decode:A,encode:R},decode:j,encode:N,toASCII:function(e){return O(e,(function(e){return _.test(e)?"xn--"+N(e):e}))},toUnicode:function(e){return O(e,(function(e){return g.test(e)?j(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return o}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(49)(e),r(10))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(400))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(401),i=r(37),s=r(1);class a extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){const n=new s.Readable({objectMode:!0});n._read=()=>{},e.quads.on("error",e=>a.emit("error",e)),e.quads.on("data",e=>n.push(e)),e.quads.on("end",()=>n.emit("end"));const a=n.pipe(new i.StreamWriter({format:t}));return{data:a,triples:"text/turtle"===t||"application/n-triples"===t||"text/n3"===t}}}t.ActorRdfSerializeN3=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(402)),n(r(403))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorRdfSerialize=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31);class i extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}t.ActorRdfSerializeFixedMediaTypes=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(405))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(132),i=r(66);class s extends n.ActorSparqlParse{constructor(e){super(e),this.graphqlToSparql=new i.Converter({requireContext:!0})}async test(e){if("graphql"!==e.queryFormat)throw new Error("This actor can only parse GraphQL queries");return!0}async run(e){const t=e.context&&e.context.has("@context")?e.context.get("@context"):{},r={singularizeVariables:e.context.get("@comunica/actor-init-sparql:singularizeVariables")};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(e.query,t,r)}}}t.ActorSparqlParseGraphql=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(407))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(5),s=r(1);class a extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){if(["bindings","quads","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(t,r,n){const a=new s.Readable;a._read=()=>{};let o=!0;if("bindings"===t.type){const e=t.bindingsStream;a.push("["),e.on("error",e=>a.emit("error",e)),e.on("data",e=>{a.push(o?"\n":",\n"),a.push(JSON.stringify(e.map(i.termToString))),o=!1}),e.on("end",()=>{a.push(o?"]\n":"\n]\n"),a.push(null)})}else if("quads"===t.type){const e=t.quadStream;a.push("["),e.on("error",e=>a.emit("error",e)),e.on("data",e=>{a.push(o?"\n":",\n"),a.push(JSON.stringify(i.quadToStringQuad(e))),o=!1}),e.on("end",()=>{a.push(o?"]\n":"\n]\n"),a.push(null)})}else try{a.push(JSON.stringify(await t.booleanResult)+"\n"),a.push(null)}catch(t){e(()=>a.emit("error",t))}return{data:a}}}t.ActorSparqlSerializeJson=a}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(409))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(1);class s extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){if(["bindings","quads","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams, quad streams or booleans.");return!0}async runHandle(t,r,n){const s=new i.Readable;let a;if(s._read=()=>{},"bindings"===t.type)a=t.bindingsStream,a.on("error",e=>s.emit("error",e)),a.on("data",e=>s.push(e.map((e,t)=>t+": "+e.value).join("\n")+"\n\n")),a.on("end",()=>s.push(null));else if("quads"===t.type)a=t.quadStream,a.on("error",e=>s.emit("error",e)),a.on("data",e=>s.push("subject: "+e.subject.value+"\npredicate: "+e.predicate.value+"\nobject: "+e.object.value+"\ngraph: "+e.graph.value+"\n\n")),a.on("end",()=>s.push(null));else try{s.push(JSON.stringify(await t.booleanResult)+"\n"),s.push(null)}catch(t){e(()=>s.emit("error",t))}return{data:s}}}t.ActorSparqlSerializeSimple=s}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(411))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(1);class s extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToJsonBindings(e){if("Literal"===e.termType){const t=e,r={value:t.value,type:"literal"},n=t.language,i=t.datatype;return n?r["xml:lang"]=n:i&&"http://www.w3.org/2001/XMLSchema#string"!==i.value&&(r.datatype=i.value),r}return"BlankNode"===e.termType?{value:e.value,type:"bnode"}:{value:e.value,type:"uri"}}async testHandleChecked(e,t){if(["bindings","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(t,r,n){const a=new i.Readable;a._read=()=>{};const o={};"bindings"===t.type&&t.variables.length&&(o.vars=t.variables.map(e=>e.substr(1))),a.push('{"head": '+JSON.stringify(o)+",\n");let u=!0;if("bindings"===t.type){const e=t.bindingsStream;e.on("error",e=>{a.emit("error",e)}),e.on("data",e=>{u?a.push('"results": { "bindings": [\n'):a.push(",\n");const t=e.filter((e,t)=>!!e&&t.startsWith("?"));a.push(JSON.stringify(t.mapEntries(([e,t])=>[e.substr(1),s.bindingToJsonBindings(t)]).toJSON())),u=!1}),e.on("end",()=>{u?a.push('"results": { "bindings": [] }}\n'):a.push("\n]}}\n"),a.push(null)})}else try{a.push('"boolean":'+await t.booleanResult+"\n}\n"),a.push(null)}catch(t){e(()=>a.emit("error",t))}return{data:a}}}t.ActorSparqlSerializeSparqlJson=s}).call(this,r(13).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(413))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(1),s=r(414);class a extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToXmlBindings(e,t){let r;if("Literal"===e.termType){const t=e;r={literal:t.value};const n=t.language,i=t.datatype;n?r.literal=[{_attr:{"xml:lang":n}},r.literal]:i&&"http://www.w3.org/2001/XMLSchema#string"!==i.value&&(r.literal=[{_attr:{datatype:i.value}},r.literal])}else r="BlankNode"===e.termType?{bnode:e.value}:{uri:e.value};return{binding:[{_attr:{name:t.substring(1)}},r]}}async testHandleChecked(e,t){if(["bindings","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(t,r,n){const o=new i.Readable;o._read=()=>{};const u=s.element({_attr:{xlmns:"http://www.w3.org/2005/sparql-results#"}});if(s({sparql:u},{stream:!0,indent:"  ",declaration:!0}).on("data",e=>o.push(e+"\n")),"bindings"===t.type&&t.variables.length&&u.push({head:t.variables.map(e=>({variable:{_attr:{name:e.substr(1)}}}))}),"bindings"===t.type){const e=s.element({});u.push({results:e});const r=t.bindingsStream;r.on("error",e=>{o.emit("error",e)}),r.on("data",t=>{const r=t.filter((e,t)=>!!e&&t.startsWith("?"));e.push({result:r.map(a.bindingToXmlBindings)})}),r.on("end",()=>{e.close(),u.close(),o.push(null)})}else try{u.push({boolean:await t.booleanResult}),u.close(),e(()=>o.push(null))}catch(t){e(()=>o.emit("error",t))}return{data:o}}}t.ActorSparqlSerializeSparqlXml=a}).call(this,r(13).setImmediate)},function(e,t,r){(function(t){var n=r(415),i=r(1).Stream,s="    ";function a(e,t,r){r=r||0;var i,s,o=(i=t,new Array(r||0).join(i||"")),u=e;if("object"==typeof e&&((u=e[s=Object.keys(e)[0]])&&u._elem))return u._elem.name=s,u._elem.icount=r,u._elem.indent=t,u._elem.indents=o,u._elem.interrupt=u,u._elem;var c,l=[],h=[];function p(e){Object.keys(e).forEach((function(t){l.push(function(e,t){return e+'="'+n(t)+'"'}(t,e[t]))}))}switch(typeof u){case"object":if(null===u)break;u._attr&&p(u._attr),u._cdata&&h.push(("<![CDATA["+u._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),u.forEach&&(c=!1,h.push(""),u.forEach((function(e){"object"==typeof e?"_attr"==Object.keys(e)[0]?p(e._attr):h.push(a(e,t,r+1)):(h.pop(),c=!0,h.push(n(e)))})),c||h.push(""));break;default:h.push(n(u))}return{name:s,interrupt:!1,attributes:l,content:h,icount:r,indents:o,indent:t}}function o(e,t,r){if("object"!=typeof t)return e(!1,t);var n=t.interrupt?1:t.content.length;function i(){for(;t.content.length;){var i=t.content.shift();if(void 0!==i){if(s(i))return;o(e,i)}}e(!1,(n>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?"\n":"")),r&&r()}function s(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=i,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(n?t.name?">":"":t.name?"/>":"")+(t.indent&&n>1?"\n":"")),!n)return e(!1,t.indent?"\n":"");s(t)||i()}e.exports=function(e,r){"object"!=typeof r&&(r={indent:r});var n,u,c=r.stream?new i:null,l="",h=!1,p=r.indent?!0===r.indent?s:r.indent:"",d=!0;function f(e){d?t.nextTick(e):e()}function m(e,t){if(void 0!==t&&(l+=t),e&&!h&&(c=c||new i,h=!0),e&&h){var r=l;f((function(){c.emit("data",r)})),l=""}}function y(e,t){o(m,a(e,p,p?1:0),t)}function g(){if(c){var e=l;f((function(){c.emit("data",e),c.emit("end"),c.readable=!1,c.emit("close")}))}}return f((function(){d=!1})),r.declaration&&(n=r.declaration,u={version:"1.0",encoding:n.encoding||"UTF-8"},n.standalone&&(u.standalone=n.standalone),y({"?xml":{_attr:u}}),l=l.replace("/>","?>")),e&&e.forEach?e.forEach((function(t,r){var n;r+1===e.length&&(n=g),y(t,n)})):y(e,g),c?(c.readable=!0,c):l},e.exports.element=e.exports.Element=function(){var e={_elem:a(Array.prototype.slice.call(arguments)),push:function(e){if(!this.append)throw new Error("not assigned to a parent!");var t=this,r=this._elem.indent;o(this.append,a(e,r,this._elem.icount+(r?1:0)),(function(){t.append(!0)}))},close:function(e){void 0!==e&&this.push(e),this.end&&this.end()}};return e}}).call(this,r(11))},function(e,t){var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};e.exports=function(e){return e&&e.replace?e.replace(/([&"<>'])/g,(function(e,t){return r[t]})):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(417))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(1);class s extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){if(["bindings","quads"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(e){const t=["Result","Delay (ms)"].join(",");e.push(t+"\n")}pushStat(e,t,r){const n=[r,this.delay(t)].join(",");e.push(n+"\n")}pushFooter(e,t){const r=["TOTAL",this.delay(t)].join(",");e.push(r+"\n"),e.push(null)}async runHandle(t,r,n){const s=new i.Readable;s._read=()=>{};const a="bindings"===t.type?t.bindingsStream:t.quadStream,o=e.hrtime();let u=1;return this.pushHeader(s),a.on("error",e=>s.emit("error",e)),a.on("data",()=>this.pushStat(s,o,u++)),a.on("end",()=>this.pushFooter(s,o)),{data:s}}delay(t){const r=e.hrtime(t);return 1e3*r[0]+r[1]/1e6}}t.ActorSparqlSerializeStats=s}).call(this,r(11))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(419))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(21),s=r(1);class a extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e),this.padding=a.repeat(" ",this.columnWidth)}static repeat(e,t){return new Array(t+1).join(e)}async testHandleChecked(e,t){if(["bindings","quads"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings or quad streams.");return!0}pad(e){return e.length<=this.columnWidth?e+this.padding.slice(e.length):e.slice(0,this.columnWidth-1)+""}pushHeader(e,t){const r=t.map(this.pad,this).join(" ");e.push(r+"\n"+a.repeat("-",r.length)+"\n")}async runHandle(e,t,r){const n=new s.Readable;let a;return n._read=()=>{},"bindings"===e.type?(a=e.bindingsStream,this.pushHeader(n,e.variables),a.on("error",e=>n.emit("error",e)),a.on("data",e=>n.push(e.map((e,t)=>this.pad(e?e.value:"")).join(" ")+"\n"))):(a=e.quadStream,this.pushHeader(n,i.QUAD_TERM_NAMES),a.on("error",e=>n.emit("error",e)),a.on("data",e=>n.push(i.getTerms(e).map(e=>this.pad(e.value)).join(" ")+"\n"))),a.on("end",()=>n.push(null)),{data:n}}}t.ActorSparqlSerializeTable=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(421))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24);r(39);const i=r(165);class s extends n.ActorHttp{constructor(e){super(e)}async test(e){if(!(e.context&&e.context.has(t.KEY_CONTEXT_DATETIME)&&e.context.get(t.KEY_CONTEXT_DATETIME)instanceof Date))throw new Error("This actor only handles request with a set valid datetime.");if(e.init&&new Headers(e.init.headers||{}).has("accept-datetime"))throw new Error("The request already has a set datetime.");return!0}async run(e){const r=e.init?Object.assign({},e.init):{},n=r.headers=new Headers(r.headers||{});e.context&&e.context.has(t.KEY_CONTEXT_DATETIME)&&n.append("accept-datetime",e.context.get(t.KEY_CONTEXT_DATETIME).toUTCString());const s={context:e.context,input:e.input,init:r},a=await this.mediatorHttp.mediate(s);if(n.has("accept-datetime")&&a.headers&&!a.headers.has("memento-datetime")){const t=a.headers.has("link")&&i(a.headers.get("link"));if(t&&t.timegate){a.body.cancel();const n={context:e.context,input:t.timegate.url,init:r};return this.mediatorHttp.mediate(n)}}return a}}t.ActorHttpMemento=s,t.KEY_CONTEXT_DATETIME="@comunica/actor-http-memento:datetime"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(423))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22);class i extends n.ActorSparqlSerialize{constructor(e){super(e)}async testHandle(e,t,r){if("quads"!==e.type)throw new Error("Actor "+this.name+" can only handle quad streams");const n=(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes;if(!(t in n))throw new Error("Actor "+this.name+" can not handle media type "+t+". All available types: "+Object.keys(n));return!0}async runHandle(e,t,r){return(await this.mediatorRdfSerialize.mediate({context:r,handle:{quads:e.quadStream},handleMediaType:t})).handle}async testMediaType(e){return!0}async getMediaTypes(e){return(await this.mediatorMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}}t.ActorSparqlSerializeRdf=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(425)),n(r(426))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24);class i extends n.ActorHttp{constructor(e){super(e)}async test(e){const r=e.context.get(t.KEY_CONTEXT_HTTPPROXYHANDLER);if(!r)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await r.getProxy(e))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:1/0}}async run(e){const r="string"==typeof e.input?e.input:e.input.url,n=e.context.get(t.KEY_CONTEXT_HTTPPROXYHANDLER),i=await this.mediatorHttp.mediate(Object.assign(Object.assign({},await n.getProxy(e)),{context:e.context.delete(t.KEY_CONTEXT_HTTPPROXYHANDLER)}));return i.url=i.headers.get("x-final-url")||r,i}}t.ActorHttpProxy=i,t.KEY_CONTEXT_HTTPPROXYHANDLER="@comunica/actor-http-proxy:httpProxyHandler"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ProxyHandlerStatic=class{constructor(e){this.prefixUrl=e}async getProxy(e){return{init:e.init,input:this.modifyInput(e.input)}}modifyInput(e){return"string"==typeof e?this.prefixUrl+e:new Request(this.prefixUrl+e.url,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=n.ActorQueryOperation.getSafeBindings(r);return{type:"boolean",booleanResult:new Promise((e,t)=>{i.bindingsStream.once("data",()=>{e(!0),i.bindingsStream.close()}),i.bindingsStream.on("end",()=>e(!1)),i.bindingsStream.on("error",t)})}}}t.ActorQueryOperationAsk=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(20),s=r(0),a=r(4),o=r(162);class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"service")}async testOperation(e,t){if("NamedNode"!==e.name.termType)throw new Error(`${this.name} can only query services by IRI, while a ${e.name.termType} was given.`);return!0}async runOperation(e,t){const r=e.name.value;let u=(t=t||s.ActionContext({})).delete(i.KEY_CONTEXT_SOURCE).delete(i.KEY_CONTEXT_SOURCES);const c=this.forceSparqlEndpoint?"sparql":"auto";let l;u=u.set(i.KEY_CONTEXT_SOURCES,o.AsyncReiterableArray.fromFixedData([{type:c,value:r}]));try{l=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:u}))}catch(t){if(!e.silent)throw t;l={bindingsStream:new a.SingletonIterator(n.Bindings({})),type:"bindings",variables:[]}}return l}}t.ActorQueryOperationService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),i=!!e.length||0===e.length;return{type:"bindings",bindingsStream:r.bindingsStream.range(e.start,i?e.start+e.length-1:1/0),metadata:r.metadata?()=>r.metadata().then(t=>{let r=t.totalItems;return isFinite(r)&&(r=Math.max(0,r-e.start),i&&(r=Math.min(r,e.length))),Object.assign({},t,{totalItems:r})}):null,variables:r.variables}}}t.ActorQueryOperationSlice=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,t){if(1!==e.patterns.length)throw new Error("Actor "+this.name+" can only operate on BGPs with a single pattern.");return!0}runOperation(e,t){if(t&&t.has(n.KEY_CONTEXT_BGP_PARENTMETADATA)){const e=t.get(n.KEY_CONTEXT_BGP_PARENTMETADATA);t=(t=t.delete(n.KEY_CONTEXT_BGP_PARENTMETADATA)).set(n.KEY_CONTEXT_PATTERN_PARENTMETADATA,e[0])}return this.mediatorQueryOperation.mediate({operation:e.patterns[0],context:t})}}t.ActorQueryOperationBgpSingle=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(4),s=r(25),a=r(5),o=r(21);class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}static createLeftDeepStream(e,t,r){const n=new i.MultiTransformIterator(e);return n._createTransformer=e=>{const n=t=>t.merge(e);return new s.PromiseProxyIterator(async()=>(await r(u.materializePatterns(t,e))).map(n),{autoStart:!0,maxBufferSize:128})},n}static getCombinedVariables(e){return r(172)([].concat.apply([],e.map(e=>e.variables)))}static getSmallestPatternId(e){let t=-1,r=1/0;for(let n=0;n<e.length;n++){const i=e[n],s=u.getTotalItems(i);s<=r&&(r=s,t=n)}return t}static estimateCombinedTotalItems(e,t){const r=u.getTotalItems(e);return t.map(e=>r*u.getTotalItems(e)).reduce((e,t)=>e+t,0)}static getTotalItems(e){const t=(e||{}).totalItems;return t||0===t?t:1/0}static materializePatterns(e,t){return e.map(e=>u.materializePattern(e,t))}static materializePattern(e,t){const r={};return{pattern:Object.assign(o.mapTerms(e,(e,n)=>{const i=u.materializeTerm(e,t);return e!==i&&(r[n]=e),i}),{type:"pattern",context:e.context}),bindings:r}}static materializeTerm(e,t){if("Variable"===e.termType){const r=t.get(a.termToString(e));if(r)return r}return e}static async hasOneEmptyPatternOutput(e){for(const t of e)if(t.metadata){const e=await t.metadata();if(!u.getTotalItems(e))return!0}return!1}async testOperation(e,t){if(e.patterns.length<2)throw new Error("Actor "+this.name+" can only operate on BGPs with at least two patterns.");return!0}async runOperation(e,t){const r=(await Promise.all(e.patterns.map(e=>this.mediatorQueryOperation.mediate({operation:e,context:t})))).map(n.ActorQueryOperation.getSafeBindings);if(await u.hasOneEmptyPatternOutput(r))return{bindingsStream:new i.EmptyIterator,metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:[]};const s=await Promise.all(r.map(async e=>e.metadata?await e.metadata():{})),a=u.getSmallestPatternId(s);this.logDebug(t,"Smallest pattern: ",{pattern:e.patterns[a],metadata:s[a]});for(let e=0;e<r.length;e++)e!==a&&r[e].bindingsStream.close();const o=r.slice(a)[0],c=e.patterns.concat([]);c.splice(a,1);const l=s.concat([]);l.splice(a,1),n.ActorQueryOperation.validateQueryOutput(o,"bindings");const h=t&&t.set(n.KEY_CONTEXT_BGP_CURRENTMETADATA,s[a]).set(n.KEY_CONTEXT_BGP_PARENTMETADATA,l);return{type:"bindings",bindingsStream:u.createLeftDeepStream(o.bindingsStream,c,async e=>{const t={type:"bgp",patterns:e.map(e=>e.pattern)},r=e.map(e=>e.bindings);return n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:t,context:h.set(n.KEY_CONTEXT_BGP_PATTERNBINDINGS,r)})).bindingsStream}),variables:u.getCombinedVariables(r),metadata:()=>Promise.resolve({totalItems:u.estimateCombinedTotalItems(s[a],s.slice(a))})}}}t.ActorQueryOperationBgpLeftDeepSmallest=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(21),s=r(433);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return i.uniqTerms([].concat.apply([],e.map(e=>i.getVariables(i.getTerms(e)))))}async testOperation(e,t){return!0}async runOperation(e,t){const r=a.getVariables(e.template),i={type:"project",input:e.input,variables:r},o=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:i,context:t})),u=new s.BindingsToQuadsIterator(e.template,o.bindingsStream);let c=null;return o.metadata&&(c=()=>o.metadata().then(t=>t?t.totalItems?Object.assign({},t,{totalItems:t.totalItems*e.template.length}):t:null)),{metadata:c,quadStream:u,type:"quads"}}}t.ActorQueryOperationConstruct=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(4),s=r(21);class a extends i.MultiTransformIterator{constructor(e,t){super(t),this.template=e,this.blankNodeCounter=0}static bindTerm(e,t){return"Variable"===t.termType?e.get("?"+t.value):t}static bindQuad(e,t){try{return s.mapTerms(t,t=>{const r=a.bindTerm(e,t);if(!r)throw new Error("Unbound term");return r})}catch(e){return null}}static localizeBlankNode(e,t){return"BlankNode"===t.termType?n.blankNode(t.value+e):t}static localizeQuad(e,t){return s.mapTerms(t,t=>a.localizeBlankNode(e,t))}static bindTemplate(e,t,r){return t.map(a.bindQuad.bind(null,e)).filter(e=>!!e).map(a.localizeQuad.bind(null,r))}_createTransformer(e){return new i.ArrayIterator(a.bindTemplate(e,this.template,this.blankNodeCounter++))}}t.BindingsToQuadsIterator=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(71),i=r(3),s=r(2),a=r(53);class o extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"describe")}async testOperation(e,t){return!0}async runOperation(e,t){const r=e.terms.filter(e=>"Variable"!==e.termType).map(e=>{const t=[s.triple(e,s.variable("__predicate"),s.variable("__object"))];return t.forEach(e=>e.type="pattern"),{input:{type:"bgp",patterns:t},template:t,type:"construct"}});if(r.length!==e.terms.length){let t=[];e.terms.filter(e=>"Variable"===e.termType).forEach((e,r)=>{const n=[s.triple(e,s.variable("__predicate"+r),s.variable("__object"+r))];n.forEach(e=>e.type="pattern"),t=t.concat(n)}),r.push({input:{type:"join",left:e.input,right:{type:"bgp",patterns:t}},template:t,type:"construct"})}const o=(await Promise.all(r.map(e=>this.mediatorQueryOperation.mediate({operation:e,context:t})))).map(i.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new a.RoundRobinUnionIterator(o.map(e=>e.quadStream)),metadata:()=>Promise.all(o.map(e=>e.metadata).filter(e=>!!e).map(e=>e())).then(n.ActorQueryOperationUnion.unionMetadata)}}}t.ActorQueryOperationDescribeSubject=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(53);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){return r(111).apply({},e)}static unionMetadata(e){let t=0;for(const r of e){if(!r.totalItems||!isFinite(r.totalItems)){t=1/0;break}t+=r.totalItems}return{totalItems:t}}async testOperation(e,t){return!0}async runOperation(e,t){const r=(await Promise.all([this.mediatorQueryOperation.mediate({operation:e.left,context:t}),this.mediatorQueryOperation.mediate({operation:e.right,context:t})])).map(n.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new i.RoundRobinUnionIterator(r.map(e=>e.bindingsStream)),metadata:r[0].metadata&&r[1].metadata?()=>Promise.all([r[0].metadata(),r[1].metadata()]).then(s.unionMetadata):null,variables:s.unionVariables(r.map(e=>e.variables))}}}t.ActorQueryOperationUnion=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(72);class i extends n.AbstractBindingsHash{constructor(e){super(e,"distinct")}newHashFilter(e,t){const r={};return i=>{const s=n.AbstractFilterHash.hash(e,t,i);return!(s in r)&&(r[s]=!0)}}}t.ActorQueryOperationDistinctHash=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(176);class s extends n.ActorQueryOperationTypedMediated{constructor(e,t){if(super(e,t),!i.AbstractFilterHash.doesHashAlgorithmExist(this.hashAlgorithm))throw new Error("The given hash algorithm is not present in this version of Node: "+this.hashAlgorithm);if(!i.AbstractFilterHash.doesDigestAlgorithmExist(this.digestAlgorithm))throw new Error("The given digest algorithm is not present in this version of Node: "+this.digestAlgorithm)}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t}));return{type:"bindings",bindingsStream:r.bindingsStream.filter(this.newHashFilter(this.hashAlgorithm,this.digestAlgorithm)),metadata:r.metadata,variables:r.variables}}}t.AbstractBindingsHash=s},function(e,t){
/*! @license MIT 2015-2019 Ruben Verborgh, Ghent University - imec */
t.getHashes=()=>["sha1"],t.createHash=()=>{let e;return{update:t=>e?e+=t:e=t,digest:()=>(function(e=""){const t=(e+="").length,o=~~((t/4+2+15)/16),u=new Array(o);for(let r=0,n=0;r<o;r++){u[r]=new Array(16);for(let i=0;i<16;i++,n++)u[r][i]=(n<t?e.charCodeAt(n)<<24:0)|(++n<t?e.charCodeAt(n)<<16:0)|(++n<t?e.charCodeAt(n)<<8:0)|(++n<t?e.charCodeAt(n):0)}u[o-1][14]=~~((t-1)/n),u[o-1][15]=8*(t-1)&4294967295;let c=1732584193,l=4023233417,h=2562383102,p=271733878,d=3285377520;const f=new Array(80);for(let e=0;e<o;e++){for(let t=0;t<16;t++)f[t]=u[e][t];for(let e=16;e<80;e++)f[e]=s(f[e-3]^f[e-8]^f[e-14]^f[e-16],1);let t=c,n=l,a=h,o=p,m=d;for(let e=0;e<80;e++){const u=~~(e/20),c=s(t,5)+i(u,n,a,o)+m+r[u]+f[e]&4294967295;m=o,o=a,a=s(n,30),n=t,t=c}c=c+t&4294967295,l=l+n&4294967295,h=h+a&4294967295,p=p+o&4294967295,d=d+m&4294967295}return a(c)+a(l)+a(h)+a(p)+a(d)})(e)}};
/*! @license MIT 2002-2014 Chris Veness */
const r=[1518500249,1859775393,2400959708,3395469782],n=Math.pow(2,35);function i(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function s(e,t){return e<<t|e>>>32-t}function a(e){let t="";for(let r=7;r>=0;r--){t+=(e>>>4*r&15).toString(16)}return t}},function(e,t,r){var n="undefined"!=typeof JSON?JSON:r(440);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var a,o="boolean"==typeof t.cycles&&t.cycles,u=t.replacer||function(e,t){return t},c=t.cmp&&(a=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},i={key:r,value:e[r]};return a(n,i)}}),l=[];return function e(t,a,h,p){var d=r?"\n"+new Array(p+1).join(r):"",f=r?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=u.call(t,a,h))){if("object"!=typeof h||null===h)return n.stringify(h);if(i(h)){for(var m=[],y=0;y<h.length;y++){var g=e(h,y,h[y],p+1)||n.stringify(null);m.push(d+r+g)}return"["+m.join(",")+d+"]"}if(-1!==l.indexOf(h)){if(o)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(h);var _=s(h).sort(c&&c(h));for(m=[],y=0;y<_.length;y++){var b=e(h,a=_[y],h[a],p+1);if(b){var v=n.stringify(a)+f+b;m.push(d+r+v)}}return l.splice(l.indexOf(h),1),"{"+m.join(",")+d+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},function(e,t,r){t.parse=r(441),t.stringify=r(442)},function(e,t){var r,n,i,s,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(e){throw{name:"SyntaxError",message:e,at:r,text:i}},u=function(e){return e&&e!==n&&o("Expected '"+e+"' instead of '"+n+"'"),n=i.charAt(r),r+=1,n},c=function(){var e,t="";for("-"===n&&(t="-",u("-"));n>="0"&&n<="9";)t+=n,u();if("."===n)for(t+=".";u()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,u(),"-"!==n&&"+"!==n||(t+=n,u());n>="0"&&n<="9";)t+=n,u();if(e=+t,isFinite(e))return e;o("Bad number")},l=function(){var e,t,r,i="";if('"'===n)for(;u();){if('"'===n)return u(),i;if("\\"===n)if(u(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)r=16*r+e;i+=String.fromCharCode(r)}else{if("string"!=typeof a[n])break;i+=a[n]}else i+=n}o("Bad string")},h=function(){for(;n&&n<=" ";)u()};s=function(){switch(h(),n){case"{":return function(){var e,t={};if("{"===n){if(u("{"),h(),"}"===n)return u("}"),t;for(;n;){if(e=l(),h(),u(":"),Object.hasOwnProperty.call(t,e)&&o('Duplicate key "'+e+'"'),t[e]=s(),h(),"}"===n)return u("}"),t;u(","),h()}}o("Bad object")}();case"[":return function(){var e=[];if("["===n){if(u("["),h(),"]"===n)return u("]"),e;for(;n;){if(e.push(s()),h(),"]"===n)return u("]"),e;u(","),h()}}o("Bad array")}();case'"':return l();case"-":return c();default:return n>="0"&&n<="9"?c():function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}o("Unexpected '"+n+"'")}()}},e.exports=function(e,t){var a;return i=e,r=0,n=" ",a=s(),h(),n&&o("Syntax error"),"function"==typeof t?function e(r,n){var i,s,a=r[n];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(s=e(a,i))?a[i]=s:delete a[i]);return t.call(r,n,a)}({"":a},""):a}},function(e,t){var r,n,i,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,(function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}e.exports=function(e,t,s){var a;if(r="",n="","number"==typeof s)for(a=0;a<s;a+=1)n+=" ";else"string"==typeof s&&(n=s);if(i=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,s){var a,u,c,l,h,p=r,d=s[t];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(t)),"function"==typeof i&&(d=i.call(s,t,d)),typeof d){case"string":return o(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(r+=n,h=[],"[object Array]"===Object.prototype.toString.apply(d)){for(l=d.length,a=0;a<l;a+=1)h[a]=e(a,d)||"null";return c=0===h.length?"[]":r?"[\n"+r+h.join(",\n"+r)+"\n"+p+"]":"["+h.join(",")+"]",r=p,c}if(i&&"object"==typeof i)for(l=i.length,a=0;a<l;a+=1)"string"==typeof(u=i[a])&&(c=e(u,d))&&h.push(o(u)+(r?": ":":")+c);else for(u in d)Object.prototype.hasOwnProperty.call(d,u)&&(c=e(u,d))&&h.push(o(u)+(r?": ":":")+c);return c=0===h.length?"{}":r?"{\n"+r+h.join(",\n"+r)+"\n"+p+"}":"{"+h.join(",")+"}",r=p,c}}("",{"":e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(34),s=r(3);class a extends s.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend")}async testOperation(e,t){new i.AsyncEvaluator(e.expression);return!0}async runOperation(e,t){const{expression:r,input:a,variable:o}=e,u=s.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a,context:t})),c=n.termToString(o),l=Object.assign({},s.ActorQueryOperation.getExpressionContext(t)),h=new i.AsyncEvaluator(r,l),p=u.variables.concat([c]),d=u.bindingsStream.transform({transform:async(e,r)=>{try{const t=await h.evaluate(e),r=e.set(c,t);d._push(r)}catch(r){i.isExpressionError(r)?(d._push(e),this.logWarn(t,`Expression error for extend operation with bindings '${JSON.stringify(e)}'`)):d.emit("error",r)}r()}}),f=u.metadata;return{type:"bindings",bindingsStream:d,metadata:f,variables:p}}}t.ActorQueryOperationExtend=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(54),i=r(182);t.AsyncEvaluator=class{constructor(e,t={}){this.algExpr=e,this.config=t,this.expr=n.transformAlgebra(e);const r={now:t.now||new Date(Date.now()),baseIRI:t.baseIRI||void 0,exists:t.exists,aggregate:t.aggregate};this.evaluator=new i.AsyncRecursiveEvaluator(r)}async evaluate(e){return(await this.evaluator.evaluate(this.expr,e)).toRDF()}async evaluateAsEBV(e){return(await this.evaluator.evaluate(this.expr,e)).coerceEBV()}async evaluateAsInternal(e){return await this.evaluator.evaluate(this.expr,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.Variable=class{constructor(e){this.expressionType=n.ExpressionType.Variable,this.name=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(23),s=r(14),a=r(16);class o{constructor(){this.expressionType=i.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],s.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}}t.Term=o;t.NamedNode=class extends o{constructor(e){super(),this.value=e,this.termType="namedNode"}toRDF(){return n.namedNode(this.value)}str(){return this.value}};class u extends o{constructor(e){super(),this.value=e,this.termType="blankNode",this.value=e}static nextID(){return u._nextID+=1,u.nextID.toString()}toRDF(){return n.blankNode(this.value)}}u._nextID=0,t.BlankNode=u;class c extends o{constructor(e,t,r,n){super(),this.typedValue=e,this.typeURL=t,this.strValue=r,this.language=n,this.termType="literal",this.type=s.type(t.value)}toRDF(){return n.literal(this.strValue||this.str(),this.language||this.typeURL)}str(){return this.strValue||this.typedValue.toString()}}t.Literal=c;class l extends c{coerceEBV(){return!!this.typedValue}toRDF(){const e=super.toRDF();return isFinite(this.typedValue)||(e.value=e.value.replace("Infinity","INF")),e}str(){return this.strValue||l.specificFormatters[this.type](this.typedValue)}}l.specificFormatters={integer:e=>e.toFixed(),float:e=>e.toString(),decimal:e=>e.toString(),double:e=>{const t=e.toExponential(),[r,n]=t.split("e"),i=n.replace(/\+/,"");return`${r.match(/\./)?r:r+".0"}E${i}`}},t.NumericLiteral=l;t.BooleanLiteral=class extends c{constructor(e,t){super(e,s.make(s.TypeURL.XSD_BOOLEAN),t),this.typedValue=e,this.strValue=t}coerceEBV(){return!!this.typedValue}};t.DateTimeLiteral=class extends c{constructor(e,t){super(e,s.make(s.TypeURL.XSD_DATE_TIME),t),this.typedValue=e,this.strValue=t}};t.LangStringLiteral=class extends c{constructor(e,t){super(e,s.make(s.TypeURL.RDF_LANG_STRING),e,t),this.typedValue=e,this.language=t}coerceEBV(){return 0!==this.strValue.length}};t.StringLiteral=class extends c{constructor(e){super(e,s.make(s.TypeURL.XSD_STRING),e),this.typedValue=e}coerceEBV(){return 0!==this.strValue.length}};t.NonLexicalLiteral=class extends c{constructor(e,t,r,n){super(e,t,r,n),this.typedValue=void 0,this.type="nonlexical",this.shouldBeCategory=s.type(t.value)}coerceEBV(){if(s.PrimitiveNumericTypes.contains(this.shouldBeCategory)||"boolean"===this.shouldBeCategory)return!1;throw new a.EBVCoercionError(this)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.Operator=class{constructor(e,t){this.args=e,this.apply=t,this.expressionType=n.ExpressionType.Operator}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.SpecialOperator=class{constructor(e,t,r){this.args=e,this.applyAsync=t,this.applySync=r,this.expressionType=n.ExpressionType.SpecialOperator}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.Named=class{constructor(e,t,r){this.name=e,this.args=t,this.apply=r,this.expressionType=n.ExpressionType.Named}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.Aggregate=class{constructor(e,t){this.name=e,this.expression=t,this.expressionType=n.ExpressionType.Aggregate}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.Existence=class{constructor(e){this.expression=e,this.expressionType=n.ExpressionType.Existence}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19),i=r(16),s=r(14),a=r(55),o=r(56),u={arity:1,overloads:o.declare().onTerm1(e=>o.string(e.str())).collect()},c={arity:1,overloads:o.declare().onNumeric1(e=>o.number(e.typedValue)).onBoolean1Typed(e=>o.number(e?1:0)).onUnary("string",e=>{const t=a.parseXSDFloat(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_FLOAT);return o.number(t)}).copy({from:["string"],to:["nonlexical"]}).collect()},l={arity:1,overloads:o.declare().onNumeric1(e=>o.number(e.typedValue,s.TypeURL.XSD_DOUBLE)).onBoolean1Typed(e=>o.number(e?1:0,s.TypeURL.XSD_DOUBLE)).onUnary("string",e=>{const t=a.parseXSDFloat(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_DOUBLE);return o.number(t,s.TypeURL.XSD_DOUBLE)}).copy({from:["string"],to:["nonlexical"]}).collect()},h={arity:1,overloads:o.declare().onNumeric1(e=>{const t=a.parseXSDDecimal(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_DECIMAL);return o.number(t,s.TypeURL.XSD_DECIMAL)}).copy({from:["integer"],to:["string"]}).copy({from:["integer"],to:["nonlexical"]}).onBoolean1Typed(e=>o.number(e?1:0,s.TypeURL.XSD_DECIMAL)).collect()},p={arity:1,overloads:o.declare().onBoolean1Typed(e=>o.number(e?1:0,s.TypeURL.XSD_INTEGER)).onNumeric1(e=>{const t=a.parseXSDInteger(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_INTEGER);return o.number(t,s.TypeURL.XSD_INTEGER)}).copy({from:["integer"],to:["string"]}).copy({from:["integer"],to:["nonlexical"]}).collect()},d={arity:1,overloads:o.declare().onUnary("date",e=>e).onUnary("string",e=>{const t=new Date(e.str());if(isNaN(t.getTime()))throw new i.CastError(e,s.TypeURL.XSD_DATE_TIME);return o.dateTime(t,e.str())}).copy({from:["string"],to:["nonlexical"]}).collect()},f={arity:1,overloads:o.declare().onNumeric1(e=>o.bool(e.coerceEBV())).onUnary("boolean",e=>e).onUnary("string",e=>{const t=e.str();if("true"!==t&&"false"!==t)throw new i.CastError(e,s.TypeURL.XSD_BOOLEAN);return o.bool("true"===t)}).copy({from:["string"],to:["nonlexical"]}).collect()},m={[s.TypeURL.XSD_STRING]:u,[s.TypeURL.XSD_FLOAT]:c,[s.TypeURL.XSD_DOUBLE]:l,[s.TypeURL.XSD_DECIMAL]:h,[s.TypeURL.XSD_INTEGER]:p,[s.TypeURL.XSD_DATE_TIME]:d,[s.TypeURL.XSD_DATE]:d,[s.TypeURL.XSD_BOOLEAN]:f};t.namedDefinitions=n.Map(m)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(454),s=r(463),a=r(181),o=r(19),u=r(35),c=r(14),l=r(16),h=r(55),p=r(465),d=r(14),f=r(54),m=r(56);function y(e,t){const r=e.toRDF(),n=t.toRDF(),i=r.equals(n);if("Literal"===r.termType&&"Literal"===n.termType)throw new l.RDFEqualTypeError([e,t]);return i}const g=(e,t)=>m.bool(p.matches(e,t)),_=(e,t,r)=>m.bool(p.matches(e,t,r));function b(e){return h.parseXSDDateTime(e.str())}const v={"!":{arity:1,overloads:m.declare().onTerm1(e=>m.bool(!e.coerceEBV())).collect()},UPLUS:{arity:1,overloads:m.declare().onNumeric1(e=>m.number(e.typedValue,e.typeURL.value)).collect()},UMINUS:{arity:1,overloads:m.declare().onNumeric1(e=>m.number(-e.typedValue,e.typeURL.value)).collect()},"*":{arity:2,overloads:m.declare().arithmetic((e,t)=>s.Decimal.mul(e,t).toNumber()).collect()},"/":{arity:2,overloads:m.declare().arithmetic((e,t)=>s.Decimal.div(e,t).toNumber()).onBinaryTyped(["integer","integer"],(e,t)=>{if(0===t)throw new l.ExpressionError("Integer division by 0");return m.number(s.Decimal.div(e,t).toNumber(),d.TypeURL.XSD_DECIMAL)}).collect()},"+":{arity:2,overloads:m.declare().arithmetic((e,t)=>s.Decimal.add(e,t).toNumber()).collect()},"-":{arity:2,overloads:m.declare().arithmetic((e,t)=>s.Decimal.sub(e,t).toNumber()).collect()},"=":{arity:2,overloads:m.declare().numberTest((e,t)=>e===t).stringTest((e,t)=>0===e.localeCompare(t)).booleanTest((e,t)=>e===t).dateTimeTest((e,t)=>e.getTime()===t.getTime()).set(["term","term"],([e,t])=>m.bool(y(e,t))).collect()},"!=":{arity:2,overloads:m.declare().numberTest((e,t)=>e!==t).stringTest((e,t)=>0!==e.localeCompare(t)).booleanTest((e,t)=>e!==t).dateTimeTest((e,t)=>e.getTime()!==t.getTime()).set(["term","term"],([e,t])=>m.bool(!y(e,t))).collect()},"<":{arity:2,overloads:m.declare().numberTest((e,t)=>e<t).stringTest((e,t)=>-1===e.localeCompare(t)).booleanTest((e,t)=>e<t).dateTimeTest((e,t)=>e.getTime()<t.getTime()).collect()},">":{arity:2,overloads:m.declare().numberTest((e,t)=>e>t).stringTest((e,t)=>1===e.localeCompare(t)).booleanTest((e,t)=>e>t).dateTimeTest((e,t)=>e.getTime()>t.getTime()).collect()},"<=":{arity:2,overloads:m.declare().numberTest((e,t)=>e<=t).stringTest((e,t)=>1!==e.localeCompare(t)).booleanTest((e,t)=>e<=t).dateTimeTest((e,t)=>e.getTime()<=t.getTime()).collect()},">=":{arity:2,overloads:m.declare().numberTest((e,t)=>e>=t).stringTest((e,t)=>-1!==e.localeCompare(t)).booleanTest((e,t)=>e>=t).dateTimeTest((e,t)=>e.getTime()>=t.getTime()).collect()},isiri:{arity:1,overloads:m.declare().onTerm1(e=>m.bool("namedNode"===e.termType)).collect()},isblank:{arity:1,overloads:m.declare().onTerm1(e=>m.bool("blankNode"===e.termType)).collect()},isliteral:{arity:1,overloads:m.declare().onTerm1(e=>m.bool("literal"===e.termType)).collect()},isnumeric:{arity:1,overloads:m.declare().onNumeric1(e=>m.bool(!0)).onTerm1(e=>m.bool(!1)).collect()},str:{arity:1,overloads:m.declare().onTerm1(e=>m.string(e.str())).collect()},lang:{arity:1,overloads:m.declare().onLiteral1(e=>m.string(e.language||"")).collect()},datatype:{arity:1,overloads:m.declare().onLiteral1(e=>new u.NamedNode(e.typeURL.value)).collect()},strdt:{arity:2,overloads:m.declare().onBinary(["string","namedNode"],(e,t)=>{const r=n.literal(e.typedValue,n.namedNode(t.value));return f.transformLiteral(r)}).collect()},strlang:{arity:2,overloads:m.declare().onBinaryTyped(["string","string"],(e,t)=>new u.LangStringLiteral(e,t.toLowerCase())).collect()},uuid:{arity:0,overloads:m.declare().set([],()=>new u.NamedNode(`urn:uuid:${a.v4()}`)).collect()},struuid:{arity:0,overloads:m.declare().set([],()=>m.string(a.v4())).collect()},strlen:{arity:1,overloads:m.declare().onStringly1(e=>m.number(e.typedValue.length,d.TypeURL.XSD_INTEGER)).collect()},substr:{arity:[2,3],overloads:m.declare().onBinaryTyped(["string","integer"],(e,t)=>m.string(e.substr(t-1))).onBinary(["langString","integer"],(e,t)=>{const r=e.typedValue.substr(t.typedValue-1);return m.langString(r,e.language)}).onTernaryTyped(["string","integer","integer"],(e,t,r)=>m.string(e.substr(t-1,r))).onTernary(["langString","integer","integer"],(e,t,r)=>{const n=e.typedValue.substr(t.typedValue-1,r.typedValue);return m.langString(n,e.language)}).collect()},ucase:{arity:1,overloads:m.declare().onString1Typed(e=>m.string(e.toUpperCase())).onLangString1(e=>m.langString(e.typedValue.toUpperCase(),e.language)).collect()},lcase:{arity:1,overloads:m.declare().onString1Typed(e=>m.string(e.toLowerCase())).onLangString1(e=>m.langString(e.typedValue.toLowerCase(),e.language)).collect()},strstarts:{arity:2,overloads:m.declare().onBinaryTyped(["string","string"],(e,t)=>m.bool(e.startsWith(t))).onBinaryTyped(["langString","string"],(e,t)=>m.bool(e.includes(t))).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);return m.bool(e.typedValue.startsWith(t.typedValue))}).collect()},strends:{arity:2,overloads:m.declare().onBinaryTyped(["string","string"],(e,t)=>m.bool(e.endsWith(t))).onBinaryTyped(["langString","string"],(e,t)=>m.bool(e.includes(t))).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);return m.bool(e.typedValue.endsWith(t.typedValue))}).collect()},contains:{arity:2,overloads:m.declare().onBinaryTyped(["string","string"],(e,t)=>m.bool(e.includes(t))).onBinaryTyped(["langString","string"],(e,t)=>m.bool(e.includes(t))).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);return m.bool(e.typedValue.includes(t.typedValue))}).collect()},strbefore:{arity:2,overloads:m.declare().onBinaryTyped(["string","string"],(e,t)=>m.string(e.substr(0,e.indexOf(t)))).onBinary(["langString","string"],(e,t)=>{const[r,n]=[e.typedValue,t.typedValue],i=e.typedValue.substr(0,r.indexOf(n));return i||!n?m.langString(i,e.language):m.string(i)}).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],i=e.typedValue.substr(0,r.indexOf(n));return i||!n?m.langString(i,e.language):m.string(i)}).collect()},strafter:{arity:2,overloads:m.declare().onBinaryTyped(["string","string"],(e,t)=>m.string(e.substr(e.indexOf(t)).substr(t.length))).onBinary(["langString","string"],(e,t)=>{const[r,n]=[e.typedValue,t.typedValue],i=r.substr(r.indexOf(n)).substr(n.length);return i||!n?m.langString(i,e.language):m.string(i)}).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],i=r.substr(r.indexOf(n)).substr(n.length);return i||!n?m.langString(i,e.language):m.string(i)}).collect()},encode_for_uri:{arity:1,overloads:m.declare().onStringly1Typed(e=>m.string(encodeURI(e))).collect()},langmatches:{arity:2,overloads:m.declare().onBinaryTyped(["string","string"],(e,t)=>m.bool(p.langMatches(e,t))).collect()},regex:{arity:[2,3],overloads:m.declare().onBinaryTyped(["string","string"],g).onBinaryTyped(["langString","string"],g).onTernaryTyped(["string","string","string"],_).onTernaryTyped(["langString","string","string"],_).collect()},replace:{arity:[3,4],overloads:m.declare().onTernaryTyped(["string","string","string"],(e,t,r)=>m.string(p.replace(e,t,r))).set(["langString","string","string"],([e,t,r])=>{const n=p.replace(e.typedValue,t.typedValue,r.typedValue);return m.langString(n,e.language)}).onQuaternaryTyped(["string","string","string","string"],(e,t,r,n)=>m.string(p.replace(e,t,r,n))).set(["langString","string","string","string"],([e,t,r,n])=>{const i=p.replace(e.typedValue,t.typedValue,r.typedValue,n.typedValue);return m.langString(i,e.language)}).collect()},abs:{arity:1,overloads:m.declare().onNumeric1(e=>m.number(Math.abs(e.typedValue),e.typeURL.value)).collect()},round:{arity:1,overloads:m.declare().onNumeric1(e=>m.number(Math.round(e.typedValue),e.typeURL.value)).collect()},ceil:{arity:1,overloads:m.declare().onNumeric1(e=>m.number(Math.ceil(e.typedValue),e.typeURL.value)).collect()},floor:{arity:1,overloads:m.declare().onNumeric1(e=>m.number(Math.floor(e.typedValue),e.typeURL.value)).collect()},rand:{arity:0,overloads:m.declare().set([],()=>m.number(Math.random(),d.TypeURL.XSD_DOUBLE)).collect()},year:{arity:1,overloads:m.declare().onDateTime1(e=>m.number(Number(b(e).year),d.TypeURL.XSD_INTEGER)).collect()},month:{arity:1,overloads:m.declare().onDateTime1(e=>m.number(Number(b(e).month),d.TypeURL.XSD_INTEGER)).collect()},day:{arity:1,overloads:m.declare().onDateTime1(e=>m.number(Number(b(e).day),d.TypeURL.XSD_INTEGER)).collect()},hours:{arity:1,overloads:m.declare().onDateTime1(e=>m.number(Number(b(e).hours),d.TypeURL.XSD_INTEGER)).collect()},minutes:{arity:1,overloads:m.declare().onDateTime1(e=>m.number(Number(b(e).minutes),d.TypeURL.XSD_INTEGER)).collect()},seconds:{arity:1,overloads:m.declare().onDateTime1(e=>m.number(Number(b(e).seconds),d.TypeURL.XSD_DECIMAL)).collect()},timezone:{arity:1,overloads:m.declare().onDateTime1(e=>{const t=p.formatDayTimeDuration(b(e).timezone);if(!t)throw new l.InvalidTimezoneCall(e.strValue);return new u.Literal(t,c.make(d.TypeURL.XSD_DAYTIME_DURATION),t)}).collect()},tz:{arity:1,overloads:m.declare().onDateTime1(e=>m.string(b(e).timezone)).collect()},md5:{arity:1,overloads:m.declare().onString1Typed(e=>m.string(i("md5").update(e).digest("hex"))).collect()},sha1:{arity:1,overloads:m.declare().onString1Typed(e=>m.string(i("sha1").update(e).digest("hex"))).collect()},sha256:{arity:1,overloads:m.declare().onString1Typed(e=>m.string(i("sha256").update(e).digest("hex"))).collect()},sha384:{arity:1,overloads:m.declare().onString1Typed(e=>m.string(i("sha384").update(e).digest("hex"))).collect()},sha512:{arity:1,overloads:m.declare().onString1Typed(e=>m.string(i("sha512").update(e).digest("hex"))).collect()}};t.definitions=o.Map(v)},function(e,t,r){"use strict";var n=r(9),i=r(455),s=r(456),a=r(457),o=r(462);function u(e){o.call(this,"digest"),this._hash=e}n(u,o),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new u(a(e))}},function(e,t,r){"use strict";var n=r(9),i=r(178),s=r(17).Buffer,a=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,r,n,i,s,a){return u(e+(t&r|~t&n)+i+s|0,a)+t|0}function l(e,t,r,n,i,s,a){return u(e+(t&n|r&~n)+i+s|0,a)+t|0}function h(e,t,r,n,i,s,a){return u(e+(t^r^n)+i+s|0,a)+t|0}function p(e,t,r,n,i,s,a){return u(e+(r^(t|~n))+i+s|0,a)+t|0}n(o,i),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;r=c(r,n,i,s,e[0],3614090360,7),s=c(s,r,n,i,e[1],3905402710,12),i=c(i,s,r,n,e[2],606105819,17),n=c(n,i,s,r,e[3],3250441966,22),r=c(r,n,i,s,e[4],4118548399,7),s=c(s,r,n,i,e[5],1200080426,12),i=c(i,s,r,n,e[6],2821735955,17),n=c(n,i,s,r,e[7],4249261313,22),r=c(r,n,i,s,e[8],1770035416,7),s=c(s,r,n,i,e[9],2336552879,12),i=c(i,s,r,n,e[10],4294925233,17),n=c(n,i,s,r,e[11],2304563134,22),r=c(r,n,i,s,e[12],1804603682,7),s=c(s,r,n,i,e[13],4254626195,12),i=c(i,s,r,n,e[14],2792965006,17),r=l(r,n=c(n,i,s,r,e[15],1236535329,22),i,s,e[1],4129170786,5),s=l(s,r,n,i,e[6],3225465664,9),i=l(i,s,r,n,e[11],643717713,14),n=l(n,i,s,r,e[0],3921069994,20),r=l(r,n,i,s,e[5],3593408605,5),s=l(s,r,n,i,e[10],38016083,9),i=l(i,s,r,n,e[15],3634488961,14),n=l(n,i,s,r,e[4],3889429448,20),r=l(r,n,i,s,e[9],568446438,5),s=l(s,r,n,i,e[14],3275163606,9),i=l(i,s,r,n,e[3],4107603335,14),n=l(n,i,s,r,e[8],1163531501,20),r=l(r,n,i,s,e[13],2850285829,5),s=l(s,r,n,i,e[2],4243563512,9),i=l(i,s,r,n,e[7],1735328473,14),r=h(r,n=l(n,i,s,r,e[12],2368359562,20),i,s,e[5],4294588738,4),s=h(s,r,n,i,e[8],2272392833,11),i=h(i,s,r,n,e[11],1839030562,16),n=h(n,i,s,r,e[14],4259657740,23),r=h(r,n,i,s,e[1],2763975236,4),s=h(s,r,n,i,e[4],1272893353,11),i=h(i,s,r,n,e[7],4139469664,16),n=h(n,i,s,r,e[10],3200236656,23),r=h(r,n,i,s,e[13],681279174,4),s=h(s,r,n,i,e[0],3936430074,11),i=h(i,s,r,n,e[3],3572445317,16),n=h(n,i,s,r,e[6],76029189,23),r=h(r,n,i,s,e[9],3654602809,4),s=h(s,r,n,i,e[12],3873151461,11),i=h(i,s,r,n,e[15],530742520,16),r=p(r,n=h(n,i,s,r,e[2],3299628645,23),i,s,e[0],4096336452,6),s=p(s,r,n,i,e[7],1126891415,10),i=p(i,s,r,n,e[14],2878612391,15),n=p(n,i,s,r,e[5],4237533241,21),r=p(r,n,i,s,e[12],1700485571,6),s=p(s,r,n,i,e[3],2399980690,10),i=p(i,s,r,n,e[10],4293915773,15),n=p(n,i,s,r,e[1],2240044497,21),r=p(r,n,i,s,e[8],1873313359,6),s=p(s,r,n,i,e[15],4264355552,10),i=p(i,s,r,n,e[6],2734768916,15),n=p(n,i,s,r,e[13],1309151649,21),r=p(r,n,i,s,e[4],4149444226,6),s=p(s,r,n,i,e[11],3174756917,10),i=p(i,s,r,n,e[2],718787259,15),n=p(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},function(e,t,r){"use strict";var n=r(12).Buffer,i=r(9),s=r(178),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(e,t){return e<<t|e>>>32-t}function m(e,t,r,n,i,s,a,o){return f(e+(t^r^n)+s+a|0,o)+i|0}function y(e,t,r,n,i,s,a,o){return f(e+(t&r|~t&n)+s+a|0,o)+i|0}function g(e,t,r,n,i,s,a,o){return f(e+((t|~r)^n)+s+a|0,o)+i|0}function _(e,t,r,n,i,s,a,o){return f(e+(t&n|r&~n)+s+a|0,o)+i|0}function b(e,t,r,n,i,s,a,o){return f(e+(t^(r|~n))+s+a|0,o)+i|0}i(d,s),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,d=0|this._e,v=0|this._a,w=0|this._b,S=0|this._c,E=0|this._d,T=0|this._e,x=0;x<80;x+=1){var O,A;x<16?(O=m(r,n,i,s,d,e[o[x]],h[0],c[x]),A=b(v,w,S,E,T,e[u[x]],p[0],l[x])):x<32?(O=y(r,n,i,s,d,e[o[x]],h[1],c[x]),A=_(v,w,S,E,T,e[u[x]],p[1],l[x])):x<48?(O=g(r,n,i,s,d,e[o[x]],h[2],c[x]),A=g(v,w,S,E,T,e[u[x]],p[2],l[x])):x<64?(O=_(r,n,i,s,d,e[o[x]],h[3],c[x]),A=y(v,w,S,E,T,e[u[x]],p[3],l[x])):(O=b(r,n,i,s,d,e[o[x]],h[4],c[x]),A=m(v,w,S,E,T,e[u[x]],p[4],l[x])),r=d,d=s,s=f(i,10),i=n,n=O,v=T,T=E,E=f(S,10),S=w,w=A}var R=this._b+i+E|0;this._b=this._c+s+T|0,this._c=this._d+d+v|0,this._d=this._e+r+w|0,this._e=this._a+n+S|0,this._a=R},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},function(e,t,r){(t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r}).sha=r(458),t.sha1=r(459),t.sha224=r(460),t.sha256=r(179),t.sha384=r(461),t.sha512=r(180)},function(e,t,r){var n=r(9),i=r(36),s=r(17).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var p=0;p<80;++p){var d=~~(p/20),f=0|((t=n)<<5|t>>>27)+l(d,i,s,o)+u+r[p]+a[d];u=o,o=s,s=c(i),i=n,n=f}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,r){var n=r(9),i=r(36),s=r(17).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,u=0|this._e,p=0;p<16;++p)r[p]=e.readInt32BE(4*p);for(;p<80;++p)r[p]=(t=r[p-3]^r[p-8]^r[p-14]^r[p-16])<<1|t>>>31;for(var d=0;d<80;++d){var f=~~(d/20),m=c(n)+h(f,i,s,o)+u+r[d]+a[f]|0;u=o,o=s,s=l(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,r){var n=r(9),i=r(179),s=r(36),a=r(17).Buffer,o=new Array(64);function u(){this.init(),this._w=o,s.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},function(e,t,r){var n=r(9),i=r(180),s=r(36),a=r(17).Buffer,o=new Array(160);function u(){this.init(),this._w=o,s.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},function(e,t,r){var n=r(17).Buffer,i=r(1).Transform,s=r(48).StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(9)(a,i),a.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=a},function(e,t,r){var n;!function(i){"use strict";var s,a,o,u=9e15,c=1e9,l="0123456789abcdef",h="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",p="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},f=!0,m="[DecimalError] ",y=m+"Invalid argument: ",g=m+"Precision limit exceeded",_=m+"crypto unavailable",b=Math.floor,v=Math.pow,w=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,S=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,E=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,T=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=1e7,O=7,A=h.length-1,R=p.length-1,P={name:"[object Decimal]"};function I(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",(r=O-n.length)&&(s+=U(r)),s+=n;a=e[t],(r=O-(n=a+"").length)&&(s+=U(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function j(e,t,r){if(e!==~~e||e<t||e>r)throw Error(y+e)}function N(e,t,r,n){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=O,i=0):(i=Math.ceil((t+1)/O),t%=O),s=v(10,O-t),o=e[i]%s|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(e[i+1]/s/100|0)==v(10,t-2)-1||(o==s/2||0==o)&&0==(e[i+1]/s/100|0):t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==v(10,t-3)-1,a}function C(e,t,r){for(var n,i,s=[0],a=0,o=e.length;a<o;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=l.indexOf(e.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),D(e)},P.ceil=function(){return D(new this.constructor(this),this.e+1,2)},P.comparedTo=P.cmp=function(e){var t,r,n,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,u=s.s,c=e.s;if(!a||!o)return u&&c?u!==c?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-c:0;if(u!==c)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(t=0,r=(n=a.length)<(i=o.length)?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},P.cosine=P.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+O,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?(r=Math.ceil(i/3),n=(1/J(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10");e.precision+=r,t=W(e,1,t.times(n),new e(1));for(var s=r;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,K(n,r)),n.precision=e,n.rounding=t,D(2==o||3==o?r.neg():r,e,t,!0)):new n(1):new n(NaN)},P.cubeRoot=P.cbrt=function(){var e,t,r,n,i,s,a,o,u,c,l=this,h=l.constructor;if(!l.isFinite()||l.isZero())return new h(l);for(f=!1,(s=l.s*v(l.s*l,1/3))&&Math.abs(s)!=1/0?n=new h(s.toString()):(r=I(l.d),(s=((e=l.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=v(r,1/3),e=b((e+1)/3)-(e%3==(e<0?-1:2)),(n=new h(r=s==1/0?"5e"+e:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),a=(e=h.precision)+3;;)if(c=(u=(o=n).times(o).times(o)).plus(l),n=k(c.plus(l).times(o),c.plus(u),a+2,1),I(o.d).slice(0,a)===(r=I(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(D(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!i&&(D(o,e+1,0),o.times(o).times(o).eq(l))){n=o;break}a+=4,i=1}return f=!0,D(n,e,h.rounding,t)},P.decimalPlaces=P.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-b(this.e/O))*O,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},P.dividedBy=P.div=function(e){return k(this,new this.constructor(e))},P.dividedToIntegerBy=P.divToInt=function(e){var t=this.constructor;return D(k(this,new t(e),0,1,1),t.precision,t.rounding)},P.equals=P.eq=function(e){return 0===this.cmp(e)},P.floor=function(){return D(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(e){return this.cmp(e)>0},P.greaterThanOrEqualTo=P.gte=function(e){var t=this.cmp(e);return 1==t||0===t},P.hyperbolicCosine=P.cosh=function(){var e,t,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?t=(1/J(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=W(a,1,s.times(t),new a(1),!0);for(var u,c=e,l=new a(8);c--;)u=s.times(s),s=o.minus(u.times(l.minus(u.times(l))));return D(s,a.precision=r,a.rounding=n,!0)},P.hyperbolicSine=P.sinh=function(){var e,t,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=W(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=W(s,2,i=i.times(1/J(5,e)),i,!0);for(var a,o=new s(5),u=new s(16),c=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(c))))}return s.precision=t,s.rounding=r,D(i,t,r,!0)},P.hyperbolicTangent=P.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,k(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},P.inverseCosine=P.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,s=r.rounding;return-1!==n?0===n?t.isNeg()?q(r,i,s):new r(0):new r(NaN):t.isZero()?q(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=q(r,i+4,s).times(.5),r.precision=i,r.rounding=s,e.minus(t))},P.inverseHyperbolicCosine=P.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,f=!1,r=r.times(r).minus(1).sqrt().plus(r),f=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},P.inverseHyperbolicSine=P.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,f=!1,r=r.times(r).plus(1).sqrt().plus(r),f=!0,n.precision=e,n.rounding=t,r.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var e,t,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?D(new s(i),e,t,!0):(s.precision=r=n-i.e,i=k(i.plus(1),new s(1).minus(i),r+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},P.inverseSine=P.asin=function(){var e,t,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==t?0===t?((e=q(s,r+4,n).times(.5)).s=i.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},P.inverseTangent=P.atan=function(){var e,t,r,n,i,s,a,o,u,c=this,l=c.constructor,h=l.precision,p=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=R)return(a=q(l,h+4,p).times(.25)).s=c.s,a}else{if(!c.s)return new l(NaN);if(h+4<=R)return(a=q(l,h+4,p).times(.5)).s=c.s,a}for(l.precision=o=h+10,l.rounding=1,e=r=Math.min(28,o/O+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(f=!1,t=Math.ceil(o/O),n=1,u=c.times(c),a=new l(c),i=c;-1!==e;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===s.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),f=!0,D(a,l.precision=h,l.rounding=p,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&b(this.e/O)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return this.s>0},P.isZero=function(){return!!this.d&&0===this.d[0]},P.lessThan=P.lt=function(e){return this.cmp(e)<0},P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1},P.logarithm=P.log=function(e){var t,r,n,i,s,a,o,u,c=this.constructor,l=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)s=!0;else{for(i=r[0];i%10==0;)i/=10;s=1!==i}if(f=!1,a=G(this,o=l+5),n=t?L(c,o+10):G(e,o),N((u=k(a,n,o,1)).d,i=l,h))do{if(a=G(this,o+=10),n=t?L(c,o+10):G(e,o),u=k(a,n,o,1),!s){+I(u.d).slice(i+1,i+15)+1==1e14&&(u=D(u,l+1,0));break}}while(N(u.d,i+=10,h));return f=!0,D(u,l,h)},P.minus=P.sub=function(e){var t,r,n,i,s,a,o,u,c,l,h,p,d=this,m=d.constructor;if(e=new m(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new m(e.d||d.s!==e.s?d:NaN):e=new m(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,p=e.d,o=m.precision,u=m.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new m(3===u?-0:0);e=new m(d)}return f?D(e,o,u):e}if(r=b(e.e/O),l=b(d.e/O),c=c.slice(),s=l-r){for((h=s<0)?(t=c,s=-s,a=p.length):(t=p,r=l,a=c.length),s>(n=Math.max(Math.ceil(o/O),a)+2)&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for((h=(n=c.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(c[n]!=p[n]){h=c[n]<p[n];break}s=0}for(h&&(t=c,c=p,p=t,e.s=-e.s),a=c.length,n=p.length-a;n>0;--n)c[a++]=0;for(n=p.length;n>s;){if(c[--n]<p[n]){for(i=n;i&&0===c[--i];)c[i]=x-1;--c[i],c[n]+=x}c[n]-=p[n]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=F(c,r),f?D(e,o,u):e):new m(3===u?-0:0)},P.modulo=P.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?D(new n(r),n.precision,n.rounding):(f=!1,9==n.modulo?(t=k(r,e.abs(),0,3,1)).s*=e.s:t=k(r,e,0,n.modulo,1),t=t.times(e),f=!0,r.minus(t))},P.naturalExponential=P.exp=function(){return Q(this)},P.naturalLogarithm=P.ln=function(){return G(this)},P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,D(e)},P.plus=P.add=function(e){var t,r,n,i,s,a,o,u,c,l,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new p(e.d||h.s===e.s?h:NaN)):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(c=h.d,l=e.d,o=p.precision,u=p.rounding,!c[0]||!l[0])return l[0]||(e=new p(h)),f?D(e,o,u):e;if(s=b(h.e/O),n=b(e.e/O),c=c.slice(),i=s-n){for(i<0?(r=c,i=-i,a=l.length):(r=l,n=s,a=c.length),i>(a=(s=Math.ceil(o/O))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=c.length)-(i=l.length)<0&&(i=a,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/x|0,c[i]%=x;for(t&&(c.unshift(t),++n),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=F(c,n),f?D(e,o,u):e},P.precision=P.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(y+e);return r.d?(t=B(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},P.round=function(){var e=this,t=e.constructor;return D(new t(e),e.e+1,t.rounding)},P.sine=P.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+O,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return W(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t.times(1/J(5,r)),t=W(e,2,t,t);for(var i,s=new e(5),a=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}(n,K(n,r)),n.precision=e,n.rounding=t,D(o>2?r.neg():r,e,t,!0)):new n(NaN)},P.squareRoot=P.sqrt=function(){var e,t,r,n,i,s,a=this,o=a.d,u=a.e,c=a.s,l=a.constructor;if(1!==c||!o||!o[0])return new l(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);for(f=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=I(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=b((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"1e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;)if(n=(s=n).plus(k(a,s,r+2,1)).times(.5),I(s.d).slice(0,r)===(t=I(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(D(n,u+1,1),e=!n.times(n).eq(a));break}if(!i&&(D(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1}return f=!0,D(n,u,l.rounding,e)},P.tangent=P.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=k(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,D(2==o||4==o?r.neg():r,e,t,!0)):new n(NaN)},P.times=P.mul=function(e){var t,r,n,i,s,a,o,u,c,l=this,h=l.constructor,p=l.d,d=(e=new h(e)).d;if(e.s*=l.s,!(p&&p[0]&&d&&d[0]))return new h(!e.s||p&&!p[0]&&!d||d&&!d[0]&&!p?NaN:p&&d?0*e.s:e.s/0);for(r=b(l.e/O)+b(e.e/O),(u=p.length)<(c=d.length)&&(s=p,p=d,d=s,a=u,u=c,c=a),s=[],n=a=u+c;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)o=s[i]+d[n]*p[i-n-1]+t,s[i--]=o%x|0,t=o/x|0;s[i]=(s[i]+t)%x|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=F(s,r),f?D(e,h.precision,h.rounding):e},P.toBinary=function(e,t){return Z(this,2,e,t)},P.toDecimalPlaces=P.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(j(e,0,c),void 0===t?t=n.rounding:j(t,0,8),D(r,e+r.e+1,t))},P.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=M(n,!0):(j(e,0,c),void 0===t?t=i.rounding:j(t,0,8),r=M(n=D(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},P.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return void 0===e?r=M(i):(j(e,0,c),void 0===t?t=s.rounding:j(t,0,8),r=M(n=D(new s(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},P.toFraction=function(e){var t,r,n,i,s,a,o,u,c,l,h,p,d=this,m=d.d,g=d.constructor;if(!m)return new g(d);if(c=r=new g(1),n=u=new g(0),a=(s=(t=new g(n)).e=B(m)-d.e-1)%O,t.d[0]=v(10,a<0?O+a:a),null==e)e=s>0?t:c;else{if(!(o=new g(e)).isInt()||o.lt(c))throw Error(y+o);e=o.gt(t)?s>0?t:c:o}for(f=!1,o=new g(I(m)),l=g.precision,g.precision=s=m.length*O*2;h=k(o,t,0,1,1),1!=(i=r.plus(h.times(n))).cmp(e);)r=n,n=i,i=c,c=u.plus(h.times(i)),u=i,i=t,t=o.minus(h.times(i)),o=i;return i=k(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=d.s,p=k(c,n,s,1).minus(d).abs().cmp(k(u,r,s,1).minus(d).abs())<1?[c,n]:[u,r],g.precision=l,f=!0,p},P.toHexadecimal=P.toHex=function(e,t){return Z(this,16,e,t)},P.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:j(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(f=!1,r=k(r,e,0,t,1).times(e),f=!0,D(r)):(e.s=r.s,r=e),r},P.toNumber=function(){return+this},P.toOctal=function(e,t){return Z(this,8,e,t)},P.toPower=P.pow=function(e){var t,r,n,i,s,a,o=this,u=o.constructor,c=+(e=new u(e));if(!(o.d&&e.d&&o.d[0]&&e.d[0]))return new u(v(+o,c));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,e.eq(1))return D(o,n,s);if((t=b(e.e/O))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=H(u,o,r,n),e.s<0?new u(1).div(i):D(i,n,s);if((a=o.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(r=v(+o,c))&&isFinite(r)?new u(r+"").e:b(c*(Math.log("0."+I(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(f=!1,u.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=Q(e.times(G(o,n+r)),n)).d&&N((i=D(i,n+5,1)).d,n,s)&&(t=n+10,+I((i=D(Q(e.times(G(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=D(i,n+1,0))),i.s=a,f=!0,u.rounding=s,D(i,n,s))},P.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=M(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(j(e,1,c),void 0===t?t=i.rounding:j(t,0,8),r=M(n=D(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},P.toSignificantDigits=P.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(j(e,1,c),void 0===t?t=r.rounding:j(t,0,8)),D(new r(this),e,t)},P.toString=function(){var e=this,t=e.constructor,r=M(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},P.truncated=P.trunc=function(){return D(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var e=this,t=e.constructor,r=M(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var k=function(){function e(e,t,r){var n,i=0,s=e.length;for(e=e.slice();s--;)n=e[s]*t+i,e[s]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,s,o,u,c){var l,h,p,d,f,m,y,g,_,v,w,S,E,T,A,R,P,I,j,N,C=n.constructor,k=n.s==i.s?1:-1,M=n.d,F=i.d;if(!(M&&M[0]&&F&&F[0]))return new C(n.s&&i.s&&(M?!F||M[0]!=F[0]:F)?M&&0==M[0]||!F?0*k:k/0:NaN);for(c?(f=1,h=n.e-i.e):(c=x,f=O,h=b(n.e/f)-b(i.e/f)),j=F.length,P=M.length,v=(_=new C(k)).d=[],p=0;F[p]==(M[p]||0);p++);if(F[p]>(M[p]||0)&&h--,null==s?(T=s=C.precision,o=C.rounding):T=u?s+(n.e-i.e)+1:s,T<0)v.push(1),m=!0;else{if(T=T/f+2|0,p=0,1==j){for(d=0,F=F[0],T++;(p<P||d)&&T--;p++)A=d*c+(M[p]||0),v[p]=A/F|0,d=A%F|0;m=d||p<P}else{for((d=c/(F[0]+1)|0)>1&&(F=e(F,d,c),M=e(M,d,c),j=F.length,P=M.length),R=j,S=(w=M.slice(0,j)).length;S<j;)w[S++]=0;(N=F.slice()).unshift(0),I=F[0],F[1]>=c/2&&++I;do{d=0,(l=t(F,w,j,S))<0?(E=w[0],j!=S&&(E=E*c+(w[1]||0)),(d=E/I|0)>1?(d>=c&&(d=c-1),1==(l=t(y=e(F,d,c),w,g=y.length,S=w.length))&&(d--,r(y,j<g?N:F,g,c))):(0==d&&(l=d=1),y=F.slice()),(g=y.length)<S&&y.unshift(0),r(w,y,S,c),-1==l&&(l=t(F,w,j,S=w.length))<1&&(d++,r(w,j<S?N:F,S,c)),S=w.length):0===l&&(d++,w=[0]),v[p++]=d,l&&w[0]?w[S++]=M[R]||0:(w=[M[R]],S=1)}while((R++<P||void 0!==w[0])&&T--);m=void 0!==w[0]}v[0]||v.shift()}if(1==f)_.e=h,a=m;else{for(p=1,d=v[0];d>=10;d/=10)p++;_.e=p+h*f-1,D(_,u?s+_.e+1:s,o,m)}return _}}();function D(e,t,r,n){var i,s,a,o,u,c,l,h,p,d=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,o=h[0];o>=10;o/=10)i++;if((s=t-i)<0)s+=O,a=t,u=(l=h[p=0])/v(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/O))>=(o=h.length)){if(!n)break e;for(;o++<=p;)h.push(0);l=u=0,i=1,a=(s%=O)-O+1}else{for(l=o=h[p],i=1;o>=10;o/=10)i++;u=(a=(s%=O)-O+i)<0?0:l/v(10,i-a-1)%10|0}if(n=n||t<0||void 0!==h[p+1]||(a<0?l:l%v(10,i-a-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?l/v(10,i-a):0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=v(10,(O-t%O)%O),e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=p,o=1,p--):(h.length=p+1,o=v(10,O-s),h[p]=a>0?(l/v(10,i-a)%v(10,a)|0)*o:0),c)for(;;){if(0==p){for(s=1,a=h[0];a>=10;a/=10)s++;for(a=h[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,h[0]==x&&(h[0]=1));break}if(h[p]+=o,h[p]!=x)break;h[p--]=0,o=1}for(s=h.length;0===h[--s];)h.pop()}return f&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function M(e,t,r){if(!e.isFinite())return X(e);var n,i=e.e,s=I(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+U(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+U(-i-1)+s,r&&(n=r-a)>0&&(s+=U(n))):i>=a?(s+=U(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+U(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=U(n))),s}function F(e,t){var r=e[0];for(t*=O;r>=10;r/=10)t++;return t}function L(e,t,r){if(t>A)throw f=!0,r&&(e.precision=r),Error(g);return D(new e(h),t,1,!0)}function q(e,t,r){if(t>R)throw Error(g);return D(new e(p),t,r,!0)}function B(e){var t=e.length-1,r=t*O+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function U(e){for(var t="";e--;)t+="0";return t}function H(e,t,r,n){var i,s=new e(1),a=Math.ceil(n/O+4);for(f=!1;;){if(r%2&&ee((s=s.times(t)).d,a)&&(i=!0),0===(r=b(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}ee((t=t.times(t)).d,a)}return f=!0,s}function z(e){return 1&e.d[e.d.length-1]}function V(e,t,r){for(var n,i=new e(t[0]),s=0;++s<t.length;){if(!(n=new e(t[s])).s){i=n;break}i[r](n)&&(i=n)}return i}function Q(e,t){var r,n,i,s,a,o,u,c=0,l=0,h=0,p=e.constructor,d=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(f=!1,u=m):u=t,o=new p(.03125);e.e>-2;)e=e.times(o),h+=5;for(u+=n=Math.log(v(2,h))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=D(s.times(e),u,1),r=r.times(++l),I((o=a.plus(k(s,r,u,1))).d).slice(0,u)===I(a.d).slice(0,u)){for(i=h;i--;)a=D(a.times(a),u,1);if(null!=t)return p.precision=m,a;if(!(c<3&&N(a.d,u-n,d,c)))return D(a,p.precision=m,d,f=!0);p.precision=u+=10,r=s=o=new p(1),l=0,c++}a=o}}function G(e,t){var r,n,i,s,a,o,u,c,l,h,p,d=1,m=e,y=m.d,g=m.constructor,_=g.rounding,b=g.precision;if(m.s<0||!y||!y[0]||!m.e&&1==y[0]&&1==y.length)return new g(y&&!y[0]?-1/0:1!=m.s?NaN:y?0:m);if(null==t?(f=!1,l=b):l=t,g.precision=l+=10,n=(r=I(y)).charAt(0),!(Math.abs(s=m.e)<15e14))return c=L(g,l+2,b).times(s+""),m=G(new g(n+"."+r.slice(1)),l-10).plus(c),g.precision=b,null==t?D(m,b,_,f=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=I((m=m.times(e)).d)).charAt(0),d++;for(s=m.e,n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1)),h=m,u=a=m=k(m.minus(1),m.plus(1),l,1),p=D(m.times(m),l,1),i=3;;){if(a=D(a.times(p),l,1),I((c=u.plus(k(a,new g(i),l,1))).d).slice(0,l)===I(u.d).slice(0,l)){if(u=u.times(2),0!==s&&(u=u.plus(L(g,l+2,b).times(s+""))),u=k(u,new g(d),l,1),null!=t)return g.precision=b,u;if(!N(u.d,l-10,_,o))return D(u,g.precision=b,_,f=!0);g.precision=l+=10,c=a=m=k(h.minus(1),h.plus(1),l,1),p=D(m.times(m),l,1),i=o=1}u=c,i+=2}}function X(e){return String(e.s*e.s/0)}function $(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%O,r<0&&(n+=O),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=O;n<i;)e.d.push(+t.slice(n,n+=O));t=t.slice(n),n=O-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Y(e,t){var r,n,i,a,o,u,c,l,h;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(S.test(t))r=16,t=t.toLowerCase();else if(w.test(t))r=2;else{if(!E.test(t))throw Error(y+t);r=8}for((a=t.search(/p/i))>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,n=e.constructor,o&&(a=(u=(t=t.replace(".","")).length)-a,i=H(n,new n(r),a,2*a)),a=h=(l=C(t,r,x)).length-1;0===l[a];--a)l.pop();return a<0?new n(0*e.s):(e.e=F(l,h),e.d=l,f=!1,o&&(e=k(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?v(2,c):s.pow(2,c))),f=!0,e)}function W(e,t,r,n,i){var s,a,o,u,c=e.precision,l=Math.ceil(c/O);for(f=!1,u=r.times(r),o=new e(n);;){if(a=k(o.times(u),new e(t++*t++),c,1),o=i?n.plus(a):n.minus(a),n=k(a.times(u),new e(t++*t++),c,1),void 0!==(a=o.plus(n)).d[l]){for(s=l;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s}return f=!0,a.d.length=l+1,a}function J(e,t){for(var r=e;--t;)r*=e;return r}function K(e,t){var r,n=t.s<0,i=q(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return o=n?4:1,t;if((r=t.divToInt(i)).isZero())o=n?3:2;else{if((t=t.minus(r.times(i))).lte(s))return o=z(r)?n?2:3:n?4:1,t;o=z(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Z(e,t,r,n){var i,s,o,u,h,p,d,f,m,y=e.constructor,g=void 0!==r;if(g?(j(r,1,c),void 0===n?n=y.rounding:j(n,0,8)):(r=y.precision,n=y.rounding),e.isFinite()){for(g?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(o=(d=M(e)).indexOf("."))>=0&&(d=d.replace(".",""),(m=new y(1)).e=d.length-o,m.d=C(M(m),10,i),m.e=m.d.length),s=h=(f=C(d,10,i)).length;0==f[--h];)f.pop();if(f[0]){if(o<0?s--:((e=new y(e)).d=f,e.e=s,f=(e=k(e,m,r,n,0,i)).d,s=e.e,p=a),o=f[r],u=i/2,p=p||void 0!==f[r+1],p=n<4?(void 0!==o||p)&&(0===n||n===(e.s<0?3:2)):o>u||o===u&&(4===n||p||6===n&&1&f[r-1]||n===(e.s<0?8:7)),f.length=r,p)for(;++f[--r]>i-1;)f[r]=0,r||(++s,f.unshift(1));for(h=f.length;!f[h-1];--h);for(o=0,d="";o<h;o++)d+=l.charAt(f[o]);if(g){if(h>1)if(16==t||8==t){for(o=16==t?4:3,--h;h%o;h++)d+="0";for(h=(f=C(d,i,t)).length;!f[h-1];--h);for(o=1,d="1.";o<h;o++)d+=l.charAt(f[o])}else d=d.charAt(0)+"."+d.slice(1);d=d+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)d="0"+d;d="0."+d}else if(++s>h)for(s-=h;s--;)d+="0";else s<h&&(d=d.slice(0,s)+"."+d.slice(s))}else d=g?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=X(e);return e.s<0?"-"+d:d}function ee(e,t){if(e.length>t)return e.length=t,!0}function te(e){return new this(e).abs()}function re(e){return new this(e).acos()}function ne(e){return new this(e).acosh()}function ie(e,t){return new this(e).plus(t)}function se(e){return new this(e).asin()}function ae(e){return new this(e).asinh()}function oe(e){return new this(e).atan()}function ue(e){return new this(e).atanh()}function ce(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,s=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?q(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=q(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,r=this.atan(k(e,t,s,1)),t=q(this,s,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(k(e,t,s,1)):(r=q(this,s,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function le(e){return new this(e).cbrt()}function he(e){return D(e=new this(e),e.e+1,2)}function pe(e){if(!e||"object"!=typeof e)throw Error(m+"Object expected");var t,r,n,i=!0===e.defaults,s=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],i&&(this[r]=d[r]),void 0!==(n=e[r])){if(!(b(n)===n&&n>=s[t+1]&&n<=s[t+2]))throw Error(y+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=d[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(y+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(_);this[r]=!0}else this[r]=!1}return this}function de(e){return new this(e).cos()}function fe(e){return new this(e).cosh()}function me(e,t){return new this(e).div(t)}function ye(e){return new this(e).exp()}function ge(e){return D(e=new this(e),e.e+1,3)}function _e(){var e,t,r=new this(0);for(f=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return f=!0,new this(1/0);r=t}return f=!0,r.sqrt()}function be(e){return e instanceof s||e&&"[object Decimal]"===e.name||!1}function ve(e){return new this(e).ln()}function we(e,t){return new this(e).log(t)}function Se(e){return new this(e).log(2)}function Ee(e){return new this(e).log(10)}function Te(){return V(this,arguments,"lt")}function xe(){return V(this,arguments,"gt")}function Oe(e,t){return new this(e).mod(t)}function Ae(e,t){return new this(e).mul(t)}function Re(e,t){return new this(e).pow(t)}function Pe(e){var t,r,n,i,s=0,a=new this(1),o=[];if(void 0===e?e=this.precision:j(e,1,c),n=Math.ceil(e/O),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(_);for(t=crypto.randomBytes(n*=4);s<n;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=n/4}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(n=o[--s],e%=O,n&&e&&(i=v(10,O-e),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=O)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<O&&(r-=O-n)}return a.e=r,a.d=o,a}function Ie(e){return D(e=new this(e),e.e+1,this.rounding)}function je(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ne(e){return new this(e).sin()}function Ce(e){return new this(e).sinh()}function ke(e){return new this(e).sqrt()}function De(e,t){return new this(e).sub(t)}function Me(e){return new this(e).tan()}function Fe(e){return new this(e).tanh()}function Le(e){return D(e=new this(e),e.e+1,1)}(s=function e(t){var r,n,i;function s(e){var t,r,n,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,e instanceof s)return i.s=e.s,void(f?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(f?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):$(i,e.toString())}if("string"!==n)throw Error(y+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),T.test(e)?$(i,e):Y(i,e)}if(s.prototype=P,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=pe,s.clone=e,s.isDecimal=be,s.abs=te,s.acos=re,s.acosh=ne,s.add=ie,s.asin=se,s.asinh=ae,s.atan=oe,s.atanh=ue,s.atan2=ce,s.cbrt=le,s.ceil=he,s.cos=de,s.cosh=fe,s.div=me,s.exp=ye,s.floor=ge,s.hypot=_e,s.ln=ve,s.log=we,s.log10=Ee,s.log2=Se,s.max=Te,s.min=xe,s.mod=Oe,s.mul=Ae,s.pow=Re,s.random=Pe,s.round=Ie,s.sign=je,s.sin=Ne,s.sinh=Ce,s.sqrt=ke,s.sub=De,s.tan=Me,s.tanh=Fe,s.trunc=Le,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return s.config(t),s}(d)).default=s.Decimal=s,h=new s(h),p=new s(p),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){var n,i,s=r(79),a=r(80),o=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,l=t||[],h=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==p){var d=s();null==h&&(h=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:u+1,y=f-o+(m-u)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||f>o)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=f,u=m,i=p;var g=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var _=f/4294967296*1e4&268435455;l[c++]=_>>>8&255,l[c++]=255&_,l[c++]=_>>>24&15|16,l[c++]=_>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var b=0;b<6;++b)l[c+b]=h[b];return t||a(l)}},function(e,t,r){"use strict";function n(e){return"*"===e}function i(e,t){return new RegExp(`/${e}/`,"i").test(`/${t}/`)}Object.defineProperty(t,"__esModule",{value:!0}),t.matches=function(e,t,r){return new RegExp(t,r).test(e)},t.replace=function(e,t,r,n){let i=new RegExp(t,n);if(!i.global){i=new RegExp(t,(n||"")+"g")}return e.replace(i,r)},t.langMatches=function(e,t){const r=e.split("-"),s=t.split("-");if(!i(s[0],r[0])&&!n(r[0]))return!1;let a=1,o=1;for(;o<s.length;)if(n(s[o]))o++;else{if(a===r.length)return!1;if(i(s[o],r[a]))a++,o++;else{if(1===r[a].length)return!1;a++}}return!0},t.formatDayTimeDuration=function(e){if(e){if("Z"===e[0])return"PT0S";{const[t,r,n,i,s,a]=e,o="0"!==r?r:"",u=o||"0"!==n?n:"",c="0"!==s?s:"",l=c||"0"!==a?a:"";return`${"-"===t?"-":""}PT${`${o+u?o+u+"H":""}${c+l?c+l+"M":""}`}`}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19),i=r(467),s=r(181),a=r(35),o=r(14),u=r(16),c=r(56),l=r(73);function h({args:e,mapping:t}){const r=e[0];if(r.expressionType!==a.ExpressionType.Variable)throw new u.InvalidArgumentTypes(e,o.SpecialOperator.BOUND);const n=t.has(r.name)&&!!t.get(r.name);return c.bool(n)}function p(e){return e.length>0&&e.every(t=>t.language===e[0].language)}const d={arity:1,applyAsync:async({args:e,evaluate:t,mapping:r,context:n})=>f(await t(e[0],r),n.baseIRI,e),applySync:({args:e,evaluate:t,mapping:r,context:n})=>f(t(e[0],r),n.baseIRI,e)};function f(e,t,r){const n="namedNode"!==e.termType?c.typeCheckLit(e,["string"],r,o.SpecialOperator.IRI):e,s=i.resolve(t||"",n.str());return new a.NamedNode(s)}function m(e){return new a.BlankNode(e||s.v4())}const y={bound:{arity:1,applyAsync:async({args:e,mapping:t})=>h({args:e,mapping:t}),applySync:({args:e,mapping:t})=>h({args:e,mapping:t})},if:{arity:3,async applyAsync({args:e,mapping:t,evaluate:r}){const n=await r(e[0],t);return r(n.coerceEBV()?e[1]:e[2],t)},applySync({args:e,mapping:t,evaluate:r}){const n=r(e[0],t);return r(n.coerceEBV()?e[1]:e[2],t)}},coalesce:{arity:1/0,async applyAsync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return await r(i,t)}catch(e){n.push(e)}throw new u.CoalesceError(n)},applySync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return r(i,t)}catch(e){n.push(e)}throw new u.CoalesceError(n)}},"&&":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(!(await r(n,t)).coerceEBV())return c.bool(!1);const e=(await r(i,t)).coerceEBV();return c.bool(e)}catch(e){if((await r(i,t)).coerceEBV())throw e;return c.bool(!1)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(!r(n,t).coerceEBV())return c.bool(!1);const e=r(i,t).coerceEBV();return c.bool(e)}catch(e){if(r(i,t).coerceEBV())throw e;return c.bool(!1)}}},"||":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if((await r(n,t)).coerceEBV())return c.bool(!0);const e=(await r(i,t)).coerceEBV();return c.bool(e)}catch(e){if(!(await r(i,t)).coerceEBV())throw e;return c.bool(!0)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(r(n,t).coerceEBV())return c.bool(!0);const e=r(i,t).coerceEBV();return c.bool(e)}catch(e){if(!r(i,t).coerceEBV())throw e;return c.bool(!0)}}},sameterm:{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map(e=>r(e,t)),s=await n,a=await i;return c.bool(s.toRDF().equals(a.toRDF()))},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map(e=>r(e,t));return c.bool(n.toRDF().equals(i.toRDF()))}},in:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync({args:e,mapping:t,evaluate:r,context:n}){const[i,...s]=e;return async function e(t,{args:r,mapping:n,evaluate:i,context:s},a){if(0===r.length){return a.every(e=>!e)?c.bool(!1):Promise.reject(new u.InError(a))}try{const u=await i(r.shift(),n);return!0===l.regularFunctions.get(o.RegularOperator.EQUAL).apply([t,u]).typedValue?c.bool(!0):e(t,{args:r,mapping:n,evaluate:i,context:s},[...a,!1])}catch(o){return e(t,{args:r,mapping:n,evaluate:i,context:s},[...a,o])}}(await r(i,t),{args:s,mapping:t,evaluate:r,context:n},[])},applySync({args:e,mapping:t,evaluate:r,context:n}){const[i,...s]=e;return function e(t,{args:r,mapping:n,evaluate:i,context:s},a){if(0===r.length){if(!a.every(e=>!e))throw new u.InError(a);c.bool(!1)}try{const u=i(r.shift(),n);return!0===l.regularFunctions.get(o.RegularOperator.EQUAL).apply([t,u]).typedValue?c.bool(!0):e(t,{args:r,mapping:n,evaluate:i,context:s},[...a,!1])}catch(o){return e(t,{args:r,mapping:n,evaluate:i,context:s},[...a,o])}}(r(i,t),{args:s,mapping:t,evaluate:r,context:n},[])}},notin:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync(e){const t=l.specialFunctions.get(o.SpecialOperator.IN),r=await t.applyAsync(e);return c.bool(!r.typedValue)},applySync(e){const t=l.specialFunctions.get(o.SpecialOperator.IN).applySync(e);return c.bool(!t.typedValue)}},concat:{arity:1/0,async applyAsync({args:e,evaluate:t,mapping:r}){const n=e.map(async e=>t(e,r)).map(async t=>c.typeCheckLit(await t,["string","langString"],e,o.SpecialOperator.CONCAT)),i=await Promise.all(n),s=i.map(e=>e.typedValue).join(""),a=p(i)?i[0].language:void 0;return a?c.langString(s,a):c.string(s)},applySync({args:e,evaluate:t,mapping:r}){const n=e.map(e=>t(e,r)).map(t=>c.typeCheckLit(t,["string","langString"],e,o.SpecialOperator.CONCAT)),i=n.map(e=>e.typedValue).join(""),s=p(n)?n[0].language:void 0;return s?c.langString(i,s):c.string(i)}},now:{arity:0,applyAsync:async({context:e})=>new a.DateTimeLiteral(e.now,e.now.toUTCString()),applySync:({context:e})=>new a.DateTimeLiteral(e.now,e.now.toUTCString())},iri:d,uri:d,BNODE:{arity:1/0,checkArity:e=>0===e.length||1===e.length,async applyAsync({args:e,evaluate:t,mapping:r,context:n}){const i=1===e.length?await t(e[0],r):void 0,s=i?c.typeCheckLit(i,["string"],e,o.SpecialOperator.BNODE).str():void 0;if(n.bnode){const e=await n.bnode(s);return new a.BlankNode(e.value)}return m(s)},applySync({args:e,evaluate:t,mapping:r,context:n}){const i=1===e.length?t(e[0],r):void 0,s=i?c.typeCheckLit(i,["string"],e,o.SpecialOperator.BNODE).str():void 0;if(n.bnode){const e=n.bnode(s);return new a.BlankNode(e.value)}return m(s)}}};t.specialDefinitions=n.Map(y)},function(e,t,r){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function s(e){var n=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",s),o=e?"[\\uE000-\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),l=r(r(i+"|"+t(u,s,"[\\:]"))+"*"),h=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),p=r(h+"\\."+h+"\\."+h+"\\."+h),d=r(n+"{1,4}"),f=r(r(d+"\\:"+d)+"|"+p),m=r(r(d+"\\:")+"{6}"+f),y=r("\\:\\:"+r(d+"\\:")+"{5}"+f),g=r(r(d)+"?\\:\\:"+r(d+"\\:")+"{4}"+f),_=r(r(r(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+r(d+"\\:")+"{3}"+f),b=r(r(r(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+r(d+"\\:")+"{2}"+f),v=r(r(r(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+f),w=r(r(r(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+f),S=r(r(r(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),E=r(r(r(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),T=r([m,y,g,_,b,v,w,S,E].join("|")),x=r(r(u+"|"+i)+"+"),O=(r(T+"\\%25"+x),r(T+r("\\%25|\\%(?!"+n+"{2})")+x)),A=r("[vV]"+n+"+\\."+t(u,s,"[\\:]")+"+"),R=r("\\["+r(O+"|"+T+"|"+A)+"\\]"),P=r(r(i+"|"+t(u,s))+"*"),I=r(R+"|"+p+"(?!"+P+")|"+P),j=r("[0-9]*"),N=r(r(l+"@")+"?"+I+r("\\:"+j)+"?"),C=r(i+"|"+t(u,s,"[\\:\\@]")),k=r(C+"*"),D=r(C+"+"),M=r(r(i+"|"+t(u,s,"[\\@]"))+"+"),F=r(r("\\/"+k)+"*"),L=r("\\/"+r(D+F)+"?"),q=r(M+F),B=r(D+F),U="(?!"+C+")",H=(r(F+"|"+L+"|"+q+"|"+B+"|"+U),r(r(C+"|"+t("[\\/\\?]",o))+"*")),z=r(r(C+"|[\\/\\?]")+"*"),V=r(r("\\/\\/"+N+F)+"|"+L+"|"+B+"|"+U),Q=r(c+"\\:"+V+r("\\?"+H)+"?"+r("\\#"+z)+"?"),G=r(r("\\/\\/"+N+F)+"|"+L+"|"+q+"|"+U),X=r(G+r("\\?"+H)+"?"+r("\\#"+z)+"?");return r(Q+"|"+X),r(c+"\\:"+V+r("\\?"+H)+"?"),r(r("\\/\\/("+r("("+l+")@")+"?("+I+")"+r("\\:("+j+")")+"?)")+"?("+F+"|"+L+"|"+B+"|"+U+")"),r("\\?("+H+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+I+")"+r("\\:("+j+")")+"?)")+"?("+F+"|"+L+"|"+q+"|"+U+")"),r("\\?("+H+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+I+")"+r("\\:("+j+")")+"?)")+"?("+F+"|"+L+"|"+B+"|"+U+")"),r("\\?("+H+")"),r("\\#("+z+")"),r("("+l+")@"),r("\\:("+j+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,s,"[\\:\\@\\/\\?]",o),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,s),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+x+")")+"?\\]?$")}}var a=s(!1),o=s(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function y(e){throw new RangeError(d[e])}function g(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(p,".")).split("."),t).join(".");return n+i}function _(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},v=function(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))},w=function(e){var t,r=[],n=e.length,i=0,s=128,a=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var u=0;u<o;++u)e.charCodeAt(u)>=128&&y("not-basic"),r.push(e.charCodeAt(u));for(var l=o>0?o+1:0;l<n;){for(var h=i,p=1,d=36;;d+=36){l>=n&&y("invalid-input");var m=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>f((c-i)/p))&&y("overflow"),i+=m*p;var g=d<=a?1:d>=a+26?26:d-a;if(m<g)break;var _=36-g;p>f(c/_)&&y("overflow"),p*=_}var b=r.length+1;a=v(i-h,b,0==h),f(i/b)>c-s&&y("overflow"),s+=f(i/b),i%=b,r.splice(i++,0,s)}return String.fromCodePoint.apply(String,r)},S=function(e){var t=[],r=(e=_(e)).length,n=128,i=0,s=72,a=!0,o=!1,u=void 0;try{for(var l,h=e[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var p=l.value;p<128&&t.push(m(p))}}catch(e){o=!0,u=e}finally{try{!a&&h.return&&h.return()}finally{if(o)throw u}}var d=t.length,g=d;for(d&&t.push("-");g<r;){var w=c,S=!0,E=!1,T=void 0;try{for(var x,O=e[Symbol.iterator]();!(S=(x=O.next()).done);S=!0){var A=x.value;A>=n&&A<w&&(w=A)}}catch(e){E=!0,T=e}finally{try{!S&&O.return&&O.return()}finally{if(E)throw T}}var R=g+1;w-n>f((c-i)/R)&&y("overflow"),i+=(w-n)*R,n=w;var P=!0,I=!1,j=void 0;try{for(var N,C=e[Symbol.iterator]();!(P=(N=C.next()).done);P=!0){var k=N.value;if(k<n&&++i>c&&y("overflow"),k==n){for(var D=i,M=36;;M+=36){var F=M<=s?1:M>=s+26?26:M-s;if(D<F)break;var L=D-F,q=36-F;t.push(m(b(F+L%q,0))),D=f(L/q)}t.push(m(b(D,0))),s=v(i,R,g==d),i=0,++g}}}catch(e){I=!0,j=e}finally{try{!P&&C.return&&C.return()}finally{if(I)throw j}}++i,++n}return t.join("")},E={version:"2.1.0",ucs2:{decode:_,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:w,encode:S,toASCII:function(e){return g(e,(function(e){return h.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e}))}},T={};function x(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function O(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var s=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&s)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16),o=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function A(e,t){function r(e){var r=O(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,x).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,x).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,x).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,x).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,x).replace(t.PCT_ENCODED,i)),e}function R(e){return e.replace(/^0*(.*)/,"$1")||"0"}function P(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(R).join("."):e}function I(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],s=n[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),o=u(a,2),c=o[0],l=o[1],h=l?l.split(":").map(R):[],p=c.split(":").map(R),d=t.IPV4ADDRESS.test(p[p.length-1]),f=d?7:8,m=p.length-f,y=Array(f),g=0;g<f;++g)y[g]=h[g]||p[m+g]||"";d&&(y[f-1]=P(y[f-1],t));var _=y.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(_&&_.length>1){var v=y.slice(0,_.index),w=y.slice(_.index+_.length);b=v.join(":")+"::"+w.join(":")}else b=y.join(":");return s&&(b+="%"+s),b}return e}var j=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,N=void 0==="".match(/(){0}/)[1];function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?o:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(j);if(i){N?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=I(P(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var s=T[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||s&&s.unicodeSupport)A(r,n);else{if(r.host&&(t.domainHost||s&&s.domainHost))try{r.host=E.toASCII(r.host.replace(n.PCT_ENCODED,O).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}A(r,a)}s&&s.parse&&s.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var k=/^\.\.?\//,D=/^\/\.(\/|$)/,M=/^\/\.\.(\/|$)/,F=/^\/?(?:.|\n)*?(?=\/|$)/;function L(e){for(var t=[];e.length;)if(e.match(k))e=e.replace(k,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(M))e=e.replace(M,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(F);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?o:a,n=[],i=T[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E.toUnicode(e.host):E.toASCII(e.host.replace(r.PCT_ENCODED,O).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}A(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var s=function(e,t){var r=!1!==t.iri?o:a,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(I(P(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,t);if(void 0!==s&&("suffix"!==t.reference&&n.push("//"),n.push(s),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=L(u)),void 0===s&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=C(q(e,r),r),t=C(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=L(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=L(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=L(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=L(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function U(e,t){return e&&e.toString().replace(t&&t.iri?o.PCT_ENCODED:a.PCT_ENCODED,O)}var H={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},V={},Q="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",X=r(r("%[EFef][0-9A-Fa-f]%"+G+G+"%"+G+G)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+G+G)+"|"+r("%"+G+G)),$=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(Q,"g"),W=new RegExp(X,"g"),J=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',$),"g"),K=new RegExp(t("[^]",Q,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Z=K;function ee(e){var t=O(e);return t.match(Y)?t:e}var te={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,s={},a=r.query.split("&"),o=0,u=a.length;o<u;++o){var c=a[o].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),h=0,p=l.length;h<p;++h)n.push(l[h]);break;case"subject":r.subject=U(c[1],t);break;case"body":r.body=U(c[1],t);break;default:i=!0,s[U(c[0],t)]=U(c[1],t)}}i&&(r.headers=s)}r.query=void 0;for(var d=0,f=n.length;d<f;++d){var m=n[d].split("@");if(m[0]=U(m[0]),t.unicodeSupport)m[1]=U(m[1],t).toLowerCase();else try{m[1]=E.toASCII(U(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[d]=m.join("@")}return r},serialize:function(e,t){var r,n=e,s=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(s){for(var a=0,o=s.length;a<o;++a){var u=String(s[a]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(W,ee).replace(W,i).replace(J,x),h=u.slice(c+1);try{h=t.iri?E.toUnicode(h):E.toASCII(U(h,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}s[a]=l+"@"+h}n.path=s.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var d=[];for(var f in p)p[f]!==V[f]&&d.push(f.replace(W,ee).replace(W,i).replace(K,x)+"="+p[f].replace(W,ee).replace(W,i).replace(Z,x));return d.length&&(n.query=d.join("&")),n}},re=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(re),n=e;if(r){var i=t.scheme||n.scheme||"urn",s=r[1].toLowerCase(),a=r[2],o=i+":"+(t.nid||s),u=T[o];n.nid=s,n.nss=a,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),s=T[i];s&&(e=s.serialize(e,t));var a=e,o=e.nss;return a.path=(n||t.nid)+":"+o,a}},ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,se={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ie)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};T[H.scheme]=H,T[z.scheme]=z,T[te.scheme]=te,T[ne.scheme]=ne,T[se.scheme]=se,e.SCHEMES=T,e.pctEncChar=x,e.pctDecChars=O,e.parse=C,e.removeDotSegments=L,e.serialize=q,e.resolveComponents=B,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return q(B(C(e,n),C(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=q(C(e,t),t):"object"===n(e)&&(e=C(q(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=q(C(e,r),r):"object"===n(e)&&(e=q(e,r)),"string"==typeof t?t=q(C(t,r),r):"object"===n(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?o.ESCAPE:a.ESCAPE,x)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(35),s=r(14),a=r(16),o=r(73),u=r(56),c=r(55),l=r(14),h=r(183);t.AggregateEvaluator=class{constructor(e,r,n){this.throwError=!1,this.expression=e,this.evaluator=new h.SyncEvaluator(e.expression,r),this.aggregator=new t.aggregators[e.aggregator](e),this.throwError=n}static emptyValue(e,r=!1){const n=t.aggregators[e.aggregator].emptyValue();if(void 0===n&&r)throw new a.EmptyAggregateError;return n}put(e){this.init(e),this.state&&(this.put=this.__put,this.result=this.__result)}result(){return this.aggregator.constructor.emptyValue()}__put(e){try{const t=this.evaluator.evaluate(e);this.state=this.aggregator.put(this.state,t)}catch(e){this.safeThrow(e)}}__result(){return this.aggregator.result(this.state)}init(e){try{const t=this.evaluator.evaluate(e);this.state=this.aggregator.init(t)}catch(e){this.safeThrow(e)}}safeThrow(e){if(this.throwError)throw e;this.put=()=>{},this.result=()=>void 0}};class p{constructor(e){this.distinct=e.distinct,this.separator=e.separator||" "}static emptyValue(){}}function d(e){if("Literal"!==e.termType||!s.NumericTypeURLs.contains(e.datatype.value))throw new Error("Term is not numeric");return{type:e.datatype.value,value:c.parseXSDFloat(e.value)}}t.aggregators={count:class extends p{static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){return 1}put(e,t){return e+1}result(e){return u.number(e,l.TypeURL.XSD_INTEGER).toRDF()}},sum:class extends p{constructor(){super(...arguments),this.summer=o.regularFunctions.get(s.RegularOperator.ADDITION)}static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){const{value:t,type:r}=d(e);return new i.NumericLiteral(t,n.namedNode(r))}put(e,t){const{value:r,type:s}=d(t),a=new i.NumericLiteral(r,n.namedNode(s));return this.summer.apply([e,a])}result(e){return e.toRDF()}},min:class extends p{init(e){const{value:t}=d(e);return{minNum:t,minTerm:e}}put(e,t){const{value:r}=d(t);return r<e.minNum?{minNum:r,minTerm:t}:e}result(e){return e.minTerm}},max:class extends p{init(e){const{value:t}=d(e);return{maxNum:t,maxTerm:e}}put(e,t){const{value:r}=d(t);return r>=e.maxNum?{maxNum:r,maxTerm:t}:e}result(e){return e.maxTerm}},avg:class extends p{constructor(){super(...arguments),this.summer=o.regularFunctions.get(s.RegularOperator.ADDITION),this.divider=o.regularFunctions.get(s.RegularOperator.DIVISION)}static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){const{value:t,type:r}=d(e);return{sum:new i.NumericLiteral(t,n.namedNode(r)),count:1}}put(e,t){const{value:r,type:s}=d(t),a=new i.NumericLiteral(r,n.namedNode(s));return{sum:this.summer.apply([e.sum,a]),count:e.count+1}}result(e){const t=new i.NumericLiteral(e.count,n.namedNode(s.TypeURL.XSD_INTEGER));return this.divider.apply([e.sum,t]).toRDF()}},group_concat:class extends p{static emptyValue(){return u.string("").toRDF()}init(e){return e.value}put(e,t){return e+this.separator+t.value}result(e){return u.string(e).toRDF()}},sample:class extends p{init(e){return e}put(e,t){return e}result(e){return e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(72),i=r(70);class s extends n.AbstractBindingsHash{constructor(e){super(e,"reduced")}newHashFilter(e,t){const r=new i({max:this.cacheSize});return i=>{const s=n.AbstractFilterHash.hash(e,t,i);return!r.has(s)&&r.set(s,!0)}}}t.ActorQueryOperationReducedHash=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(8),s=r(34),a=r(3);class o extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter")}async testOperation(e,t){const r={exists:this.createExistenceResolver(t)};new s.AsyncEvaluator(e.expression,r);return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),n=a.ActorQueryOperation.getSafeBindings(r);a.ActorQueryOperation.validateQueryOutput(n,"bindings");const{variables:i,metadata:o}=n,u=a.ActorQueryOperation.getExpressionContext(t),c=Object.assign(Object.assign({},u),{exists:this.createExistenceResolver(t)}),l=new s.AsyncEvaluator(e.expression,c),h=n.bindingsStream.transform({transform:async(e,t)=>{try{await l.evaluateAsEBV(e)&&h._push(e)}catch(e){s.isExpressionError(e)||h.emit("error",e)}t()}});return{type:"bindings",bindingsStream:h,metadata:o,variables:i}}createExistenceResolver(e){return async(t,r)=>{const n=this.substitute(t.input,r),i=await this.mediatorQueryOperation.mediate({operation:n,context:e}),s=a.ActorQueryOperation.getSafeBindings(i);return new Promise((e,t)=>{s.bindingsStream.on("end",()=>{e(!1)}),s.bindingsStream.on("error",t),s.bindingsStream.on("data",()=>{s.bindingsStream.close(),e(!0)})}).then(e=>t.not?!e:e)}}substitute(e,t){return i.Util.mapOperation(e,{path:(e,r)=>({recurse:!1,result:r.createPath(this.substituteSingle(e.subject,t),e.predicate,this.substituteSingle(e.object,t),this.substituteSingle(e.graph,t))}),pattern:(e,r)=>({recurse:!1,result:r.createPattern(this.substituteSingle(e.subject,t),this.substituteSingle(e.predicate,t),this.substituteSingle(e.object,t),this.substituteSingle(e.graph,t))})})}substituteSingle(e,t){return"Variable"===e.termType?t.get(n.termToString(e),e):e}}t.ActorQueryOperationFilterSparqlee=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(8);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,t){const r={};for(const n of Object.keys(e))Array.isArray(e[n])?r[n]="variables"===n?e[n]:e[n].map(t):s.ALGEBRA_TYPES.indexOf(e[n].type)>=0?r[n]=t(e[n]):r[n]=e[n];return r}static applyOperationDefaultGraph(e,t){if("bgp"===e.type&&e.patterns.length||"path"===e.type){if("bgp"===e.type)return s.joinOperations(e.patterns.map(e=>{if("DefaultGraph"!==e.graph.termType)return s.FACTORY.createBgp([e]);const r=t.map(t=>s.FACTORY.createBgp([s.FACTORY.createPattern(e.subject,e.predicate,e.object,t)]));return s.unionOperations(r)}));{if("DefaultGraph"!==e.graph.termType)return e;const r=t.map(t=>s.FACTORY.createPath(e.subject,e.predicate,e.object,t));return s.joinOperations(r)}}return s.copyOperation(e,e=>this.applyOperationDefaultGraph(e,t))}static applyOperationNamedGraph(e,t,n){if("bgp"===e.type&&e.patterns.length||"path"===e.type){let i;if(i="bgp"===e.type?e.patterns[0].graph:e.graph,"DefaultGraph"===i.termType)return{type:"bgp",patterns:[]};if("Variable"===i.termType){if(1===t.length){const r=t[0],n={};n["?"+i.value]=r;const a=s.FACTORY.createValues([i],[n]);let o;return o="bgp"===e.type?s.FACTORY.createBgp(e.patterns.map(e=>s.FACTORY.createPattern(e.subject,e.predicate,e.object,r))):s.FACTORY.createPath(e.subject,e.predicate,e.object,r),s.FACTORY.createJoin(a,o)}return s.unionOperations(t.map(t=>s.applyOperationNamedGraph(e,[t],n)))}return r(472)(t.concat(n),e=>e.equals(i))?e:{type:"bgp",patterns:[]}}return s.copyOperation(e,e=>this.applyOperationNamedGraph(e,t,n))}static joinOperations(e){if(1===e.length)return e[0];if(2===e.length)return s.FACTORY.createJoin(e[0],e[1]);if(e.length>2)return s.FACTORY.createJoin(e.shift(),this.joinOperations(e));throw new Error("A join can only be applied on at least one operation")}static unionOperations(e){if(1===e.length)return e[0];if(2===e.length)return s.FACTORY.createUnion(e[0],e[1]);if(e.length>2)return s.FACTORY.createUnion(e.shift(),this.unionOperations(e));throw new Error("A union can only be applied on at least one operation")}static createOperation(e){let t=e.input;return e.default.length&&(t=s.applyOperationDefaultGraph(t,e.default)),e.named.length&&(t=s.applyOperationNamedGraph(t,e.named,e.default)),t}async testOperation(e,t){return!0}async runOperation(e,t){const r=s.createOperation(e);return this.mediatorQueryOperation.mediate({operation:r,context:t})}}t.ActorQueryOperationFromQuad=s,s.FACTORY=new i.Factory,s.ALGEBRA_TYPES=Object.keys(i.Algebra.types).map(e=>i.Algebra.types[e])},function(e,t,r){(function(e,r){var n=200,i="Expected a function",s="__lodash_hash_undefined__",a=1,o=2,u=1/0,c=9007199254740991,l=17976931348623157e292,h=NaN,p="[object Arguments]",d="[object Array]",f="[object Boolean]",m="[object Date]",y="[object Error]",g="[object Function]",_="[object GeneratorFunction]",b="[object Map]",v="[object Number]",w="[object Object]",S="[object RegExp]",E="[object Set]",T="[object String]",x="[object Symbol]",O="[object ArrayBuffer]",A="[object DataView]",R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,I=/^\./,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/^\s+|\s+$/g,C=/\\(\\)?/g,k=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,M=/^\[object .+?Constructor\]$/,F=/^0o[0-7]+$/i,L=/^(?:0|[1-9]\d*)$/,q={};q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q[p]=q[d]=q[O]=q[f]=q[A]=q[m]=q[y]=q[g]=q[b]=q[v]=q[w]=q[S]=q[E]=q[T]=q["[object WeakMap]"]=!1;var B=parseInt,U="object"==typeof e&&e&&e.Object===Object&&e,H="object"==typeof self&&self&&self.Object===Object&&self,z=U||H||Function("return this")(),V=t&&!t.nodeType&&t,Q=V&&"object"==typeof r&&r&&!r.nodeType&&r,G=Q&&Q.exports===V&&U.process,X=function(){try{return G&&G.binding("util")}catch(e){}}(),$=X&&X.isTypedArray;function Y(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function J(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function K(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var Z,ee,te,re=Array.prototype,ne=Function.prototype,ie=Object.prototype,se=z["__core-js_shared__"],ae=(Z=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",oe=ne.toString,ue=ie.hasOwnProperty,ce=ie.toString,le=RegExp("^"+oe.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=z.Symbol,pe=z.Uint8Array,de=ie.propertyIsEnumerable,fe=re.splice,me=(ee=Object.keys,te=Object,function(e){return ee(te(e))}),ye=Math.max,ge=Xe(z,"DataView"),_e=Xe(z,"Map"),be=Xe(z,"Promise"),ve=Xe(z,"Set"),we=Xe(z,"WeakMap"),Se=Xe(Object,"create"),Ee=tt(ge),Te=tt(_e),xe=tt(be),Oe=tt(ve),Ae=tt(we),Re=he?he.prototype:void 0,Pe=Re?Re.valueOf:void 0,Ie=Re?Re.toString:void 0;function je(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ne(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ce;++t<r;)this.add(e[t])}function De(e){this.__data__=new Ne(e)}function Me(e,t){var r=ot(e)||at(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var s in e)!t&&!ue.call(e,s)||i&&("length"==s||Ye(s,n))||r.push(s);return r}function Fe(e,t){for(var r=e.length;r--;)if(st(e[r][0],t))return r;return-1}function Le(e,t){for(var r=0,n=(t=We(t,e)?[t]:Ve(t)).length;null!=e&&r<n;)e=e[et(t[r++])];return r&&r==n?e:void 0}function qe(e,t){return null!=e&&t in Object(e)}function Be(e,t,r,n,i){return e===t||(null==e||null==t||!ht(e)&&!pt(t)?e!=e&&t!=t:function(e,t,r,n,i,s){var u=ot(e),c=ot(t),l=d,h=d;u||(l=(l=$e(e))==p?w:l);c||(h=(h=$e(t))==p?w:h);var g=l==w&&!W(e),_=h==w&&!W(t),R=l==h;if(R&&!g)return s||(s=new De),u||ft(e)?Qe(e,t,r,n,i,s):function(e,t,r,n,i,s,u){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!n(new pe(e),new pe(t)));case f:case m:case v:return st(+e,+t);case y:return e.name==t.name&&e.message==t.message;case S:case T:return e==t+"";case b:var c=J;case E:var l=s&o;if(c||(c=K),e.size!=t.size&&!l)return!1;var h=u.get(e);if(h)return h==t;s|=a,u.set(e,t);var p=Qe(c(e),c(t),n,i,s,u);return u.delete(e),p;case x:if(Pe)return Pe.call(e)==Pe.call(t)}return!1}(e,t,l,r,n,i,s);if(!(i&o)){var P=g&&ue.call(e,"__wrapped__"),I=_&&ue.call(t,"__wrapped__");if(P||I){var j=P?e.value():e,N=I?t.value():t;return s||(s=new De),r(j,N,n,i,s)}}if(!R)return!1;return s||(s=new De),function(e,t,r,n,i,s){var a=i&o,u=mt(e),c=u.length,l=mt(t).length;if(c!=l&&!a)return!1;var h=c;for(;h--;){var p=u[h];if(!(a?p in t:ue.call(t,p)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var f=!0;s.set(e,t),s.set(t,e);var m=a;for(;++h<c;){p=u[h];var y=e[p],g=t[p];if(n)var _=a?n(g,y,p,t,e,s):n(y,g,p,e,t,s);if(!(void 0===_?y===g||r(y,g,n,i,s):_)){f=!1;break}m||(m="constructor"==p)}if(f&&!m){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,r,n,i,s)}(e,t,Be,r,n,i))}function Ue(e){return!(!ht(e)||function(e){return!!ae&&ae in e}(e))&&(ct(e)||W(e)?le:M).test(tt(e))}function He(e){return"function"==typeof e?e:null==e?yt:"object"==typeof e?ot(e)?function(e,t){if(We(e)&&Je(t))return Ke(et(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Le(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=We(t,e)?[t]:Ve(t);var n,i=-1,s=t.length;for(;++i<s;){var a=et(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;return!!(s=e?e.length:0)&&lt(s)&&Ye(a,s)&&(ot(e)||at(e))}(e,t,qe)}(r,e):Be(t,n,void 0,a|o)}}(e[0],e[1]):function(e){var t=function(e){var t=mt(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Je(i)]}return t}(e);if(1==t.length&&t[0][2])return Ke(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,s=i,u=!n;if(null==e)return!s;for(e=Object(e);i--;){var c=r[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var l=(c=r[i])[0],h=e[l],p=c[1];if(u&&c[2]){if(void 0===h&&!(l in e))return!1}else{var d=new De;if(n)var f=n(h,p,l,e,t,d);if(!(void 0===f?Be(p,h,n,a|o,d):f))return!1}}return!0}(r,e,t)}}(e):We(t=e)?(r=et(t),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return Le(t,e)}}(t);var t,r}function ze(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||ie,t!==n)return me(e);var t,r,n,i=[];for(var s in Object(e))ue.call(e,s)&&"constructor"!=s&&i.push(s);return i}function Ve(e){return ot(e)?e:Ze(e)}function Qe(e,t,r,n,i,s){var u=i&o,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var p=-1,d=!0,f=i&a?new ke:void 0;for(s.set(e,t),s.set(t,e);++p<c;){var m=e[p],y=t[p];if(n)var g=u?n(y,m,p,t,e,s):n(m,y,p,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!Y(t,(function(e,t){if(!f.has(t)&&(m===e||r(m,e,n,i,s)))return f.add(t)}))){d=!1;break}}else if(m!==y&&!r(m,y,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Ge(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Xe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ue(r)?r:void 0}je.prototype.clear=function(){this.__data__=Se?Se(null):{}},je.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},je.prototype.get=function(e){var t=this.__data__;if(Se){var r=t[e];return r===s?void 0:r}return ue.call(t,e)?t[e]:void 0},je.prototype.has=function(e){var t=this.__data__;return Se?void 0!==t[e]:ue.call(t,e)},je.prototype.set=function(e,t){return this.__data__[e]=Se&&void 0===t?s:t,this},Ne.prototype.clear=function(){this.__data__=[]},Ne.prototype.delete=function(e){var t=this.__data__,r=Fe(t,e);return!(r<0)&&(r==t.length-1?t.pop():fe.call(t,r,1),!0)},Ne.prototype.get=function(e){var t=this.__data__,r=Fe(t,e);return r<0?void 0:t[r][1]},Ne.prototype.has=function(e){return Fe(this.__data__,e)>-1},Ne.prototype.set=function(e,t){var r=this.__data__,n=Fe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new je,map:new(_e||Ne),string:new je}},Ce.prototype.delete=function(e){return Ge(this,e).delete(e)},Ce.prototype.get=function(e){return Ge(this,e).get(e)},Ce.prototype.has=function(e){return Ge(this,e).has(e)},Ce.prototype.set=function(e,t){return Ge(this,e).set(e,t),this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,s),this},ke.prototype.has=function(e){return this.__data__.has(e)},De.prototype.clear=function(){this.__data__=new Ne},De.prototype.delete=function(e){return this.__data__.delete(e)},De.prototype.get=function(e){return this.__data__.get(e)},De.prototype.has=function(e){return this.__data__.has(e)},De.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ne){var i=r.__data__;if(!_e||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new Ce(i)}return r.set(e,t),this};var $e=function(e){return ce.call(e)};function Ye(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function We(e,t){if(ot(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!dt(e))||(P.test(e)||!R.test(e)||null!=t&&e in Object(t))}function Je(e){return e==e&&!ht(e)}function Ke(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(ge&&$e(new ge(new ArrayBuffer(1)))!=A||_e&&$e(new _e)!=b||be&&"[object Promise]"!=$e(be.resolve())||ve&&$e(new ve)!=E||we&&"[object WeakMap]"!=$e(new we))&&($e=function(e){var t=ce.call(e),r=t==w?e.constructor:void 0,n=r?tt(r):void 0;if(n)switch(n){case Ee:return A;case Te:return b;case xe:return"[object Promise]";case Oe:return E;case Ae:return"[object WeakMap]"}return t});var Ze=it((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(dt(e))return Ie?Ie.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}(t);var r=[];return I.test(e)&&r.push(""),e.replace(j,(function(e,t,n,i){r.push(n?i.replace(C,"$1"):t||e)})),r}));function et(e){if("string"==typeof e||dt(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function tt(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var rt,nt=(rt=function(e,t,r){var n=e?e.length:0;if(!n)return-1;var i,s,a=null==r?0:(i=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(dt(e))return h;if(ht(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ht(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(N,"");var r=D.test(e);return r||F.test(e)?B(e.slice(2),r?2:8):k.test(e)?h:+e}(e))===u||e===-u?(e<0?-1:1)*l:e==e?e:0:0===e?e:0}(r),s=i%1,i==i?s?i-s:i:0);return a<0&&(a=ye(n+a,0)),function(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}(e,He(t),a)},function(e,t,r){var n=Object(e);if(!ut(e)){var i=He(t);e=mt(e),t=function(e){return i(n[e],e,n)}}var s=rt(e,t,r);return s>-1?n[i?e[s]:s]:void 0});function it(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a),a};return r.cache=new(it.Cache||Ce),r}function st(e,t){return e===t||e!=e&&t!=t}function at(e){return function(e){return pt(e)&&ut(e)}(e)&&ue.call(e,"callee")&&(!de.call(e,"callee")||ce.call(e)==p)}it.Cache=Ce;var ot=Array.isArray;function ut(e){return null!=e&&lt(e.length)&&!ct(e)}function ct(e){var t=ht(e)?ce.call(e):"";return t==g||t==_}function lt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function ht(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function pt(e){return!!e&&"object"==typeof e}function dt(e){return"symbol"==typeof e||pt(e)&&ce.call(e)==x}var ft=$?function(e){return function(t){return e(t)}}($):function(e){return pt(e)&&lt(e.length)&&!!q[ce.call(e)]};function mt(e){return ut(e)?Me(e):ze(e)}function yt(e){return e}r.exports=nt}).call(this,r(10),r(49)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(5),s=r(34),a=r(3),o=r(474);class u extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"group")}async testOperation(e,t){for(const t in e.aggregates){new s.SyncEvaluator(e.aggregates[t].expression)}return!0}async runOperation(e,t){const{input:r,aggregates:s}=e,u=await this.mediatorQueryOperation.mediate({operation:r,context:t}),c=a.ActorQueryOperation.getSafeBindings(u),l=e.variables.map(i.termToString).concat(s.map(e=>i.termToString(e.variable))),h=Object.assign({},a.ActorQueryOperation.getExpressionContext(t));return new Promise((t,r)=>{const i=new o.GroupsState(e,h);c.bindingsStream.on("end",()=>{try{const e=new n.ArrayIterator(i.collectResults()),r=c.metadata;t({type:"bindings",bindingsStream:e,metadata:r,variables:l})}catch(e){r(e)}}),c.bindingsStream.on("error",r),c.bindingsStream.on("data",e=>{try{i.consumeBindings(e)}catch(e){r(e)}})})}}t.ActorQueryOperationGroup=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(34),s=r(72),a=r(3);t.GroupsState=class{constructor(e,t){this.pattern=e,this.sparqleeConfig=t,this.groups=new Map,this.groupVariables=new Set(this.pattern.variables.map(n.termToString)),this.distinctHashes=e.aggregates.some(({distinct:e})=>e)?new Map:null}consumeBindings(e){const t=e.filter((e,t)=>this.groupVariables.has(t)).toMap(),r=this.hashBindings(t);if(this.groups.has(r)){const t=this.groups.get(r);for(const i in this.pattern.aggregates){const s=this.pattern.aggregates[i];if(s.distinct){const t=this.hashBindings(e);if(this.distinctHashes.get(r).has(t))continue;this.distinctHashes.get(r).add(t)}const a=n.termToString(s.variable);t.aggregators[a].put(e)}}else{const s={};for(const t in this.pattern.aggregates){const r=this.pattern.aggregates[t],a=n.termToString(r.variable);s[a]=new i.AggregateEvaluator(r,this.sparqleeConfig),s[a].put(e)}const a={aggregators:s,bindings:t};if(this.groups.set(r,a),this.distinctHashes){const t=this.hashBindings(e);this.distinctHashes.set(r,new Set([t]))}}}collectResults(){let e=Array.from(this.groups,([e,t])=>{const{bindings:r,aggregators:n}=t,i={};for(const e in n){const t=n[e].result();void 0!==t&&(i[e]=t)}return r.merge(i)});if(0===e.length){const t={};for(const e in this.pattern.aggregates){const r=this.pattern.aggregates[e],s=n.termToString(r.variable),a=i.AggregateEvaluator.emptyValue(r);void 0!==a&&(t[s]=a)}e=[a.Bindings(t)]}return e}hashBindings(e){return s.AbstractFilterHash.hash("sha1","hex",e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,t){return!0}async runOperation(e,t){const r=this.mediatorQueryOperation.mediate({operation:e.left,context:t}),i=this.mediatorQueryOperation.mediate({operation:e.right,context:t});return this.mediatorJoin.mediate({entries:[n.ActorQueryOperation.getSafeBindings(await r),n.ActorQueryOperation.getSafeBindings(await i)]})}}t.ActorQueryOperationJoin=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(63),s=r(34);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.left,context:t}),a=n.ActorQueryOperation.getSafeBindings(r),o=await this.mediatorQueryOperation.mediate({operation:e.right,context:t}),u=n.ActorQueryOperation.getSafeBindings(o),c=Object.assign({},n.ActorQueryOperation.getExpressionContext(t)),l=e.expression?new s.AsyncEvaluator(e.expression,c):null,h=(t,r)=>{const n=((t,r)=>{const n=r.transform({transform:async(r,a)=>{const o=i.ActorRdfJoin.join(t,r);if(o){if(!e.expression)return n._push({joinedBindings:o,result:!0}),void a();try{const e=await l.evaluateAsEBV(o);n._push({joinedBindings:o,result:e})}catch(e){s.isExpressionError(e)||p.emit("error",e)}a()}else a()}});return n})(t,u.bindingsStream.clone());n.on("end",()=>r()),n.on("data",async({joinedBindings:e,result:t})=>{t&&p._push(e)})},p=a.bindingsStream.transform({optional:!0,transform:h}),d=i.ActorRdfJoin.joinVariables({entries:[a,u]});return{type:"bindings",bindingsStream:p,metadata:()=>Promise.all([a,u].map(e=>e.metadata())).then(e=>e.reduce((e,t)=>e*t.totalItems,1)).catch(()=>1/0).then(e=>({totalItems:e})),variables:d}}}t.ActorQueryOperationLeftJoinNestedLoop=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(8),s=r(34),a=r(3),o=r(478);class u extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"orderby"),this.window=e.window||1/0}async testOperation(e,t){for(let t of e.expressions){t=this.extractSortExpression(t);new s.AsyncEvaluator(t)}return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=a.ActorQueryOperation.getSafeBindings(r),u={window:this.window},c=Object.assign({},a.ActorQueryOperation.getExpressionContext(t));let l=i.bindingsStream;for(let t of e.expressions){const e=this.isAscending(t);t=this.extractSortExpression(t);const r=new s.AsyncEvaluator(t,c),i=async(e,t)=>{try{const t=await r.evaluate(e);a._push({bindings:e,result:t})}catch(t){s.isExpressionError(t)||l.emit("error",t),a._push({bindings:e,result:void 0})}t()},a=l.transform({transform:i}),h=new o.SortIterator(a,(t,r)=>{const i=n.termToString(t.result),s=n.termToString(r.result);return i&&s?i>s===e?1:-1:0},u);l=h.map(({bindings:e,result:t})=>e)}return{type:"bindings",bindingsStream:l,metadata:i.metadata,variables:i.variables}}extractSortExpression(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR?e:"desc"===r?e.args[0]:e}isAscending(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR||"desc"!==r}}t.ActorQueryOperationOrderBySparqlee=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);class i extends n.TransformIterator{constructor(e,t,r){super(e,r);const n=r&&r.window;this.windowLength=isFinite(n)&&n>0?n:1/0,this.sort=t,this.sorted=[]}_read(e,t){let r,n=this.sorted.length;for(;n!==this.windowLength&&(r=this.source.read(),null!==r);){let e,t,i=0,s=n-1;for(;i<=s;)e=Math.trunc((i+s)/2),t=this.sort(r,this.sorted[e]),t<0?i=e+1:t>0?s=e-1:(i=e,s=-1);this.sorted.splice(i,0,r),n++}n===this.windowLength&&this._push(this.sorted.pop()),t()}_flush(e){let t=this.sorted.length;for(;t--;)this._push(this.sorted.pop());e()}}t.SortIterator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(2),s=r(5);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),a=e.variables.map(s.termToString),o=r.variables.filter(e=>a.indexOf(e)<0),u=a.filter(e=>r.variables.indexOf(e)<0);let c=o.length||u.length?r.bindingsStream.map(e=>{for(const t of o)e=e.delete(t);for(const t of u)e=e.set(t,null);return e}):r.bindingsStream,l=0;return c=c.map(e=>(l++,e.map(e=>e&&"BlankNode"===e.termType?i.blankNode(e.value+l):e))),{type:"bindings",bindingsStream:c,metadata:r.metadata,variables:a}}}t.ActorQueryOperationProject=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(25),s=r(481);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.right,context:t})),a=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.left,context:t})),o=this.getCommonVariables(r.variables,a.variables);if(0!==o.length){const e=new s.BindingsIndex(o);return{type:"bindings",bindingsStream:new i.PromiseProxyIterator(async()=>(await new Promise(t=>{r.bindingsStream.on("data",t=>e.add(t)),r.bindingsStream.on("end",t)}),a.bindingsStream.filter(t=>!e.contains(t)))),variables:a.variables,metadata:a.metadata}}return a}getCommonVariables(e,t){return Object.keys(e.filter(e=>-1!==t.indexOf(e)).reduce((e,t)=>(e[t]=!0,e),{}))}}t.ActorQueryOperationMinus=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5);class i{constructor(e){this.data={},this.keys=e}static hashTerm(e){return e&&"Variable"!==e.termType?n.termToString(e):""}add(e){if(this.isBindingsValid(e)){let t=this.data;for(const r of this.keys){const n=i.hashTerm(e.get(r));let s=t[n];s||(s=t[n]={}),t=s}}}contains(e){return!!this.isBindingsValid(e)&&this.containsRecursive(e,this.keys,[this.data])}isBindingsValid(e){let t=!1;for(const r of this.keys)if(e.get(r)){t=!0;break}return t}containsRecursive(e,t,r){if(0===t.length)return!0;let n;[n,...t]=t;for(const s of r){const r=i.hashTerm(e.get(n));if(r){const n=[s[r],s[""]].filter(e=>!!e);if(0===n.length)continue;if(this.containsRecursive(e,t,n))return!0}else{let r=Object.keys(s).map(e=>s[e]);if(0===r.length&&(r=[{}]),this.containsRecursive(e,t,r))return!0}}return!1}}t.BindingsIndex=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),i=r(3),s=r(53),a=r(8);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ALT)}async runOperation(e,t){const a=e.predicate,o=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,a.left,e.object,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,a.right,e.object,e.graph)})])).map(e=>i.ActorQueryOperation.getSafeBindings(e));return{type:"bindings",bindingsStream:new s.RoundRobinUnionIterator(o.map(e=>e.bindingsStream)),variables:r(172)([].concat.apply([],o.map(e=>e.variables)))}}}t.ActorQueryOperationPathAlt=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),i=r(8);class s extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.INV)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPath(e.object,r.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}t.ActorQueryOperationPathInv=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),i=r(8);class s extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.LINK)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPattern(e.subject,r.iri,e.object,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}t.ActorQueryOperationPathLink=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),i=r(3),s=r(5),a=r(8);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.NPS)}async runOperation(e,t){const r=e.predicate,a=this.generateBlankNode(e),o=s.termToString(a),u=n.ActorAbstractPath.FACTORY.createPattern(e.subject,a,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:u,context:t})),l=c.bindingsStream.transform({filter:e=>!r.iris.some(t=>t.equals(e.get(o))),transform:(e,t)=>{l._push(e.delete(o)),t(null)}});return{type:"bindings",bindingsStream:l,variables:c.variables}}}t.ActorQueryOperationPathNps=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),i=r(3),s=r(4),a=r(25),o=r(5),u=r(8);class c extends n.ActorAbstractPath{constructor(e){super(e,u.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,t){const r=e.predicate,u="Variable"===e.subject.termType,c="Variable"===e.object.termType;if(!u&&c){const u=n.ActorAbstractPath.FACTORY.createPath(e.subject,r.path,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:u})),l=o.termToString(e.object),h={},p=new s.MultiTransformIterator(c.bindingsStream);return p._createTransformer=e=>{const n=e.get(l);return new a.PromiseProxyIterator(async()=>{const e=new s.BufferedIterator;return await this.ALP(n,r.path,t,h,e,{count:0}),e.transform({transform:(e,t)=>{p._push(i.Bindings({[l]:e})),t(null)}})},{autoStart:!0,maxBufferSize:128})},{type:"bindings",bindingsStream:p,variables:[l]}}if(u&&c)throw new Error("ZeroOrMore path expressions with 2 variables not supported yet");if(u&&!c)return this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.object,n.ActorAbstractPath.FACTORY.createOneOrMorePath(n.ActorAbstractPath.FACTORY.createInv(r.path)),e.subject,e.graph)});{const s=this.generateBlankNode(),a=o.termToString(s),u=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r,s,e.graph)})).bindingsStream.transform({filter:t=>t.get(a).equals(e.object),transform:(e,t)=>{u._push(i.Bindings({})),t(null)}});return{type:"bindings",bindingsStream:u,variables:[]}}}}t.ActorQueryOperationPathOneOrMore=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),i=r(3),s=r(5),a=r(8);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.SEQ)}async runOperation(e,t){const r=e.predicate,a=this.generateBlankNode(e),o=s.termToString(a),u=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.left,a,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(a,r.right,e.object,e.graph)})])).map(e=>i.ActorQueryOperation.getSafeBindings(e)),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({entries:u})),l=c.bindingsStream.transform({transform:(e,t)=>{l._push(e.delete(o)),t(null)}});return{type:"bindings",bindingsStream:l,variables:c.variables}}}t.ActorQueryOperationPathSeq=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),i=r(3),s=r(5),a=r(8);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,t){const r=e.predicate,a="Variable"===e.subject.termType,o="Variable"===e.object.termType;if(a&&o)throw new Error("ZeroOrMore path expressions with 2 variables not supported yet");if(a||o){const o=s.termToString(a?e.subject:e.object),u=a?n.ActorAbstractPath.FACTORY.createInv(r.path):r.path,c=(await this.ALPeval(a?e.object:e.subject,u,t)).transform({transform:(e,t)=>{c._push(i.Bindings({[o]:e})),t(null)}});return{type:"bindings",bindingsStream:c,variables:[o]}}{const n=(await this.ALPeval(e.subject,r.path,t)).transform({filter:t=>t.equals(e.object),transform:(e,t)=>{n._push(i.Bindings({})),t(null)}});return{type:"bindings",bindingsStream:n,variables:[]}}}}t.ActorQueryOperationPathZeroOrMore=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(194),i=r(3),s=r(4),a=r(5),o=r(8);class u extends n.ActorAbstractPath{constructor(e){super(e,o.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,t){const r=e.predicate,o="Variable"===e.subject.termType,u="Variable"===e.object.termType,c=[];if(!o&&!u&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new s.SingletonIterator(i.Bindings({})),variables:[]};if(o&&u)throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");o&&c.push(i.Bindings({[a.termToString(e.subject)]:e.object})),u&&c.push(i.Bindings({[a.termToString(e.object)]:e.subject}));const l=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.path,e.object,e.graph)}));return{type:"bindings",bindingsStream:l.bindingsStream.prepend(c),variables:l.variables}}}t.ActorQueryOperationPathZeroOrOne=u},function(e,t,r){"use strict";r.r(t);const n=Object.create(null);class i{constructor({handlers:e=n,resolvers:t=[]}={}){this._handlers=e,this._resolvers=t}createPath(e={},t){void 0===t&&([t,e]=[e,{}]);const r={settings:e,...t},n=r.proxy=new Proxy(r,this);if(!r.extendPath){const t=this;r.extendPath=function r(n,i=this){return t.createPath(e,{parent:i,extendPath:r,...n})}}return n}get(e,t){const r=this._handlers[t];if(r&&"function"==typeof r.handle)return r.handle(e,e.proxy);for(const r of this._resolvers)if(r.supports(t))return r.resolve(t,e,e.proxy)}}var s=r(15),a=r(2);const o={};function u(e){return e[Symbol.asyncIterator]().next().then(e=>e.value)}function c(e){return{then:l(e)}}function l(e){return(t,r)=>e().then(t,r)}function h(e){return"function"==typeof e&&(e=function(e){const t=[];let r=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){let e=0;return{async next(){if(e<t.length)return t[e++];if(!r)return{done:!0};const n=t[e++]=r.next();return(await n).done&&(r=null),n}}}}}(e())),{[Symbol.asyncIterator]:()=>e[Symbol.asyncIterator](),get then(){return l(()=>u(this))},catch(e){return this.then(null,e)},finally(e){return this.then().finally(e)}}}class p{constructor(...e){this._context=Promise.resolve({}),this.extendContext(...e)}supports(e){return"string"==typeof e}resolve(e,t){const r=c(()=>this.expandProperty(e)),n=this.getResultsCache(t,r);return t.extendPath({property:e,predicate:r,resultsCache:n})}async expandProperty(e){e=e.replace(/^([a-z][a-z0-9]*)[_$]/i,"$1:");const t=await this._context,r=s.ContextParser.expandTerm(e,t,!0);if(!s.ContextParser.isValidIri(r))throw new Error("The JSON-LD context cannot expand the '".concat(e,"' property"));return Object(a.namedNode)(r)}async extendContext(...e){await(this._context=this._context.then(t=>(new s.ContextParser).parse([t,...e])))}getResultsCache(e,t){let{propertyCache:r}=e;return r&&c(async()=>(r=await r,r&&r[(await t).value]))}}class d{constructor(e,...t){this._isAsync=e.async,this._isFunction=e.function,this._dataProperties=t}static sync(...e){return new d({async:!1},...e)}static syncFunction(...e){return new d({async:!1,function:!0},...e)}static async(...e){return new d({async:!0},...e)}static asyncFunction(...e){return new d({async:!0,function:!0},...e)}handle(e){return this._isFunction?()=>this._resolveDataPath(e):this._resolveDataPath(e)}_resolveDataPath(e){if(!this._isAsync){for(const t of this._dataProperties)e=e&&e[t];return e}return new Promise(async t=>{for(const t of this._dataProperties)e=e&&await e[t];t(e)})}}class f{constructor(e,t){this._mutationType=e,this._allowZeroArgs=t}handle(e,t){return(...r)=>{if(!this._allowZeroArgs&&!r.length)throw new Error("Mutation on ".concat(e," can not be invoked without arguments"));const n=c(()=>this.createMutationExpressions(e,t,r));return e.extendPath({mutationExpressions:n})}}async createMutationExpressions(e,t,r){const n=await t.pathExpression;if(!Array.isArray(n))throw new Error("".concat(e," has no pathExpression property"));if(n.length<2)throw new Error("".concat(e," should at least contain a subject and a predicate"));const i=await this.extractObjects(e,t,r),s=this._mutationType;if(!i)return[{mutationType:s,conditions:n}];if(0===i.length)return[];const{predicate:a}=n.pop();if(!a)throw new Error("Expected predicate in ".concat(e));return[{mutationType:s,conditions:n,predicate:a,objects:i}]}async extractObjects(e,t,r){if(0===r.length)return null;const n=[];for(const i of r)if(i&&i[Symbol.asyncIterator])for await(const r of i)n.push(this.extractObject(e,t,r));else n.push(this.extractObject(e,t,await i));return n}extractObject(e,t,r){if("string"==typeof r)return Object(a.literal)(r);if(r&&r.termType)return r;throw new Error("Invalid object: ".concat(r))}}class m extends f{constructor(){super("DELETE",!0)}}class y{constructor(e="ASC"){this.order=e}handle(e,t){return(...r)=>{if(0===r.length)return t;const[n,...i]=r,{predicate:s}=t[n],a={property:n,predicate:s,sort:this.order},o=e.extendPath(a);return 0===i.length?o:o.sort(...i)}}}const g=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,_=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,b={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class v{async handle(e,t){const r=await t.mutationExpressions;if(Array.isArray(r)&&r.length)return r.map(e=>this.mutationExpressionToQuery(e)).join("\n;\n");const n=await t.pathExpression;if(!Array.isArray(n))throw new Error("".concat(e," has no pathExpression property"));return this.pathExpressionToQuery(e,t,n)}pathExpressionToQuery(e,t,r){if(r.length<2&&!e.finalClause)throw new Error("".concat(e," should at least contain a subject and a predicate"));let n="?subject",i=[],s=[];r.length>1&&(n=this.createVar(e.property),({queryVar:n,sorts:i,clauses:s}=this.expressionToTriplePatterns(r,n))),e.finalClause&&s.push(e.finalClause(n));const a=e.distinct?"DISTINCT ":"",o="SELECT ".concat(a).concat(e.select?e.select:n),u=" WHERE {\n  ".concat(s.join("\n  "),"\n}"),c=i.map(({order:e,variable:t})=>"".concat(e,"(").concat(t,")")),l=0===c.length?"":"\nORDER BY ".concat(c.join(" "));return"".concat(o).concat(u).concat(l)}mutationExpressionToQuery({mutationType:e,conditions:t,predicate:r,objects:n}){const i={};let s,a;if(1===t.length)s=this.termToString(t[0].subject),a=[];else{const e=t[t.length-1].predicate;s=this.createVar(e.value,i),({queryVar:s,clauses:a}=this.expressionToTriplePatterns(t,s,i))}const o=n&&n.map(e=>this.termToString(e)).join(", "),u=o?"".concat(s," ").concat(this.termToString(r)," ").concat(o,"."):a[a.length-1];return 0===a.length?"".concat(e," DATA {\n  ").concat(u,"\n}"):"".concat(e," {\n  ").concat(u,"\n} WHERE {\n  ").concat(a.join("\n  "),"\n}")}expressionToTriplePatterns([e,...t],r,n={}){const i=t.length-1;let s=this.termToString(function(e){if("BlankNode"!==e.termType)return e;e.skolemized||(e.skolemized=Object(a.namedNode)("urn:ldflex:sk".concat(S++)));return e.skolemized}(e.subject)),o=s;const u=[],c=t.map((e,t)=>{const a=s,{predicate:c}=e;s=t<i?this.createVar("v".concat(t),n):r;const l="".concat(a," ").concat(this.termToString(c)," ").concat(s,".");return e.sort?(u.push({variable:s,order:e.sort}),s=o):o=s,l});return{queryVar:o,sorts:u,clauses:c}}createVar(e="",t){let r=0,n="?".concat(e.match(/[a-z0-9]*$/i)[0]||"result");if(t){for(;t[n];)n="?".concat(e,"_").concat(r++);t[n]=!0}return n}termToString(e){let{value:t}=e;switch(g.test(t)&&(t=t.replace(_,w)),e.termType){case"NamedNode":return"<".concat(t,">");case"BlankNode":return"_:".concat(t);case"Literal":let r="";return e.language?r="@".concat(e.language):"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value&&(r="^^<".concat(e.datatype.value,">")),'"'.concat(t,'"').concat(r);default:throw new Error("Could not convert a term of type ".concat(e.termType))}}}function w(e){let t=b[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}let S=0;const E=/(SELECT\s+)(\?\S+)/,T=/\}[^}]*$/;function x(e){const{termType:t,value:r}=e;switch(t){case"NamedNode":return r;case"Literal":const{language:n,datatype:i}=e;return"".concat(t,"|").concat(n,"|").concat(i.value,"|").concat(r);default:return"".concat(t,"|").concat(r)}}var O={__esModule:()=>void 0,then:new class{handle({subject:e},t){return e?e.then&&l(()=>t.subject):l(()=>u(t.results))}},[Symbol.asyncIterator]:new class{handle({subject:e},t){return e?()=>(function(e){return{async next(){if(e!==o){const t=await e;return e=o,{value:t}}return{done:!0}}}})(t.subject):()=>t.results[Symbol.asyncIterator]()}},subject:new class{handle(e){let{subject:t,parent:r}=e;for(;!t&&r;)({subject:t,parent:r}=r);return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}},predicate:new class{handle(e){const{predicate:t}=e;return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}},properties:new class{handle(e,t){return h(this._handle(e,t))}async*_handle(e,t){const r=await e.settings.parsedContext||{};for await(const e of t.predicates)yield s.ContextParser.compactIri("".concat(await e),r,!0)}},predicates:new class{handle(e){return e.extendPath({distinct:!0,select:"?predicate",finalClause:e=>"".concat(e," ?predicate ?object."),property:e.property})}},pathExpression:new class{async handle(e){const t=[];let r=e;for(;r.parent;)r.predicate&&t.unshift({predicate:await r.predicate,sort:r.sort}),r=r.parent;if(!r.subject)throw new Error("Expected root subject in ".concat(r));const n=await r.subject;return t.unshift({subject:n}),t}},sparql:new v,subjects:new class{handle(e){return e.extendPath({distinct:!0,select:"?subject",finalClause:()=>"?subject ?predicate ?object.",property:e.property})}},results:new class{async*handle(e,t){const r=await e.resultsCache;if(r){for(const e of r)yield e;return}const{queryEngine:n}=e.settings;if(!n)throw new Error("".concat(e," has no queryEngine setting"));const i=await t.sparql;if(!i)throw new Error("".concat(e," has no sparql property"));for await(const t of n.execute(i))yield this.extractTerm(t,e)}extractTerm(e,t){if(1!==e.size)throw new Error("Only single-variable queries are supported");const r=e.values().next().value;return t.extendPath({subject:r},null)}},sort:new y("ASC"),sortDesc:new y("DESC"),preload:new class{handle(e,t){return async(...r)=>{if(r.length>0){const n=await Promise.all(r.map(async e=>(await t[e].predicate).value));e.resultsCache=await this.createResultsCache(n,e,t)}return t}}async createResultsCache(e,t,r){const{query:n,vars:i,resultVar:s}=await this.createQuery(e,r),{settings:{queryEngine:a}}=t,o=a.execute(n),u={},c={};for await(const r of o){const n=r.get(s),a=x(n);if(!(a in u)){const r=c[a]={};for(const t of e)r[t]=[];const i={subject:n,propertyCache:r};u[a]=t.extendPath(i,null)}const o=c[a];for(let n=0;n<i.length;n++){const s=r.get(i[n]);if(s){const r=t.extendPath({subject:s},null);o[e[n]].push(r)}}}return Object.values(u)}async createQuery(e,t){const r=await t.sparql,n=E.exec(r);if(!n)throw new Error("Unexpected path query: ".concat(r));const i=n[2],s=e.map((e,t)=>"?preload_".concat(t)),a=e.map((e,t)=>"    { ".concat(i," <").concat(e,"> ").concat(s[t],". }")).join("\n    UNION\n");return{query:r.replace(E,"$1$2 ".concat(s.join(" "))).replace(T,"  OPTIONAL {\n".concat(a,"\n  }\n$&")),vars:s,resultVar:i}}},mutationExpressions:new class{async handle(e){const t=[];let r=e;for(;r;)r.mutationExpressions&&t.unshift(...await r.mutationExpressions),r=r.parent;return t}},add:new class extends f{constructor(){super("INSERT",!1)}},set:new class{handle(e,t){return(...e)=>t.delete().add(...e)}},replace:new class{handle(e,t){return function(e,...r){if(!e||!r.length)throw new Error("Replacing values requires at least two arguments, old value followed by all new values");return t.delete(e).add(...r)}}},delete:new m,termType:d.sync("subject","termType"),value:d.sync("subject","value"),equals:d.sync("subject","equals"),language:d.sync("subject","language"),datatype:d.sync("subject","datatype"),toString:d.syncFunction("subject","value"),toPrimitive:d.syncFunction("subject","value"),resolve:new class{handle(e,t){return(e="",r=t)=>{const n=e.replace(/^(https?:\/\/[^()[\]'"]+)$/,'["$1"]').replace(/^(?=[a-z$_])/i,".").replace(/\[([^'"`\](]*)\]/g,'["$1"]'),i='"use strict";return ldflex'.concat(n);let s;try{s=Function("ldflex",i)}catch({message:t}){throw new Error('Expression "'.concat(e,'" is invalid: ').concat(t))}return s(r)}}}};class A{constructor(e,t){this._settings=e={...e},this._data=t={...t};const r=e.handlers||O;for(const e in r)r[e]=R(r[e]);for(const e of Object.getOwnPropertySymbols(r))r[e]=R(r[e]);const n=(e.resolvers||[]).map(P);e.context?(n.push(new p(e.context)),e.parsedContext=(new s.ContextParser).parse(e.context)):e.context=e.parsedContext={},this._pathProxy=new i({handlers:r,resolvers:n}),delete e.handlers,delete e.resolvers}create(e={},t){return t||([t,e]=[e,null]),this._pathProxy.createPath(Object.assign(Object.create(null),this._settings,e),Object.assign(Object.create(null),this._data,t))}}function R(e){return"function"==typeof e.handle?e:{handle:e}}function P(e){return"function"==typeof e.resolve?e:{supports:I,resolve:e}}function I(){return!0}A.defaultHandlers=O;var j=r(27);const{as:N}=j["@context"];class C{constructor({activitiesPath:e="/public/activities"}={}){this.requireUser=!0,this.activitiesPath=e}handle(e,t){const r=this,{root:n}=t,{settings:{queryEngine:i}}=e;return(e="".concat(N,"Like"))=>h((async function*(){let s;try{s=await n.user}catch(e){if(r.requireUser)throw e;return}const o=await n.user.pim$storage,u=new URL(r.activitiesPath,o||s).href,c=[],l=Object(a.namedNode)(s);e=Object(a.namedNode)(e);for await(const n of t)if("NamedNode"===n.termType){const t={actor:l,type:e,object:n};for await(const e of r.createResults(t,u,i))c.push(e)}for(const e of await r.processResults(c,u,i))yield n[e.value]}))}async processResults(e){return e}}const{termToString:k}=v.prototype;function D(e,t){for(const r in t)e=e.replace(new RegExp("_:".concat(r),"g"),k(t[r]));return e}function M(...e){return{size:e.length,values:()=>({next:()=>({value:e.shift()})})}}const F="SELECT ?activity WHERE {\n  ?activity a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n}\n";var L=r(75),q=r.n(L);const B="_:id a _:type;\n    <https://www.w3.org/ns/activitystreams#actor> _:actor;\n    <https://www.w3.org/ns/activitystreams#object> _:object;\n    <https://www.w3.org/ns/activitystreams#published> _:published.\n",{xsd:U}=j["@context"];const H="SELECT ?subject ?predicate ?object WHERE {\n  ?subject a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n  ?subject ?predicate ?object.\n}\n",z=["?subject","?predicate","?object"];const V=r(210);var Q=class{constructor(e){this._engine=V,this._sources=this.toComunicaSources(e)}execute(e,t){if(e.startsWith("INSERT")||e.startsWith("DELETE"))return this.executeUpdate(e,t);let r;const n=[];return{next:async()=>{if(!r){const i=await(t?this.toComunicaSources(t):this._sources),s=await this._engine.query(e,{sources:i});r=s.bindingsStream,r.on("error",e=>n.push(e))}return new Promise(i)},[Symbol.asyncIterator](){return this}};function i(e,t){if(n.length>0)return t(n.shift());const i=()=>e({done:!0});r.ended?i():(r.once("data",t=>{e({value:t}),r.removeListener("end",i)}),r.on("end",i))}}executeUpdate(e,t){throw new Error(`Comunica does not support SPARQL UPDATE queries, received: ${e}`)}async toComunicaSources(e){let t=await e;return t?(t instanceof URL?t=t.href:"NamedNode"===t.termType&&(t=t.value),"string"==typeof t?t=[t.replace(/#.*/,"")]:Array.isArray(t)?(r=await Promise.all(t.map(this.toComunicaSources)),t=[].concat(...r)):t=t.match?[Object.assign({type:"rdfjsSource"},t)]:[t],t.map(e=>({value:e.value||e,type:e.type}))):null;var r}},G=r(46),X=r.n(G);class $ extends Q{executeUpdate(e,t){let r=!1;return{next:async()=>{if(r)return{done:r};r=!0;const n=await(t?this.toComunicaSources(t):this._sources);if(!n||1!==n.length)throw new Error("Can only update a single source.");const[{value:i}]=n;if(!/^https?:\/\//.test(i))throw new Error("Can only update an HTTP(s) document.");const{ok:s,status:a,statusText:o}=await X.a.fetch(i,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e});if(!s)throw new Error("Update query failed (".concat(a,"): ").concat(o));return await this.clearCache(i),{value:M({ok:s})}},[Symbol.asyncIterator](){return this}}}async clearCache(e){await this._engine.invalidateHttpCache(e)}}class Y{constructor(e,t){this._paths=e,this._source=t}supports(e){return"string"==typeof e}resolve(e){return this._createSubjectPath(Object(a.namedNode)(e))}_createSubjectPath(e){const t=this._source||Promise.resolve(e).catch(()=>null),r=new $(t);return this._paths.create({queryEngine:r},{subject:e})}}const{as:W}=j["@context"],J=new class extends p{constructor(e){super(e);const t=this._exposedContext=Object.create(e["@context"]);Object.defineProperty(t,"extend",{value:(...e)=>this.extendContext(...e)}),Object.defineProperty(t,"then",{value:(e,t)=>this._context.then(e,t)})}handle(){return this._exposedContext}}(j);let K;const Z=new A({handlers:{...O,delete:new class extends m{async extractObjects(e,t,r){const n=await super.extractObjects(e,t,r),i=[];for await(const e of t)"BlankNode"!==e.termType&&i.push(e);return n?i.filter(e=>n.some(t=>t.equals(e))):i}},findActivity:new class extends C{constructor(...e){super(...e),this.requireUser=!1}async*createResults(e,t,r){const n=D(F,e);for await(const e of r.execute(n,t))yield e.values().next().value}},likes:(e,t)=>t.findActivity("".concat(W,"Like")),dislikes:(e,t)=>t.findActivity("".concat(W,"Dislike")),follows:(e,t)=>t.findActivity("".concat(W,"Follow")),createActivity:new class extends C{async*createResults(e,t){const r=Object(a.namedNode)(new URL("#".concat(q()()),t).href);e={id:r,published:Object(a.literal)((new Date).toISOString(),"".concat(U,"dateTime")),...e};const n=D(B,e);yield{id:r,insert:n}}async processResults(e,t,r){const n="INSERT {\n".concat(e.map(e=>e.insert).join(""),"}");return await r.executeUpdate(n,t).next(),e.map(e=>e.id)}},like:(e,t)=>()=>t.createActivity("".concat(W,"Like")),dislike:(e,t)=>()=>t.createActivity("".concat(W,"Dislike")),follow:(e,t)=>()=>t.createActivity("".concat(W,"Follow")),deleteActivity:new class extends C{async*createResults(e,t,r){const n=D(H,e);for await(const e of r.execute(n,t)){const t=z.map(t=>k(e.get(t)));yield"".concat(t.join(" "),".\n")}}async processResults(e,t,r){const n="DELETE {\n".concat(e.join(""),"}");return await r.executeUpdate(n,t).next(),[]}},unlike:(e,t)=>()=>t.deleteActivity("".concat(W,"Like")),undislike:(e,t)=>()=>t.deleteActivity("".concat(W,"Dislike")),unfollow:(e,t)=>()=>t.deleteActivity("".concat(W,"Follow")),root:()=>K},resolvers:[J]});t.default=K=new A({handlers:{...O,from:new class{constructor(e){this._paths=e}handle(){return e=>new A({handlers:{...O},resolvers:[new Y(this._paths,e)]}).create()}}(Z),user:new class extends Y{handle(){const e=this.getWebId().then(a.namedNode);return this._createSubjectPath(e)}async getWebId(){const e=await X.a.currentSession();if(!e)throw new Error("Cannot resolve user path: no user logged in");return e.webId}}(Z),clearCache:({settings:e})=>t=>e.queryEngine.clearCache(t),context:J},resolvers:[new Y(Z)],queryEngine:new $}).create()}]).default;
//# sourceMappingURL=solid-query-ldflex.bundle.js.map