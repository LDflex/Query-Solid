<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>LDflex querying for Solid</title>
  <!-- View this demo with `npm start:demo` -->
  <script src="solid-auth-client.bundle.js"></script>
  <script src="solid-query-ldflex.bundle.js"></script>
</head>
<body>
<pre id="pre">
</pre>
<script>
const times = {};
const pre = document.getElementById("pre");
function time(label) {
  times[label] = Date.now();
}
function timeEnd(label) {
  const delta = Date.now () - times[label];
  pre.innerText += `${label}: ${delta}ms\n`;
}
// console.time = time;
// console.timeEnd = timeEnd;

(async function() {
  let container = solid.data["http://localhost:8080/users.jsonld"];
  await container.ldp_contains;
  for (var i = 0; i < 10; i++) {
    console.time(container.toString())
    for await (const r of container.ldp_contains) {
      await r['rdfs:label']
      await r['http://happy-dev.fr/owl/#username']
      await r['http://happy-dev.fr/owl/#email']
    }
    console.timeEnd(container.toString())
  }
})()


</script>
</body>
</html>
