<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>LDflex querying for Solid</title>
  <!-- View this demo with `npm start:demo` -->
  <script src="solid-auth-client.bundle.js"></script>
  <script src="solid-query-ldflex.bundle.js"></script>
</head>
<body>
<pre id="pre">
</pre>
<script>
const times = {};
const pre = document.getElementById("pre");
function time(label) {
  times[label] = Date.now();
}
function timeEnd(label) {
  const delta = Date.now () - times[label];
  pre.innerText += `${label}: ${delta}ms\n`;
}
// console.time = time;
// console.timeEnd = timeEnd;

(async function() {
  const container = solid.data["https://apiprod.happy-dev.fr/clients/"];
  console.time('total');

  console.time('container');
  const items = container.ldp_contains;
  await container.ldp_contains;
  console.timeEnd('container')

  console.time('preload');
  await items.preload('rdfs:label', "http://happy-dev.fr/owl/#img");
  console.timeEnd('preload')

  for await (const r of items) {
    await r['rdfs:label'];
    await r["http://happy-dev.fr/owl/#img"];
  }

  console.timeEnd('total');
})()


</script>
</body>
</html>
